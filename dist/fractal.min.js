!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.fractalEngine=factory():root.fractalEngine=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};module.exports=_extends({h:__webpack_require__(1)},__webpack_require__(4),__webpack_require__(16),{timetravel:__webpack_require__(62),log:__webpack_require__(75),router:__webpack_require__(76),noChildren:__webpack_require__(89),tasks:{data:__webpack_require__(90),fetch:__webpack_require__(91),socketio:__webpack_require__(92)},drivers:{view:__webpack_require__(93),event:__webpack_require__(100),fetch:__webpack_require__(101),time:__webpack_require__(102),load:__webpack_require__(103),localStorage:__webpack_require__(104),screenInfo:__webpack_require__(105)}},__webpack_require__(52),{data:__webpack_require__(107),css:__webpack_require__(108)})},function(module,exports,__webpack_require__){"use strict";function addNS(data,children){if(data.ns="http://www.w3.org/2000/svg",void 0!==children)for(var i=0;i<children.length;++i)addNS(children[i].data,children[i].children)}var VNode=__webpack_require__(2),is=__webpack_require__(3);module.exports=function(sel,b,c){var children,text,i,data={};if(3===arguments.length?(data=b,is.array(c)?children=c:is.primitive(c)&&(text=c)):2===arguments.length&&(is.array(b)?children=b:is.primitive(b)?text=b:data=b),is.array(children))for(i=0;i<children.length;++i)is.primitive(children[i])&&(children[i]=VNode(void 0,void 0,void 0,children[i]));return"s"===sel[0]&&"v"===sel[1]&&"g"===sel[2]&&addNS(data,children),VNode(sel,data,children,text,void 0)}},function(module,exports){"use strict";module.exports=function(sel,data,children,text,elm){var key=void 0===data?void 0:data.key;return{sel:sel,data:data,children:children,text:text,elm:elm,key:key}}},function(module,exports){"use strict";module.exports={array:Array.isArray,primitive:function(s){return"string"==typeof s||"number"==typeof s}}},function(module,exports,__webpack_require__){"use strict";var R={clone:__webpack_require__(5)},Type=__webpack_require__(10),def=function(moduleDef){var mDef=R.clone(moduleDef);if(mDef.actions){mDef.Action={},mDef.update={};for(var actionName in mDef.actions)mDef.Action[actionName]=mDef.actions[actionName][0],mDef.update[actionName]=mDef.actions[actionName][1]}return mDef.Action=Type(mDef.Action),mDef.update=mDef.Action.caseOn(mDef.update),mDef.inputs||(mDef.inputs={}),mDef.outputNames||(mDef.outputNames=[]),mDef.load||(mDef.load=function(ctx,Action){return{}}),mDef.loadAfter||(mDef.loadAfter=function(ctx,i,Action,md){return md({})}),mDef.mDef=moduleDef,mDef};module.exports={def:def,defineModule:def}},function(module,exports,__webpack_require__){"use strict";var _clone=__webpack_require__(6),_curry1=__webpack_require__(9);module.exports=_curry1(function(value){return null!=value&&"function"==typeof value.clone?value.clone():_clone(value,[],[])})},function(module,exports,__webpack_require__){"use strict";var _cloneRegExp=__webpack_require__(7),type=__webpack_require__(8);module.exports=function _clone(value,refFrom,refTo){var copy=function(copiedValue){for(var len=refFrom.length,idx=0;len>idx;){if(value===refFrom[idx])return refTo[idx];idx+=1}refFrom[idx+1]=value,refTo[idx+1]=copiedValue;for(var key in value)copiedValue[key]=_clone(value[key],refFrom,refTo);return copiedValue};switch(type(value)){case"Object":return copy({});case"Array":return copy([]);case"Date":return new Date(value);case"RegExp":return _cloneRegExp(value);default:return value}}},function(module,exports){"use strict";module.exports=function(pattern){return new RegExp(pattern.source,(pattern.global?"g":"")+(pattern.ignoreCase?"i":"")+(pattern.multiline?"m":"")+(pattern.sticky?"y":"")+(pattern.unicode?"u":""))}},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9);module.exports=_curry1(function(val){return null===val?"Null":void 0===val?"Undefined":Object.prototype.toString.call(val).slice(8,-1)})},function(module,exports){"use strict";module.exports=function(fn){return function f1(a){return 0===arguments.length?f1:null!=a&&a["@@functional/placeholder"]===!0?f1:fn.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";function isString(s){return"string"==typeof s}function isNumber(n){return"number"==typeof n}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isFunction(f){return"function"==typeof f}function Constructor(group,name,validators){validators=validators.map(mapConstrToFn(group));var constructor=curryN(validators.length,function(){for(var v,validator,val=[],i=0;i<arguments.length;++i){if(v=arguments[i],validator=validators[i],!("function"==typeof validator&&validator(v)||void 0!==v&&null!==v&&v.of===validator))throw new TypeError("wrong value "+v+" passed to location "+i+" in "+name);val[i]=arguments[i]}return val.of=group,val.name=name,val});return constructor}function rawCase(type,cases,action,arg){if(type!==action.of)throw new TypeError("wrong type passed to case");var name=action.name in cases?action.name:"_"in cases?"_":void 0;if(void 0===name)throw new Error("unhandled value passed to case");return cases[name].apply(void 0,void 0!==arg?action.concat([arg]):action)}function Type(desc){var obj={};for(var key in desc)obj[key]=Constructor(obj,key,desc[key]);return obj["case"]=typeCase(obj),obj.caseOn=caseOn(obj),obj}var curryN=__webpack_require__(11),isArray=Array.isArray||function(a){return"length"in a},mapConstrToFn=curryN(2,function(group,constr){return constr===String?isString:constr===Number?isNumber:constr===Object?isObject:constr===Array?isArray:constr===Function?isFunction:void 0===constr?group:constr}),typeCase=curryN(3,rawCase),caseOn=curryN(4,rawCase);module.exports=Type},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(12),_curryN=__webpack_require__(14),arity=__webpack_require__(15);module.exports=_curry2(function(length,fn){return arity(length,_curryN(length,[],fn))})},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(13);module.exports=function(fn){return function f2(a,b){var n=arguments.length;return 0===n?f2:1===n&&null!=a&&a["@@functional/placeholder"]===!0?f2:1===n?_curry1(function(b){return fn(a,b)}):2===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=b&&b["@@functional/placeholder"]===!0?f2:2===n&&null!=a&&a["@@functional/placeholder"]===!0?_curry1(function(a){return fn(a,b)}):2===n&&null!=b&&b["@@functional/placeholder"]===!0?_curry1(function(b){return fn(a,b)}):fn(a,b)}}},function(module,exports){"use strict";module.exports=function(fn){return function f1(a){return 0===arguments.length?f1:null!=a&&a["@@functional/placeholder"]===!0?f1:fn(a)}}},function(module,exports,__webpack_require__){"use strict";var arity=__webpack_require__(15);module.exports=function _curryN(length,received,fn){return function(){for(var combined=[],argsIdx=0,left=length,combinedIdx=0;combinedIdx<received.length||argsIdx<arguments.length;){var result;combinedIdx<received.length&&(null==received[combinedIdx]||received[combinedIdx]["@@functional/placeholder"]!==!0||argsIdx>=arguments.length)?result=received[combinedIdx]:(result=arguments[argsIdx],argsIdx+=1),combined[combinedIdx]=result,null!=result&&result["@@functional/placeholder"]===!0||(left-=1),combinedIdx+=1}return 0>=left?fn.apply(this,combined):arity(left,_curryN(length,combined,fn))}}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(12);module.exports=_curry2(function(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to arity must be a non-negative integer no greater than ten")}})},function(module,exports,__webpack_require__){"use strict";var R={pipe:__webpack_require__(17),flip:__webpack_require__(32),equals:__webpack_require__(36)},flyd=__webpack_require__(42),_require=(__webpack_require__(49),__webpack_require__(10),__webpack_require__(50)),Helpers=(_require.logAction,_require.displayFromDiff,_require.diff,__webpack_require__(52)),e=__webpack_require__(61),timetravel=__webpack_require__(62),run=function(engineDef){var ctx=void 0,model$=void 0,driverStreams={},module=void 0,middleUpdatesArr=[],middleware=engineDef.middleware||{};for(var key in middleware)middleUpdatesArr.push(middleware[key]);var middleUpdates=0==middleUpdatesArr.length?function(m){return m}:R.pipe.apply(void 0,middleUpdatesArr),moduleDef=engineDef.timetravel?timetravel(engineDef.root):engineDef.root,attach=function(model){module=Helpers.createContext(moduleDef),ctx=module.ctx,model$=flyd.scan(function(m,a){return middleUpdates(module.update(a,m))},middleUpdates(model?model:module.init({key:"mainModule"})),ctx.action$),flyd.on(function(task){engineDef.tasks[task[0]]&&engineDef.tasks[task[0]].run(task[1])},ctx.task$);var _loop=function(driverName){module.interfaces[driverName]&&(driverStreams[driverName]=flyd.map(function(model){return e("driverExecution",{name:driverName,model:model},function(){return module.interfaces[driverName](model)})},model$),model?engineDef.drivers[driverName].reattach(driverStreams[driverName]):engineDef.drivers[driverName].attach(driverStreams[driverName]))};for(var driverName in engineDef.drivers)_loop(driverName)},dispose=function(){ctx.action$.end(!0),model$.end(!0);for(var driverName in driverStreams)driverStreams[driverName].end(!0),engineDef.drivers[driverName].dispose()},reattach=function(reModule){dispose();var newModel=R.equals(moduleDef.init({key:"mainModule"}),reModule.init({key:"mainModule"}))?model$():reModule.init();moduleDef=reModule,attach(newModel)};return attach(),{ctx:ctx,inputs:module.inputs,tasks:engineDef.tasks,reattach:reattach,dispose:dispose}};module.exports={run:run,createEngine:run}},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(18),_pipe=__webpack_require__(19),reduce=__webpack_require__(20),tail=__webpack_require__(28);module.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))}},function(module,exports){"use strict";module.exports=function(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(module,exports){"use strict";module.exports=function(f,g){return function(){return g.call(this,f.apply(this,arguments))}}},function(module,exports,__webpack_require__){"use strict";var _curry3=__webpack_require__(21),_reduce=__webpack_require__(23);module.exports=_curry3(_reduce)},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9),_curry2=__webpack_require__(22);module.exports=function(fn){return function f3(a,b,c){var n=arguments.length;return 0===n?f3:1===n&&null!=a&&a["@@functional/placeholder"]===!0?f3:1===n?_curry2(function(b,c){return fn(a,b,c)}):2===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=b&&b["@@functional/placeholder"]===!0?f3:2===n&&null!=a&&a["@@functional/placeholder"]===!0?_curry2(function(a,c){return fn(a,b,c)}):2===n&&null!=b&&b["@@functional/placeholder"]===!0?_curry2(function(b,c){return fn(a,b,c)}):2===n?_curry1(function(c){return fn(a,b,c)}):3===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=b&&b["@@functional/placeholder"]===!0&&null!=c&&c["@@functional/placeholder"]===!0?f3:3===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=b&&b["@@functional/placeholder"]===!0?_curry2(function(a,b){return fn(a,b,c)}):3===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=c&&c["@@functional/placeholder"]===!0?_curry2(function(a,c){return fn(a,b,c)}):3===n&&null!=b&&b["@@functional/placeholder"]===!0&&null!=c&&c["@@functional/placeholder"]===!0?_curry2(function(b,c){return fn(a,b,c)}):3===n&&null!=a&&a["@@functional/placeholder"]===!0?_curry1(function(a){return fn(a,b,c)}):3===n&&null!=b&&b["@@functional/placeholder"]===!0?_curry1(function(b){return fn(a,b,c)}):3===n&&null!=c&&c["@@functional/placeholder"]===!0?_curry1(function(c){return fn(a,b,c)}):fn(a,b,c)}}},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9);module.exports=function(fn){return function f2(a,b){var n=arguments.length;return 0===n?f2:1===n&&null!=a&&a["@@functional/placeholder"]===!0?f2:1===n?_curry1(function(b){return fn(a,b)}):2===n&&null!=a&&a["@@functional/placeholder"]===!0&&null!=b&&b["@@functional/placeholder"]===!0?f2:2===n&&null!=a&&a["@@functional/placeholder"]===!0?_curry1(function(a){return fn(a,b)}):2===n&&null!=b&&b["@@functional/placeholder"]===!0?_curry1(function(b){return fn(a,b)}):fn(a,b)}}},function(module,exports,__webpack_require__){"use strict";var _xwrap=__webpack_require__(24),bind=__webpack_require__(25),isArrayLike=__webpack_require__(26);module.exports=function(){function _arrayReduce(xf,acc,list){for(var idx=0,len=list.length;len>idx;){if(acc=xf["@@transducer/step"](acc,list[idx]),acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}idx+=1}return xf["@@transducer/result"](acc)}function _iterableReduce(xf,acc,iter){for(var step=iter.next();!step.done;){if(acc=xf["@@transducer/step"](acc,step.value),acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}step=iter.next()}return xf["@@transducer/result"](acc)}function _methodReduce(xf,acc,obj){return xf["@@transducer/result"](obj.reduce(bind(xf["@@transducer/step"],xf),acc))}var symIterator="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(fn,acc,list){if("function"==typeof fn&&(fn=_xwrap(fn)),isArrayLike(list))return _arrayReduce(fn,acc,list);if("function"==typeof list.reduce)return _methodReduce(fn,acc,list);if(null!=list[symIterator])return _iterableReduce(fn,acc,list[symIterator]());if("function"==typeof list.next)return _iterableReduce(fn,acc,list);throw new TypeError("reduce: list must be array or iterable")}}()},function(module,exports){"use strict";module.exports=function(){function XWrap(fn){this.f=fn}return XWrap.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},XWrap.prototype["@@transducer/result"]=function(acc){return acc},XWrap.prototype["@@transducer/step"]=function(acc,x){return this.f(acc,x)},function(fn){return new XWrap(fn)}}()},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(18),_curry2=__webpack_require__(22);module.exports=_curry2(function(fn,thisObj){return _arity(fn.length,function(){return fn.apply(thisObj,arguments)})})},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9),_isArray=__webpack_require__(27);module.exports=_curry1(function(x){return _isArray(x)?!0:x?"object"!=typeof x?!1:x instanceof String?!1:1===x.nodeType?!!x.length:0===x.length?!0:x.length>0?x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1):!1:!1})},function(module,exports){"use strict";module.exports=Array.isArray||function(val){return null!=val&&val.length>=0&&"[object Array]"===Object.prototype.toString.call(val)}},function(module,exports,__webpack_require__){"use strict";var _checkForMethod=__webpack_require__(29),slice=__webpack_require__(31);module.exports=_checkForMethod("tail",slice(1,1/0))},function(module,exports,__webpack_require__){"use strict";var _isArray=__webpack_require__(27),_slice=__webpack_require__(30);module.exports=function(methodname,fn){return function(){var length=arguments.length;if(0===length)return fn();var obj=arguments[length-1];return _isArray(obj)||"function"!=typeof obj[methodname]?fn.apply(this,arguments):obj[methodname].apply(obj,_slice(arguments,0,length-1))}}},function(module,exports){"use strict";module.exports=function(_x,_x2,_x3){var _arguments=arguments,_again=!0;_function:for(;_again;){var args=_x,from=_x2,to=_x3;switch(_again=!1,_arguments.length){case 1:_arguments=[_x=args,_x2=0,_x3=args.length],_again=!0;continue _function;case 2:_arguments=[_x=args,_x2=from,_x3=args.length],_again=!0;continue _function;default:for(var list=[],idx=0,len=Math.max(0,Math.min(args.length,to)-from);len>idx;)list[idx]=args[from+idx],idx+=1;return list}}}},function(module,exports,__webpack_require__){"use strict";var _checkForMethod=__webpack_require__(29),_curry3=__webpack_require__(21);module.exports=_curry3(_checkForMethod("slice",function(fromIndex,toIndex,list){return Array.prototype.slice.call(list,fromIndex,toIndex)}))},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9),_slice=__webpack_require__(30),curry=__webpack_require__(33);module.exports=_curry1(function(fn){return curry(function(a,b){var args=_slice(arguments);return args[0]=b,args[1]=a,fn.apply(this,args)})})},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9),curryN=__webpack_require__(34);module.exports=_curry1(function(fn){return curryN(fn.length,fn)})},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(18),_curry1=__webpack_require__(9),_curry2=__webpack_require__(22),_curryN=__webpack_require__(35);module.exports=_curry2(function(length,fn){return 1===length?_curry1(fn):_arity(length,_curryN(length,[],fn))})},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(18);module.exports=function _curryN(length,received,fn){return function(){for(var combined=[],argsIdx=0,left=length,combinedIdx=0;combinedIdx<received.length||argsIdx<arguments.length;){var result;combinedIdx<received.length&&(null==received[combinedIdx]||received[combinedIdx]["@@functional/placeholder"]!==!0||argsIdx>=arguments.length)?result=received[combinedIdx]:(result=arguments[argsIdx],argsIdx+=1),combined[combinedIdx]=result,null!=result&&result["@@functional/placeholder"]===!0||(left-=1),combinedIdx+=1}return 0>=left?fn.apply(this,combined):_arity(left,_curryN(length,combined,fn))}}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22),_equals=__webpack_require__(37);module.exports=_curry2(function(a,b){return _equals(a,b,[],[])})},function(module,exports,__webpack_require__){"use strict";var _arrayFromIterator=__webpack_require__(38),_has=__webpack_require__(39),identical=__webpack_require__(40),keys=__webpack_require__(41),type=__webpack_require__(8);module.exports=function _equals(a,b,stackA,stackB){if(identical(a,b))return!0;if(type(a)!==type(b))return!1;if(null==a||null==b)return!1;if("function"==typeof a.equals||"function"==typeof b.equals)return"function"==typeof a.equals&&a.equals(b)&&"function"==typeof b.equals&&b.equals(a);switch(type(a)){case"Arguments":case"Array":case"Object":break;case"Boolean":case"Number":case"String":if(typeof a!=typeof b||!identical(a.valueOf(),b.valueOf()))return!1;break;case"Date":if(!identical(a.valueOf(),b.valueOf()))return!1;break;case"RegExp":if(a.source!==b.source||a.global!==b.global||a.ignoreCase!==b.ignoreCase||a.multiline!==b.multiline||a.sticky!==b.sticky||a.unicode!==b.unicode)return!1;break;case"Map":case"Set":if(!_equals(_arrayFromIterator(a.entries()),_arrayFromIterator(b.entries()),stackA,stackB))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":break;case"ArrayBuffer":break;default:return!1}var keysA=keys(a);if(keysA.length!==keys(b).length)return!1;for(var idx=stackA.length-1;idx>=0;){if(stackA[idx]===a)return stackB[idx]===b;idx-=1}for(stackA.push(a),stackB.push(b),idx=keysA.length-1;idx>=0;){var key=keysA[idx];if(!_has(key,b)||!_equals(b[key],a[key],stackA,stackB))return!1;idx-=1}return stackA.pop(),stackB.pop(),!0}},function(module,exports){"use strict";module.exports=function(iter){for(var next,list=[];!(next=iter.next()).done;)list.push(next.value);return list}},function(module,exports){"use strict";module.exports=function(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22);module.exports=_curry2(function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b})},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9),_has=__webpack_require__(39);module.exports=function(){var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],contains=function(list,item){for(var idx=0;idx<list.length;){if(list[idx]===item)return!0;idx+=1}return!1};return _curry1("function"==typeof Object.keys?function(obj){return Object(obj)!==obj?[]:Object.keys(obj)}:function(obj){if(Object(obj)!==obj)return[];var prop,nIdx,ks=[];for(prop in obj)_has(prop,obj)&&(ks[ks.length]=prop);if(hasEnumBug)for(nIdx=nonEnumerableProps.length-1;nIdx>=0;)prop=nonEnumerableProps[nIdx],_has(prop,obj)&&!contains(ks,prop)&&(ks[ks.length]=prop),nIdx-=1;return ks})}()},function(module,exports,__webpack_require__){"use strict";function isFunction(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)}function trueFn(){return!0}function combine(fn,streams){var i,s,deps,depEndStreams,endStream=createDependentStream([],trueFn);for(deps=[],depEndStreams=[],i=0;i<streams.length;++i)void 0!==streams[i]&&(deps.push(streams[i]),void 0!==streams[i].end&&depEndStreams.push(streams[i].end));return s=createDependentStream(deps,fn),s.depsChanged=[],s.fnArgs=s.deps.concat([s,s.depsChanged]),s.end=endStream,endStream.listeners.push(s),addListeners(depEndStreams,endStream),endStream.deps=depEndStreams,updateStream(s),s}function boundMap(f){return flyd.map(f,this)}function ap(s2){var s1=this;return combine(function(s1,s2,self){self(s1.val(s2.val))},[s1,s2])}function streamToString(){return"stream("+this.val+")"}function createStream(){function s(n){return 0===arguments.length?s.val:(updateStreamValue(s,n),s)}return s.hasVal=!1,s.val=void 0,s.vals=[],s.listeners=[],s.queued=!1,s.end=void 0,s.map=boundMap,s.ap=ap,s.of=flyd.stream,s.toString=streamToString,s}function createDependentStream(deps,fn){var s=createStream();return s.fn=fn,s.deps=deps,s.depsMet=!1,s.depsChanged=deps.length>0?[]:void 0,s.shouldUpdate=!1,addListeners(deps,s),s}function initialDepsNotMet(stream){return stream.depsMet=stream.deps.every(function(s){return s.hasVal}),!stream.depsMet}function updateStream(s){if(!(s.depsMet!==!0&&initialDepsNotMet(s)||void 0!==s.end&&s.end.val===!0)){if(void 0!==inStream)return void toUpdate.push(s);inStream=s,s.depsChanged&&(s.fnArgs[s.fnArgs.length-1]=s.depsChanged);var returnVal=s.fn.apply(s.fn,s.fnArgs);void 0!==returnVal&&s(returnVal),inStream=void 0,void 0!==s.depsChanged&&(s.depsChanged=[]),s.shouldUpdate=!1,flushing===!1&&flushUpdate()}}function updateDeps(s){var i,o,list,listeners=s.listeners;for(i=0;i<listeners.length;++i)list=listeners[i],list.end===s?endStream(list):(void 0!==list.depsChanged&&list.depsChanged.push(s),list.shouldUpdate=!0,findDeps(list));for(;orderNextIdx>=0;--orderNextIdx)o=order[orderNextIdx],o.shouldUpdate===!0&&updateStream(o),o.queued=!1}function findDeps(s){var i,listeners=s.listeners;if(s.queued===!1){for(s.queued=!0,i=0;i<listeners.length;++i)findDeps(listeners[i]);order[++orderNextIdx]=s}}function flushUpdate(){for(flushing=!0;toUpdate.length>0;){var s=toUpdate.shift();s.vals.length>0&&(s.val=s.vals.shift()),updateDeps(s)}flushing=!1}function updateStreamValue(s,n){return void 0!==n&&null!==n&&isFunction(n.then)?void n.then(s):(s.val=n,s.hasVal=!0,void(void 0===inStream?(flushing=!0,updateDeps(s),toUpdate.length>0?flushUpdate():flushing=!1):inStream===s?markListeners(s,s.listeners):(s.vals.push(n),toUpdate.push(s))))}function markListeners(s,lists){var i,list;for(i=0;i<lists.length;++i)list=lists[i],list.end!==s?(void 0!==list.depsChanged&&list.depsChanged.push(s),list.shouldUpdate=!0):endStream(list)}function addListeners(deps,s){for(var i=0;i<deps.length;++i)deps[i].listeners.push(s)}function removeListener(s,listeners){var idx=listeners.indexOf(s);listeners[idx]=listeners[listeners.length-1],listeners.length--}function detachDeps(s){for(var i=0;i<s.deps.length;++i)removeListener(s,s.deps[i].listeners);s.deps.length=0}function endStream(s){void 0!==s.deps&&detachDeps(s),void 0!==s.end&&detachDeps(s.end)}function StreamTransformer(){}var inStream,curryN=__webpack_require__(43),toUpdate=[],order=[],orderNextIdx=-1,flushing=!1,flyd={};flyd.stream=function(initialValue){var endStream=createDependentStream([],trueFn),s=createStream();return s.end=endStream,s.fnArgs=[],endStream.listeners.push(s),arguments.length>0&&s(initialValue),s},flyd.combine=curryN(2,combine),flyd.isStream=function(stream){return isFunction(stream)&&"hasVal"in stream},flyd.immediate=function(s){return s.depsMet===!1&&(s.depsMet=!0,updateStream(s)),s},flyd.endsOn=function(endS,s){return detachDeps(s.end),endS.listeners.push(s.end),s.end.deps.push(endS),s},flyd.map=curryN(2,function(f,s){return combine(function(s,self){self(f(s.val))},[s])}),flyd.on=curryN(2,function(f,s){return combine(function(s){f(s.val)},[s])}),flyd.scan=curryN(3,function(f,acc,s){var ns=combine(function(s,self){self(acc=f(acc,s.val))},[s]);return ns.hasVal||ns(acc),ns}),flyd.merge=curryN(2,function(s1,s2){var s=flyd.immediate(combine(function(s1,s2,self,changed){changed[0]?self(changed[0]()):s1.hasVal?self(s1.val):s2.hasVal&&self(s2.val)},[s1,s2]));return flyd.endsOn(combine(function(){return!0},[s1.end,s2.end]),s),s}),flyd.transduce=curryN(2,function(xform,source){return xform=xform(new StreamTransformer),combine(function(source,self){var res=xform["@@transducer/step"](void 0,source.val);return res&&res["@@transducer/reduced"]===!0?(self.end(!0),res["@@transducer/value"]):res},[source])}),flyd.curryN=curryN,StreamTransformer.prototype["@@transducer/init"]=function(){},StreamTransformer.prototype["@@transducer/result"]=function(){},StreamTransformer.prototype["@@transducer/step"]=function(s,v){return v},module.exports=flyd},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(44),_curry1=__webpack_require__(45),_curry2=__webpack_require__(47),_curryN=__webpack_require__(48);module.exports=_curry2(function(length,fn){return 1===length?_curry1(fn):_arity(length,_curryN(length,[],fn))})},function(module,exports){"use strict";module.exports=function(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(module,exports,__webpack_require__){"use strict";var _isPlaceholder=__webpack_require__(46);module.exports=function(fn){return function f1(a){return 0===arguments.length||_isPlaceholder(a)?f1:fn.apply(this,arguments)}}},function(module,exports){"use strict";module.exports=function(a){return null!=a&&"object"==typeof a&&a["@@functional/placeholder"]===!0}},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(45),_isPlaceholder=__webpack_require__(46);module.exports=function(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b)});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b)}):fn(a,b)}}}},function(module,exports,__webpack_require__){"use strict";var _arity=__webpack_require__(44),_isPlaceholder=__webpack_require__(46);module.exports=function _curryN(length,received,fn){return function(){for(var combined=[],argsIdx=0,left=length,combinedIdx=0;combinedIdx<received.length||argsIdx<arguments.length;){var result;combinedIdx<received.length&&(!_isPlaceholder(received[combinedIdx])||argsIdx>=arguments.length)?result=received[combinedIdx]:(result=arguments[argsIdx],argsIdx+=1),combined[combinedIdx]=result,_isPlaceholder(result)||(left-=1),combinedIdx+=1}return 0>=left?fn.apply(this,combined):_arity(left,_curryN(length,combined,fn))}}},function(module,exports,__webpack_require__){"use strict";var flyd=__webpack_require__(42);module.exports=function(streams){var s=flyd.immediate(flyd.combine(function(){var self=arguments[arguments.length-2];return arguments[arguments.length-1][0]?void self(arguments[arguments.length-1][0]()):void[].slice.call(arguments,0,arguments.length-2).some(function(s1){return s1.hasVal?(self(s1.val),!0):void 0})},streams));return flyd.endsOn(flyd.combine(function(){return!0},streams.map(function(sm){return sm.end})),s),s}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(51),diff=_require.diff,prettyAction=function(action){for(var path=[],nested=action;void 0!=nested[nested.length-1]&&void 0!=nested[nested.length-1].of;){if(0==nested.length)path.push(nested.name);else{for(var _name="",i=0;i<nested.length-1;i++)_name+=nested[i]+" ";
path.push(nested.name+" "+_name)}nested=nested[nested.length-1]}return path.push(nested.name),path.join(" -> ")+" : "+(nested[0]?nested[0]:"none")},prettyDiff=function(diffArray){diffArray=diffArray||[];var logs=[];return diffArray.forEach(function(diff){var getType=function(diff){return"N"==diff.kind?"added":"D"==diff.kind?"deleted":"E"==diff.kind?"edited":"A"==diff.kind?"array":void 0},type=getType(diff);"array"==type?logs.push(type+" "+diff.path.join(".")+" : index "+diff.index+" "+getType(diff.item)):logs.push(type+" "+diff.path.join(".")+" : "+diff.lhs+" -> "+diff.rhs)}),logs},logAction=function(action){return console.log("%c"+prettyAction(action),"color: green")},displayFromDiff=function(diffArray){prettyDiff(diffArray).forEach(function(log){return console.log("%c"+log,"color: darkblue")})};module.exports={logAction:logAction,displayFromDiff:displayFromDiff,prettyDiff:prettyDiff,prettyAction:prettyAction,diff:diff}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global){/*!
	 * deep-diff.
	 * Licensed under the MIT License.
	 */
"use strict";!function(root,factory){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return factory()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(void 0,function(undefined){function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}function Diff(kind,path){Object.defineProperty(this,"kind",{value:kind,enumerable:!0}),path&&path.length&&Object.defineProperty(this,"path",{value:path,enumerable:!0})}function DiffEdit(path,origin,value){DiffEdit.super_.call(this,"E",path),Object.defineProperty(this,"lhs",{value:origin,enumerable:!0}),Object.defineProperty(this,"rhs",{value:value,enumerable:!0})}function DiffNew(path,value){DiffNew.super_.call(this,"N",path),Object.defineProperty(this,"rhs",{value:value,enumerable:!0})}function DiffDeleted(path,value){DiffDeleted.super_.call(this,"D",path),Object.defineProperty(this,"lhs",{value:value,enumerable:!0})}function DiffArray(path,index,item){DiffArray.super_.call(this,"A",path),Object.defineProperty(this,"index",{value:index,enumerable:!0}),Object.defineProperty(this,"item",{value:item,enumerable:!0})}function arrayRemove(arr,from,to){var rest=arr.slice((to||from)+1||arr.length);return arr.length=0>from?arr.length+from:from,arr.push.apply(arr,rest),arr}function realTypeOf(subject){var type=typeof subject;return"object"!==type?type:subject===Math?"math":null===subject?"null":Array.isArray(subject)?"array":"[object Date]"===Object.prototype.toString.call(subject)?"date":"undefined"!=typeof subject.toString&&/^\/.*\//.test(subject.toString())?"regexp":"object"}function deepDiff(lhs,rhs,changes,prefilter,path,key,stack){path=path||[];var currentPath=path.slice(0);if("undefined"!=typeof key){if(prefilter){if("function"==typeof prefilter&&prefilter(currentPath,key))return;if("object"==typeof prefilter){if(prefilter.prefilter&&prefilter.prefilter(currentPath,key))return;if(prefilter.normalize){var alt=prefilter.normalize(currentPath,key,lhs,rhs);alt&&(lhs=alt[0],rhs=alt[1])}}}currentPath.push(key)}"regexp"===realTypeOf(lhs)&&"regexp"===realTypeOf(rhs)&&(lhs=lhs.toString(),rhs=rhs.toString());var ltype=typeof lhs,rtype=typeof rhs;if("undefined"===ltype)"undefined"!==rtype&&changes(new DiffNew(currentPath,rhs));else if("undefined"===rtype)changes(new DiffDeleted(currentPath,lhs));else if(realTypeOf(lhs)!==realTypeOf(rhs))changes(new DiffEdit(currentPath,lhs,rhs));else if("[object Date]"===Object.prototype.toString.call(lhs)&&"[object Date]"===Object.prototype.toString.call(rhs)&&lhs-rhs!==0)changes(new DiffEdit(currentPath,lhs,rhs));else if("object"===ltype&&null!==lhs&&null!==rhs){if(stack=stack||[],stack.indexOf(lhs)<0){if(stack.push(lhs),Array.isArray(lhs)){var i;lhs.length;for(i=0;i<lhs.length;i++)i>=rhs.length?changes(new DiffArray(currentPath,i,new DiffDeleted(undefined,lhs[i]))):deepDiff(lhs[i],rhs[i],changes,prefilter,currentPath,i,stack);for(;i<rhs.length;)changes(new DiffArray(currentPath,i,new DiffNew(undefined,rhs[i++])))}else{var akeys=Object.keys(lhs),pkeys=Object.keys(rhs);akeys.forEach(function(k,i){var other=pkeys.indexOf(k);other>=0?(deepDiff(lhs[k],rhs[k],changes,prefilter,currentPath,k,stack),pkeys=arrayRemove(pkeys,other)):deepDiff(lhs[k],undefined,changes,prefilter,currentPath,k,stack)}),pkeys.forEach(function(k){deepDiff(undefined,rhs[k],changes,prefilter,currentPath,k,stack)})}stack.length=stack.length-1}}else lhs!==rhs&&("number"===ltype&&isNaN(lhs)&&isNaN(rhs)||changes(new DiffEdit(currentPath,lhs,rhs)))}function accumulateDiff(lhs,rhs,prefilter,accum){return accum=accum||[],deepDiff(lhs,rhs,function(diff){diff&&accum.push(diff)},prefilter),accum.length?accum:undefined}function applyArrayChange(arr,index,change){if(change.path&&change.path.length){var i,it=arr[index],u=change.path.length-1;for(i=0;u>i;i++)it=it[change.path[i]];switch(change.kind){case"A":applyArrayChange(it[change.path[i]],change.index,change.item);break;case"D":delete it[change.path[i]];break;case"E":case"N":it[change.path[i]]=change.rhs}}else switch(change.kind){case"A":applyArrayChange(arr[index],change.index,change.item);break;case"D":arr=arrayRemove(arr,index);break;case"E":case"N":arr[index]=change.rhs}return arr}function applyChange(target,source,change){if(target&&source&&change&&change.kind){for(var it=target,i=-1,last=change.path?change.path.length-1:0;++i<last;)"undefined"==typeof it[change.path[i]]&&(it[change.path[i]]="number"==typeof change.path[i]?[]:{}),it=it[change.path[i]];switch(change.kind){case"A":applyArrayChange(change.path?it[change.path[i]]:it,change.index,change.item);break;case"D":delete it[change.path[i]];break;case"E":case"N":it[change.path[i]]=change.rhs}}}function revertArrayChange(arr,index,change){if(change.path&&change.path.length){var i,it=arr[index],u=change.path.length-1;for(i=0;u>i;i++)it=it[change.path[i]];switch(change.kind){case"A":revertArrayChange(it[change.path[i]],change.index,change.item);break;case"D":it[change.path[i]]=change.lhs;break;case"E":it[change.path[i]]=change.lhs;break;case"N":delete it[change.path[i]]}}else switch(change.kind){case"A":revertArrayChange(arr[index],change.index,change.item);break;case"D":arr[index]=change.lhs;break;case"E":arr[index]=change.lhs;break;case"N":arr=arrayRemove(arr,index)}return arr}function revertChange(target,source,change){if(target&&source&&change&&change.kind){var i,u,it=target;for(u=change.path.length-1,i=0;u>i;i++)"undefined"==typeof it[change.path[i]]&&(it[change.path[i]]={}),it=it[change.path[i]];switch(change.kind){case"A":revertArrayChange(it[change.path[i]],change.index,change.item);break;case"D":it[change.path[i]]=change.lhs;break;case"E":it[change.path[i]]=change.lhs;break;case"N":delete it[change.path[i]]}}}function applyDiff(target,source,filter){if(target&&source){var onChange=function(change){filter&&!filter(target,source,change)||applyChange(target,source,change)};deepDiff(target,source,onChange)}}var $scope,conflict,conflictResolution=[];return $scope="object"==typeof global&&global?global:"undefined"!=typeof window?window:{},conflict=$scope.DeepDiff,conflict&&conflictResolution.push(function(){"undefined"!=typeof conflict&&$scope.DeepDiff===accumulateDiff&&($scope.DeepDiff=conflict,conflict=undefined)}),inherits(DiffEdit,Diff),inherits(DiffNew,Diff),inherits(DiffDeleted,Diff),inherits(DiffArray,Diff),Object.defineProperties(accumulateDiff,{diff:{value:accumulateDiff,enumerable:!0},observableDiff:{value:deepDiff,enumerable:!0},applyDiff:{value:applyDiff,enumerable:!0},applyChange:{value:applyChange,enumerable:!0},revertChange:{value:revertChange,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof conflict},enumerable:!0},noConflict:{value:function(){return conflictResolution&&(conflictResolution.forEach(function(it){it()}),conflictResolution=null),accumulateDiff},enumerable:!0}}),accumulateDiff})}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},R={mapObjIndexed:__webpack_require__(53),clone:__webpack_require__(5),map:__webpack_require__(54),merge:__webpack_require__(60),curryN:__webpack_require__(34),equals:__webpack_require__(36)},flyd=__webpack_require__(42),connectInterface=function(md,name,model,connections){return md.interfaces[name]?createContext(md,connections).interfaces[name](model):{}},mergeModels=function(mds){var obj={};for(var key in mds)obj[key]=mds[key].root.init(_extends({key:key},mds[key]));return obj},mergeChilds=function(childs,md,scope,interfaceName,connections){var objs={};return R.mapObjIndexed(function(model,idx){R.mapObjIndexed(function(obj,name){objs[scope+idx+"_"+name]=obj},connectInterface(md,interfaceName,model,connections(+idx)))},childs),objs},mergeChild=function(model,md,scope,interfaceName,connections){var objs={};return R.mapObjIndexed(function(obj,name){objs[scope+"_"+name]=obj},connectInterface(md,interfaceName,model,connections)),objs},createContext=function(mDefinition,connections){var mDef=R.clone(mDefinition),ctx={action$:flyd.stream(),task$:flyd.stream()};for(var idx in mDef.outputNames)ctx[mDef.outputNames[idx]]=flyd.stream();for(var idx in connections)ctx[idx]&&flyd.on(connections[idx],ctx[idx]);var inputs=R.map(function(i){return R.curryN(i.length,function(){var tasks=i.apply(void 0,arguments);void 0!=tasks&&(tasks instanceof Array&&void 0==tasks.of&&("string"!=typeof tasks[0]||!tasks[1]||"object"!=typeof tasks[1].of)?tasks.forEach(function(t){R.equals(t.of,mDef.Action)?ctx.action$(t):ctx.task$(t)}):R.equals(tasks.of,mDef.Action)?ctx.action$(tasks):tasks instanceof Array&&ctx.task$(tasks))})(ctx,mDef.Action)},mDef.inputs);ctx._md=mDef.load(ctx,inputs,mDef.Action)||{};for(var name in ctx._md)flyd.on(ctx.task$,ctx._md[name].ctx.task$);var md=function(mds){for(var name in mds)flyd.on(ctx.task$,mds[name].ctx.task$);ctx._md=R.merge(ctx._md,mds)};return setTimeout(function(){return mDef.loadAfter(ctx,inputs,mDef.Action,md)},0),mDef.interfaces=R.map(function(i){return R.curryN(3,i)(ctx)(inputs)},mDef.interfaces),_extends({},mDef,{ctx:ctx,inputs:inputs})},mergeChildList=function(ctx,rootModel,childNames){var f=arguments.length<=3||void 0===arguments[3]?function(x){return x}:arguments[3];return R.map(function(name){return f(ctx._md[name].interfaces.view(rootModel[name]))},childNames)},mapObjToArray=function(fn,obj){var arr=[];for(var key in obj)arr.push(fn(obj[key],key));return arr};module.exports={createContext:createContext,mergeModels:mergeModels,mergeChild:mergeChild,mergeChilds:mergeChilds,mergeChildList:mergeChildList,connectInterface:connectInterface,mapObjToArray:mapObjToArray}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22),_reduce=__webpack_require__(23),keys=__webpack_require__(41);module.exports=_curry2(function(fn,obj){return _reduce(function(acc,key){return acc[key]=fn(obj[key],key,obj),acc},{},keys(obj))})},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22),_dispatchable=__webpack_require__(55),_map=__webpack_require__(57),_reduce=__webpack_require__(23),_xmap=__webpack_require__(58),curryN=__webpack_require__(34),keys=__webpack_require__(41);module.exports=_curry2(_dispatchable("map",_xmap,function(fn,functor){switch(Object.prototype.toString.call(functor)){case"[object Function]":return curryN(functor.length,function(){return fn.call(this,functor.apply(this,arguments))});case"[object Object]":return _reduce(function(acc,key){return acc[key]=fn(functor[key]),acc},{},keys(functor));default:return _map(fn,functor)}}))},function(module,exports,__webpack_require__){"use strict";var _isArray=__webpack_require__(27),_isTransformer=__webpack_require__(56),_slice=__webpack_require__(30);module.exports=function(methodname,xf,fn){return function(){var length=arguments.length;if(0===length)return fn();var obj=arguments[length-1];if(!_isArray(obj)){var args=_slice(arguments,0,length-1);if("function"==typeof obj[methodname])return obj[methodname].apply(obj,args);if(_isTransformer(obj)){var transducer=xf.apply(null,args);return transducer(obj)}}return fn.apply(this,arguments)}}},function(module,exports){"use strict";module.exports=function(obj){return"function"==typeof obj["@@transducer/step"]}},function(module,exports){"use strict";module.exports=function(fn,functor){for(var idx=0,len=functor.length,result=Array(len);len>idx;)result[idx]=fn(functor[idx]),idx+=1;return result}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22),_xfBase=__webpack_require__(59);module.exports=function(){function XMap(f,xf){this.xf=xf,this.f=f}return XMap.prototype["@@transducer/init"]=_xfBase.init,XMap.prototype["@@transducer/result"]=_xfBase.result,XMap.prototype["@@transducer/step"]=function(result,input){return this.xf["@@transducer/step"](result,this.f(input))},_curry2(function(f,xf){return new XMap(f,xf)})}()},function(module,exports){"use strict";module.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(_result){return this.xf["@@transducer/result"](_result)}}},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22),keys=__webpack_require__(41);module.exports=_curry2(function(a,b){for(var result={},ks=keys(a),idx=0;idx<ks.length;)result[ks[idx]]=a[ks[idx]],idx+=1;for(ks=keys(b),idx=0;idx<ks.length;)result[ks[idx]]=b[ks[idx]],idx+=1;return result})},function(module,exports){"use strict";module.exports=function(type,info,fn){return fn()}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},R={T:__webpack_require__(63),evolve:__webpack_require__(65),not:__webpack_require__(66),always:__webpack_require__(64),F:__webpack_require__(67),inc:__webpack_require__(68),ifElse:__webpack_require__(70),update:__webpack_require__(71),append:__webpack_require__(74),mapObjIndexed:__webpack_require__(53)},h=__webpack_require__(1),F=_extends({},__webpack_require__(4),__webpack_require__(52)),_require=__webpack_require__(50),logAction=_require.logAction,displayFromDiff=_require.displayFromDiff,diff=_require.diff,timetravel=function(child){var log=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return F.def({init:function(){return{time:0,active:!0,playing:!1,frameTime:0,opened:!1,state:child.init(),history:[{state:child.init(),timestamp:(new Date).getTime()}]}},inputs:{toggleTimeTravel:function(ctx,Action,_){return ctx.action$(Action.ToggleTimeTravel())},setTime:function(ctx,Action,time){return ctx.action$(Action.SetTime(time))},childAction:function(ctx,Action,a){return ctx.action$(Action.ChildAction(a))},setActive:function(ctx,Action,bool){return ctx.action$(Action.SetActive(bool))},clearHistory:function(ctx,Action,_){return ctx.action$(Action.ClearHistory())},play:function(ctx,Action,playing){return ctx.action$(Action.Play(playing))},frame:function(ctx,Action,_){return ctx.action$(Action.Frame())}},load:function(ctx,i,Action){return{child:F.createContext(child,{action$:m.active?i.childAction:function(a){log&&logAction(a)}})}},Action:{ToggleTimeTravel:[],Frame:[],Play:[R.T],SetActive:[R.T],SetTime:[Number],ClearHistory:[],ChildAction:[Array]},update:{ToggleTimeTravel:R.evolve({opened:R.not}),SetActive:function(bool,m){return R.evolve({active:R.always(bool)},m)},SetTime:function(time,m){var validTime=time;time>=m.history.length?validTime=m.history.length-1:0>time&&(validTime=0);var nextState=m.history[validTime].state;return log&&(displayFromDiff(diff(m.state,nextState)),console.log(nextState)),R.evolve({active:R.F,state:R.always(nextState),time:R.always(validTime)},m)},ClearHistory:function(m){var step=R.evolve({timestamp:R.always((new Date).getTime())},m.history[m.time]);return R.evolve({time:R.always(0),state:R.always(step.state),history:R.always([step])},m)},ChildAction:function(action,m){var evolveFn=R.evolve({state:child.update(action),timestamp:R.always((new Date).getTime())},m.history[m.time]);log&&(logAction(action),displayFromDiff(diff(m.state,evolveFn.state)),console.log(evolveFn.state));var newModel=R.evolve({time:R.inc,state:R.always(evolveFn.state),history:R.ifElse(function(h){return!!h[m.time+1]},R.update(m.time+1,evolveFn),R.append(evolveFn))},m);return 2==newModel.history.length&&(newModel.history[0].timestamp=newModel.history[1].timestamp),newModel},Play:function(playing,m){return playing&&m.time!=m.history.length-1?R.evolve({active:R.F,playing:R.T,frameTime:R.always(m.history[m.time+1].timestamp-m.history[m.time].timestamp)},m):R.evolve({active:R.F,playing:R.F},m)},Frame:function(m){if(m.time!=m.history.length-1){var frameTime=m.time<m.history.length-2?R.always(m.history[m.time+2].timestamp-m.history[m.time+1].timestamp):R.always(0),nextState=m.history[m.time+1].state;return log&&(displayFromDiff(diff(m.state,nextState)),console.log(nextState)),R.evolve({active:R.F,time:R.inc,playing:frameTime>=0,state:R.always(nextState),frameTime:frameTime},m)}return R.evolve({active:R.F,playing:R.F},m)}},interfaces:{view:function(ctx,i,m){return h("div",{style:{width:"100%",height:"100%",overflow:"auto"}},[ctx._md.child.interfaces.view(m.history[m.time].state),h("button",{style:styles.toggleButton,on:{click:i.toggleTimeTravel}},"tt"),h("footer",{style:_extends({},styles.base,{display:m.opened?"flex":"none"})},[h("div",{style:styles.controls},[h("button",{style:styles.button,on:{click:function(){return i.setTime(m.time-1)}}},"Back"),h("button",{style:styles.button,on:{click:function(){return i.setTime(m.time+1)}}},"Forward"),h("button",{style:styles.button,on:{click:function(){return i.setActive(!m.active)}}},m.active?"Pause":"Unpause"),h("button",{style:styles.button,on:{click:function(){return i.clearHistory(void 0)}}},"Clear history"),h("button",{style:styles.button,on:{click:function(){return i.play(!m.playing)}}},m.playing?"Pause replay":"Replay"),h("span",{style:styles.time},m.time)]),h("input",{style:styles.slider,props:{type:"range",max:m.history.length-1,min:0,value:m.time},on:{input:function(ev){return i.setTime(parseInt(ev.target.value))}}})])])},time:function(ctx,i,m){return _extends({timer:{periodic:!1,active:m.playing,time:m.frameTime,on:i.frame}},function(){var timers={};return child.interfaces.time&&R.mapObjIndexed(function(obj,name){timers["child"+name]=obj,m.active||(timers["child"+name].active=!1)},ctx._md.child.interfaces.time(m.history[m.time].state)),timers}())},fetch:function(ctx,i,m){return _extends({},function(){var fetches={};return child.interfaces.fetch&&R.mapObjIndexed(function(obj,name){fetches["child"+name]=obj,m.active||(fetches["child"+name].active=!1)},ctx._md.child.interfaces.fetch(m.history[m.time].state)),fetches}())}}})};module.exports=timetravel;var styles={base:{position:"fixed",width:"100%",minHeight:"100px",bottom:"0px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",zIndex:"99999"},toggleButton:{position:"fixed",bottom:"0px",left:"0px",zIndex:"10000"},controls:{width:"100%",minHeight:"30px","margin-bottom":"5px",display:"flex",flexWrap:"wrap","justify-content":"space-around"},time:{"float":"right"},slider:{width:"90%"}}},function(module,exports,__webpack_require__){"use strict";var always=__webpack_require__(64);module.exports=always(!0)},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9);module.exports=_curry1(function(val){return function(){return val}})},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22);module.exports=_curry2(function evolve(transformations,object){var transformation,key,type,result={};for(key in object)transformation=transformations[key],type=typeof transformation,result[key]="function"===type?transformation(object[key]):"object"===type?evolve(transformations[key],object[key]):object[key];return result})},function(module,exports,__webpack_require__){"use strict";var _curry1=__webpack_require__(9);module.exports=_curry1(function(a){return!a})},function(module,exports,__webpack_require__){"use strict";var always=__webpack_require__(64);module.exports=always(!1)},function(module,exports,__webpack_require__){"use strict";var add=__webpack_require__(69);module.exports=add(1)},function(module,exports,__webpack_require__){"use strict";var _curry2=__webpack_require__(22);module.exports=_curry2(function(a,b){return a+b})},function(module,exports,__webpack_require__){"use strict";var _curry3=__webpack_require__(21),curryN=__webpack_require__(34);module.exports=_curry3(function(condition,onTrue,onFalse){return curryN(Math.max(condition.length,onTrue.length,onFalse.length),function(){return condition.apply(this,arguments)?onTrue.apply(this,arguments):onFalse.apply(this,arguments)})})},function(module,exports,__webpack_require__){"use strict";var _curry3=__webpack_require__(21),adjust=__webpack_require__(72),always=__webpack_require__(64);module.exports=_curry3(function(idx,x,list){return adjust(always(x),idx,list)})},function(module,exports,__webpack_require__){"use strict";var _concat=__webpack_require__(73),_curry3=__webpack_require__(21);module.exports=_curry3(function(fn,idx,list){if(idx>=list.length||idx<-list.length)return list;var start=0>idx?list.length:0,_idx=start+idx,_list=_concat(list);return _list[_idx]=fn(list[_idx]),_list})},function(module,exports){"use strict";module.exports=function(set1,set2){set1=set1||[],set2=set2||[];var idx,len1=set1.length,len2=set2.length,result=[];for(idx=0;len1>idx;)result[result.length]=set1[idx],idx+=1;for(idx=0;len2>idx;)result[result.length]=set2[idx],idx+=1;return result}},function(module,exports,__webpack_require__){"use strict";var _concat=__webpack_require__(73),_curry2=__webpack_require__(22);module.exports=_curry2(function(el,list){return _concat(list,[el])})},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},F=_extends({},__webpack_require__(4),__webpack_require__(52)),_require=__webpack_require__(50),logAction=_require.logAction,displayFromDiff=_require.displayFromDiff,diff=_require.diff,log=function(child){var interfaces={},_loop=function(_name){interfaces[_name]=function(ctx,i,m){return ctx._md.child.interfaces[_name](m)}};for(var _name in child.interfaces)_loop(_name);return F.def({init:child.init,inputs:_extends({childActionLOGER1234:function(ctx,Action,action){return Action.ChildActionLOGER1234(action)}},child.mDef.inputs),outputNames:child.outputNames,load:function(ctx,i,Action){var connections={};return child.outputNames.forEach(function(conn){return connections[conn]=ctx[conn]}),{child:F.createContext(child,_extends({action$:i.childActionLOGER1234},connections))}},loadAfter:child.mDef.loadAfter,Action:_extends({ChildActionLOGER1234:[Array]},child.mDef.Action),update:_extends({},child.mDef.update,{ChildActionLOGER1234:function(action,m){var newModel=child.update(action,m);return logAction(action),displayFromDiff(diff(m,newModel)),console.log(newModel),newModel}}),interfaces:interfaces})};module.exports=log},function(module,exports,__webpack_require__){"use strict";__webpack_require__(77),__webpack_require__(83);module.exports=function(){}},function(module,exports,__webpack_require__){(function(global){"use strict";var URL=__webpack_require__(78),EventEmitter=__webpack_require__(82).EventEmitter,instance=null,location=window.history.location||window.location;module.exports=function(){if(instance)return instance;var eventEmitter=new EventEmitter;eventEmitter.addEventListener=eventEmitter.addListener,eventEmitter.removeEventListener=eventEmitter.removeListener;var initialUrl=location.href,uri=URL(initialUrl),origin=uri.protocol+"//"+uri.host,isPreventingDefault=!1,doReplace=!1,prevUrl="",isEmitting=!1,setSyncUrl=!1,emitChange=function(url,event){eventEmitter.emit("change",{preventDefault:function(){event&&event.preventDefault(),isPreventingDefault=!0},target:{value:url?origin+url:location.href}})},onUrlChange=function(type){return function(event){location.href!==prevUrl&&("/"===location.href[location.href.length-1]&&(doReplace=!0),isEmitting=!0,emitChange(),isEmitting=!1,!setSyncUrl&&isPreventingDefault&&history.replaceState({},"",(prevUrl||initialUrl).replace(origin,"")),prevUrl=location.href,isPreventingDefault=!1,setSyncUrl=!1,doReplace=!1)}};"complete"!==document.readyState?global.addEventListener("load",function(){setTimeout(function(){global.addEventListener("popstate",onUrlChange("pop"),!1)},0)},!1):global.addEventListener("popstate",onUrlChange("pop"),!1),Object.defineProperty(eventEmitter,"value",{get:function(){return location.href},set:function(value){"string"!=typeof value&&(doReplace=Boolean(value.replace),value=value.value),isEmitting&&(setSyncUrl=!0),-1===value.indexOf(origin)&&(value=origin+value),value!==location.href&&(doReplace?(history.replaceState({},"",value.replace(origin,"")),doReplace=!1):history.pushState({},"",value.replace(origin,"")),prevUrl=location.href,isPreventingDefault=!1)}}),Object.defineProperty(eventEmitter,"origin",{get:function(){var uri=URL(location.href);return uri.protocol+"//"+uri.host}}),Object.defineProperty(eventEmitter,"protocol",{get:function(){return URL(location.href).protocol}}),Object.defineProperty(eventEmitter,"port",{get:function(){return URL(location.href).port}}),Object.defineProperty(eventEmitter,"hostname",{get:function(){return URL(location.href).hostname}}),Object.defineProperty(eventEmitter,"pathname",{get:function(){return URL(location.href).pathname}}),Object.defineProperty(eventEmitter,"hash",{get:function(){return URL(location.href).hash}});var isSameOrigin=function(href){return href&&0===href.indexOf(origin)},getClickedHref=function(event){if(1!==(null===event.which?event.button:event.which))return!1;if(event.metaKey||event.ctrlKey||event.shiftKey)return!1;if(event.defaultPrevented)return!1;for(var element=event.target;element&&"A"!==element.nodeName;)element=element.parentNode;if(!element||"A"!==element.nodeName)return!1;if(element.hasAttribute("download")||"external"===element.getAttribute("rel"))return!1;var href=element.getAttribute("href");return href&&href.indexOf("mailto:")>-1?!1:element.target?!1:isSameOrigin(element.href)?href:!1};return global.addEventListener(document.ontouchstart?"touchstart":"click",function(event){var href=getClickedHref(event);href&&(isEmitting=!0,emitChange(href,event),isEmitting=!1,prevUrl=href,isPreventingDefault=!1)}),instance=eventEmitter,eventEmitter}()}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";function extractProtocol(address){var match=protocolre.exec(address);return{protocol:match[1]?match[1].toLowerCase():"",slashes:!!match[2],rest:match[3]?match[3]:""}}function URL(address,location,parser){if(!(this instanceof URL))return new URL(address,location,parser);var parse,instruction,index,key,relative=relativere.test(address),type=typeof location,url=this,i=0;"object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),location=lolcation(location);var extracted=extractProtocol(address);for(url.protocol=extracted.protocol||location.protocol||"",url.slashes=extracted.slashes||location.slashes,address=extracted.rest;i<instructions.length;i++)instruction=instructions[i],parse=instruction[0],key=instruction[1],parse!==parse?url[key]=address:"string"==typeof parse?~(index=address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,address.length-index[0].length)),url[key]=url[key]||(instruction[3]||"port"===key&&relative?location[key]||"":""),instruction[4]&&(url[key]=url[key].toLowerCase());parser&&(url.query=parser(url.query)),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(instruction=url.auth.split(":"),url.username=instruction[0]||"",url.password=instruction[1]||""),url.href=url.toString()}var required=__webpack_require__(79),lolcation=__webpack_require__(80),qs=__webpack_require__(81),relativere=/^\/(?!\/)/,protocolre=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,instructions=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];URL.prototype.set=function(part,value,fn){var url=this;return"query"===part?("string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value):"port"===part?(url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="")):"hostname"===part?(url[part]=value,url.port&&(value+=":"+url.port),url.host=value):"host"===part?(url[part]=value,/\:\d+/.test(value)&&(value=value.split(":"),url.hostname=value[0],url.port=value[1])):"protocol"===part?(url.protocol=value,url.slashes=!fn):url[part]=value,url.href=url.toString(),url},URL.prototype.toString=function(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.slashes?"//":"");return url.username&&(result+=url.username,url.password&&(result+=":"+url.password),result+="@"),result+=url.hostname,url.port&&(result+=":"+url.port),result+=url.pathname,query="object"==typeof url.query?stringify(url.query):url.query,query&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result},URL.qs=qs,URL.location=lolcation,module.exports=URL},function(module,exports){"use strict";module.exports=function(port,protocol){if(protocol=protocol.split(":")[0],port=+port,!port)return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},function(module,exports,__webpack_require__){(function(global){"use strict";var URL,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ignore={hash:1,query:1};module.exports=function(loc){loc=loc||global.location||{},URL=URL||__webpack_require__(78);var key,finaldestination={},type=typeof loc;if("blob:"===loc.protocol)finaldestination=new URL(unescape(loc.pathname),{});else if("string"===type){finaldestination=new URL(loc,{});for(key in ignore)delete finaldestination[key]}else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}}).call(exports,function(){return this}())},function(module,exports){"use strict";function querystring(query){for(var part,parser=/([^=?&]+)=([^&]*)/g,result={};part=parser.exec(query);result[decodeURIComponent(part[1])]=decodeURIComponent(part[2]));return result}function querystringify(obj,prefix){prefix=prefix||"";var pairs=[];"string"!=typeof prefix&&(prefix="?");for(var key in obj)has.call(obj,key)&&pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]));return pairs.length?prefix+pairs.join("&"):""}var has=Object.prototype.hasOwnProperty;exports.stringify=querystringify,exports.parse=querystring},function(module,exports){"use strict";function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){
case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){"use strict";var mapper=__webpack_require__(84),compileRoute=__webpack_require__(85);module.exports=function(options){return mapper(compileRoute,options)}},function(module,exports){"use strict";module.exports=function(compileFn,options){function getCompiledRoute(route){return cache[route]||(cache[route]=compileFn(route,options)),cache[route]}function parse(route,url){if(arguments.length<2)throw new Error("URL Mapper - parse method expects 2 arguments");return getCompiledRoute(route).parse(url)}function stringify(route,values){if(arguments.length<2)throw new Error("URL Mapper - stringify method expects 2 arguments");return getCompiledRoute(route).stringify(values)}function map(url,routes){if(arguments.length<2)throw new Error("URL Mapper - map method expects 2 arguments");for(var route in routes){var compiled=getCompiledRoute(route),values=compiled.parse(url);if(values){var match=routes[route];return{route:route,match:match,values:values}}}}if("function"!=typeof compileFn)throw new Error("URL Mapper - function to compile a route expected as first argument");options=options||{};var cache={};return{parse:parse,stringify:stringify,map:map}}},function(module,exports,__webpack_require__){"use strict";function compileRoute(route,options){var re,compiled,keys=[],querySeparator=options.querySeparator||"?";return re=pathToRegexp(route,keys),keys=keys.map(function(key){return key.name.toString()}),compiled=pathToRegexp.compile(route),{parse:function(url){var path=url,result={};if(~path.indexOf("#")&&!~querySeparator.indexOf("#")&&(path=path.split("#")[0]),~path.indexOf(querySeparator)){if(options.query){var queryString="_"+path.slice(path.indexOf(querySeparator)+querySeparator.length);result=URLON.parse(queryString)}path=path.split(querySeparator)[0]}var match=re.exec(path);if(!match)return null;for(var i=1;i<match.length;++i){var key=keys[i-1],value=decodeURIComponent(match[i]);":"===value[0]?result[key]=URLON.parse(value):result[key]=value}return result},stringify:function(values){var pathParams={},queryParams={};Object.keys(values).forEach(function(key){if(~keys.indexOf(key))switch(typeof values[key]){case"boolean":case"number":pathParams[key]=URLON.stringify(values[key]);break;case"object":throw new Error("URL Mapper - objects are not allowed to be stringified as part of path");default:pathParams[key]=values[key]}else"undefined"!=typeof values[key]&&(queryParams[key]=values[key])});var path=compiled(pathParams),queryString="";return options.query&&Object.keys(queryParams).length&&(queryString=querySeparator+URLON.stringify(queryParams).slice(1)),path+queryString}}}var URLON=__webpack_require__(86),pathToRegexp=__webpack_require__(87);module.exports=compileRoute},function(module,exports,__webpack_require__){"use strict";var URLON={stringify:function stringify(input){function encodeString(str){return encodeURI(str.replace(/([=:&@_;\/])/g,"/$1"))}function stringify(input){if("number"==typeof input||input===!0||input===!1||null===input)return":"+input;if(input instanceof Array){for(var res=[],i=0;i<input.length;++i)res.push(stringify(input[i]));return"@"+res.join("&")+";"}if("object"==typeof input){var res=[];for(var key in input)res.push(encodeString(key)+stringify(input[key]));return"_"+res.join("&")+";"}return"="+encodeString((null!==input?void 0!==input?input:"undefined":"null").toString())}return stringify(input).replace(/;+$/g,"")},parse:function parse(str){function read(){for(var token="";pos!==str.length;++pos){if("/"===str.charAt(pos)){if(pos+=1,pos===str.length){token+=";";break}}else if(str.charAt(pos).match(/[=:&@_;]/))break;token+=str.charAt(pos)}return token}function parse(){var type=str.charAt(pos++);if("="===type)return read();if(":"===type){var value=read();return"true"===value?!0:"false"===value?!1:(value=parseFloat(value),isNaN(value)?null:value)}if("@"===type){var res=[];loop:if(!(pos>=str.length||";"===str.charAt(pos)))for(;;){if(res.push(parse()),pos>=str.length||";"===str.charAt(pos))break loop;pos+=1}return pos+=1,res}if("_"===type){var res={};loop:if(!(pos>=str.length||";"===str.charAt(pos)))for(;;){var name=read();if(res[name]=parse(),pos>=str.length||";"===str.charAt(pos))break loop;pos+=1}return pos+=1,res}throw"Unexpected char "+type}var pos=0;return str=decodeURI(str),parse()}};exports.stringify=URLON.stringify,exports.parse=URLON.parse},function(module,exports,__webpack_require__){"use strict";function parse(str){for(var res,tokens=[],key=0,index=0,path="";null!=(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1];else{var next=str[index],prefix=res[2],name=res[3],capture=res[4],group=res[5],modifier=res[6],asterisk=res[7];path&&(tokens.push(path),path="");var partial=null!=prefix&&null!=next&&next!==prefix,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=res[2]||"/",pattern=capture||group||(asterisk?".*":"[^"+delimiter+"]+?");tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,asterisk:!!asterisk,pattern:escapeGroup(pattern)})}}return index<str.length&&(path+=str.substr(index)),path&&tokens.push(path),tokens}function compile(str){return tokensToFunction(parse(str))}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"==typeof tokens[i]&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$"));return function(obj,opts){for(var path="",data=obj||{},options=opts||{},encode=options.pretty?encodeURIComponentPretty:encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data[token.name];if(null==value){if(token.optional){token.partial&&(path+=token.prefix);continue}throw new TypeError('Expected "'+token.name+'" to be defined')}if(isarray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`");if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j]),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`");path+=(0===j?token.prefix:token.delimiter)+segment}}else{if(segment=token.asterisk?encodeAsterisk(value):encode(value),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){return re.keys=keys,re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){for(var tokens=parse(path),re=tokensToRegExp(tokens,options),i=0;i<tokens.length;i++)"string"!=typeof tokens[i]&&keys.push(tokens[i]);return attachKeys(re,keys)}function tokensToRegExp(tokens,options){options=options||{};for(var strict=options.strict,end=options.end!==!1,route="",lastToken=tokens[tokens.length-1],endsWithSlash="string"==typeof lastToken&&/\/$/.test(lastToken),i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var prefix=escapeString(token.prefix),capture="(?:"+token.pattern+")";token.repeat&&(capture+="(?:"+prefix+capture+")*"),capture=token.optional?token.partial?prefix+"("+capture+")?":"(?:"+prefix+"("+capture+"))?":prefix+"("+capture+")",route+=capture}}return strict||(route=(endsWithSlash?route.slice(0,-2):route)+"(?:\\/(?=$))?"),route+=end?"$":strict&&endsWithSlash?"":"(?=\\/|$)",new RegExp("^"+route,flags(options))}function pathToRegexp(path,keys,options){return keys=keys||[],isarray(keys)?options||(options={}):(options=keys,keys=[]),path instanceof RegExp?regexpToRegexp(path,keys):isarray(path)?arrayToRegexp(path,keys,options):stringToRegexp(path,keys,options)}var isarray=__webpack_require__(88);module.exports=pathToRegexp,module.exports.parse=parse,module.exports.compile=compile,module.exports.tokensToFunction=tokensToFunction,module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(module,exports){"use strict";module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},F=_extends({},__webpack_require__(4),__webpack_require__(52)),h=__webpack_require__(1);module.exports=F.def({init:function(_ref){var key=_ref.key;return{key:key}},inputs:{},actions:{},interfaces:{view:function(ctx,i,m){return h("div","There are no children")}}})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(10),R={T:__webpack_require__(63)};module.exports={types:Type({emit:[String,R.T,R.T]}),task:function(emitData){var taskFn=this.types.caseOn({emit:function(key,value,_ref){var _ref$success=_ref.success,success=void 0===_ref$success?function(){return 0}:_ref$success,_ref$error=_ref.error,error=void 0===_ref$error?function(){return 0}:_ref$error;emitData(key,value,success,error)}});return{run:function(task){taskFn(task,"")},get:{}}}}},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(10);({T:__webpack_require__(63)});module.exports={types:Type({fetch:[Object]}),task:function(){var taskFn=this.types.caseOn({fetch:function(obj){return fetchObj(obj)}});return{run:function(obj){return taskFn(obj,"")},get:{}}}};var fetchObj=function(obj){var handled=!1,status=function(response){return response.status>=200&&response.status<300?(handled=!0,Promise.resolve(response)):(401==response.status||403==response.status?obj.denied(response.status):obj.error(response.status),handled=!0,Promise.reject(new Error(response.statusText)))};return obj.denied=obj.denied||function(){return 0},obj.error=obj.error||function(){return 0},obj.netError=obj.netError||function(){return 0},fetch(obj.url,obj.options).then(status).then(obj.response).then(obj.success)["catch"](function(err){handled||obj.netError(err)})}},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(10),R={T:__webpack_require__(63)};module.exports={types:Type({emit:[String,R.T]}),task:function(socket,cb){var taskFn=this.types.caseOn({emit:function(channel,message){socket.emit(channel,message)}});return cb&&cb(socket),{run:function(task){taskFn(task,"")},get:socket}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flyd=__webpack_require__(42),h=__webpack_require__(1),patch=__webpack_require__(94).init([__webpack_require__(95),__webpack_require__(96),__webpack_require__(97),__webpack_require__(98),__webpack_require__(99)]),viewDriver=function(selector){var patchfn=arguments.length<=1||void 0===arguments[1]?patch:arguments[1],lastContainer=void 0,renderer$=void 0;return{attach:function(vnode$){window.addEventListener("DOMContentLoaded",function(){var container=document.querySelector(selector);renderer$=flyd.scan(patchfn,container,vnode$.map(function(vnode){return h("div"+selector,[vnode])}))})},reattach:function(vnode$){lastContainer=patchfn(document.querySelector(selector),h("div"+selector)),renderer$=flyd.scan(patchfn,lastContainer,vnode$.map(function(vnode){return h("div"+selector,[vnode])}))},dispose:function(){renderer$.end(!0)}}};exports["default"]=viewDriver,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function isUndef(s){return void 0===s}function isDef(s){return void 0!==s}function emptyNodeAt(elm){return VNode(elm.tagName,{},[],void 0,elm)}function sameVnode(vnode1,vnode2){return vnode1.key===vnode2.key&&vnode1.sel===vnode2.sel}function createKeyToOldIdx(children,beginIdx,endIdx){var i,key,map={};for(i=beginIdx;endIdx>=i;++i)key=children[i].key,isDef(key)&&(map[key]=i);return map}function createRmCb(childElm,listeners){return function(){0===--listeners&&childElm.parentElement.removeChild(childElm)}}function init(modules){function createElm(vnode,insertedVnodeQueue){var i,data=vnode.data;isDef(data)&&(isDef(i=data.hook)&&isDef(i=i.init)&&i(vnode),isDef(i=data.vnode)&&(vnode=i));var elm,children=vnode.children,sel=vnode.sel;if(isDef(sel)){var hashIdx=sel.indexOf("#"),dotIdx=sel.indexOf(".",hashIdx),hash=hashIdx>0?hashIdx:sel.length,dot=dotIdx>0?dotIdx:sel.length,tag=-1!==hashIdx||-1!==dotIdx?sel.slice(0,Math.min(hash,dot)):sel;if(elm=vnode.elm=isDef(data)&&isDef(i=data.ns)?document.createElementNS(i,tag):document.createElement(tag),dot>hash&&(elm.id=sel.slice(hash+1,dot)),dotIdx>0&&(elm.className=sel.slice(dot+1).replace(/\./g," ")),is.array(children))for(i=0;i<children.length;++i)elm.appendChild(createElm(children[i],insertedVnodeQueue));else is.primitive(vnode.text)&&elm.appendChild(document.createTextNode(vnode.text));for(i=0;i<cbs.create.length;++i)cbs.create[i](emptyNode,vnode);i=vnode.data.hook,isDef(i)&&(i.create&&i.create(emptyNode,vnode),i.insert&&insertedVnodeQueue.push(vnode))}else elm=vnode.elm=document.createTextNode(vnode.text);return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx,insertedVnodeQueue){for(;endIdx>=startIdx;++startIdx)parentElm.insertBefore(createElm(vnodes[startIdx],insertedVnodeQueue),before)}function invokeDestroyHook(vnode){var j,i=vnode.data;if(isDef(i)){for(isDef(i=i.hook)&&isDef(i=i.destroy)&&i(vnode),i=0;i<cbs.destroy.length;++i)cbs.destroy[i](vnode);if(isDef(i=vnode.children))for(j=0;j<vnode.children.length;++j)invokeDestroyHook(vnode.children[j])}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;endIdx>=startIdx;++startIdx){var i,listeners,rm,ch=vnodes[startIdx];if(isDef(ch))if(isDef(ch.sel)){for(invokeDestroyHook(ch),listeners=cbs.remove.length+1,rm=createRmCb(ch.elm,listeners),i=0;i<cbs.remove.length;++i)cbs.remove[i](ch,rm);isDef(i=ch.data)&&isDef(i=i.hook)&&isDef(i=i.remove)?i(ch,rm):rm()}else parentElm.removeChild(ch.elm)}}function updateChildren(parentElm,oldCh,newCh,insertedVnodeQueue){for(var oldKeyToIdx,idxInOld,elmToMove,before,oldStartIdx=0,newStartIdx=0,oldEndIdx=oldCh.length-1,oldStartVnode=oldCh[0],oldEndVnode=oldCh[oldEndIdx],newEndIdx=newCh.length-1,newStartVnode=newCh[0],newEndVnode=newCh[newEndIdx];oldEndIdx>=oldStartIdx&&newEndIdx>=newStartIdx;)isUndef(oldStartVnode)?oldStartVnode=oldCh[++oldStartIdx]:isUndef(oldEndVnode)?oldEndVnode=oldCh[--oldEndIdx]:sameVnode(oldStartVnode,newStartVnode)?(patchVnode(oldStartVnode,newStartVnode,insertedVnodeQueue),oldStartVnode=oldCh[++oldStartIdx],newStartVnode=newCh[++newStartIdx]):sameVnode(oldEndVnode,newEndVnode)?(patchVnode(oldEndVnode,newEndVnode,insertedVnodeQueue),oldEndVnode=oldCh[--oldEndIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldStartVnode,newEndVnode)?(patchVnode(oldStartVnode,newEndVnode,insertedVnodeQueue),parentElm.insertBefore(oldStartVnode.elm,oldEndVnode.elm.nextSibling),oldStartVnode=oldCh[++oldStartIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldEndVnode,newStartVnode)?(patchVnode(oldEndVnode,newStartVnode,insertedVnodeQueue),parentElm.insertBefore(oldEndVnode.elm,oldStartVnode.elm),oldEndVnode=oldCh[--oldEndIdx],newStartVnode=newCh[++newStartIdx]):(isUndef(oldKeyToIdx)&&(oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx)),idxInOld=oldKeyToIdx[newStartVnode.key],isUndef(idxInOld)?(parentElm.insertBefore(createElm(newStartVnode,insertedVnodeQueue),oldStartVnode.elm),newStartVnode=newCh[++newStartIdx]):(elmToMove=oldCh[idxInOld],patchVnode(elmToMove,newStartVnode,insertedVnodeQueue),oldCh[idxInOld]=void 0,parentElm.insertBefore(elmToMove.elm,oldStartVnode.elm),newStartVnode=newCh[++newStartIdx]));oldStartIdx>oldEndIdx?(before=isUndef(newCh[newEndIdx+1])?null:newCh[newEndIdx+1].elm,addVnodes(parentElm,before,newCh,newStartIdx,newEndIdx,insertedVnodeQueue)):newStartIdx>newEndIdx&&removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx)}function patchVnode(oldVnode,vnode,insertedVnodeQueue){var i,hook;isDef(i=vnode.data)&&isDef(hook=i.hook)&&isDef(i=hook.prepatch)&&i(oldVnode,vnode),isDef(i=oldVnode.data)&&isDef(i=i.vnode)&&(oldVnode=i),isDef(i=vnode.data)&&isDef(i=i.vnode)&&(vnode=i);var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;if(oldVnode!==vnode){if(isDef(vnode.data)){for(i=0;i<cbs.update.length;++i)cbs.update[i](oldVnode,vnode);i=vnode.data.hook,isDef(i)&&isDef(i=i.update)&&i(oldVnode,vnode)}isUndef(vnode.text)?isDef(oldCh)&&isDef(ch)?oldCh!==ch&&updateChildren(elm,oldCh,ch,insertedVnodeQueue):isDef(ch)?addVnodes(elm,null,ch,0,ch.length-1,insertedVnodeQueue):isDef(oldCh)&&removeVnodes(elm,oldCh,0,oldCh.length-1):oldVnode.text!==vnode.text&&(elm.textContent=vnode.text),isDef(hook)&&isDef(i=hook.postpatch)&&i(oldVnode,vnode)}}var i,j,cbs={};for(i=0;i<hooks.length;++i)for(cbs[hooks[i]]=[],j=0;j<modules.length;++j)void 0!==modules[j][hooks[i]]&&cbs[hooks[i]].push(modules[j][hooks[i]]);return function(oldVnode,vnode){var i,insertedVnodeQueue=[];for(i=0;i<cbs.pre.length;++i)cbs.pre[i]();for(oldVnode instanceof Element?null!==oldVnode.parentElement?(createElm(vnode,insertedVnodeQueue),oldVnode.parentElement.replaceChild(vnode.elm,oldVnode)):(oldVnode=emptyNodeAt(oldVnode),patchVnode(oldVnode,vnode,insertedVnodeQueue)):patchVnode(oldVnode,vnode,insertedVnodeQueue),i=0;i<insertedVnodeQueue.length;++i)insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);for(i=0;i<cbs.post.length;++i)cbs.post[i]();return vnode}}var VNode=__webpack_require__(2),is=__webpack_require__(3),emptyNode=VNode("",{},[],void 0,void 0),hooks=["create","update","remove","destroy","pre","post"];module.exports={init:init}},function(module,exports){"use strict";function updateClass(oldVnode,vnode){var cur,name,elm=vnode.elm,oldClass=oldVnode.data["class"]||{},klass=vnode.data["class"]||{};for(name in klass)cur=klass[name],cur!==oldClass[name]&&elm.classList[cur?"add":"remove"](name)}module.exports={create:updateClass,update:updateClass}},function(module,exports){"use strict";function updateAttrs(oldVnode,vnode){var key,cur,old,elm=vnode.elm,oldAttrs=oldVnode.data.attrs||{},attrs=vnode.data.attrs||{};for(key in attrs)cur=attrs[key],old=oldAttrs[key],old!==cur&&(!cur&&booleanAttrsDict[key]?elm.removeAttribute(key):elm.setAttribute(key,cur));for(key in oldAttrs)key in attrs||elm.removeAttribute(key)}for(var booleanAttrs=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],booleanAttrsDict={},i=0,len=booleanAttrs.length;len>i;i++)booleanAttrsDict[booleanAttrs[i]]=!0;module.exports={create:updateAttrs,update:updateAttrs}},function(module,exports){"use strict";function updateProps(oldVnode,vnode){var key,cur,old,elm=vnode.elm,oldProps=oldVnode.data.props||{},props=vnode.data.props||{};for(key in props)cur=props[key],old=oldProps[key],old!==cur&&(elm[key]=cur)}module.exports={create:updateProps,update:updateProps}},function(module,exports,__webpack_require__){"use strict";function arrInvoker(arr){return function(){2===arr.length?arr[0](arr[1]):arr[0].apply(void 0,arr.slice(1))}}function fnInvoker(o){return function(ev){o.fn(ev)}}function updateEventListeners(oldVnode,vnode){var name,cur,old,elm=vnode.elm,oldOn=oldVnode.data.on||{},on=vnode.data.on;if(on)for(name in on)if(cur=on[name],old=oldOn[name],void 0===old)is.array(cur)?elm.addEventListener(name,arrInvoker(cur)):(cur={fn:cur},on[name]=cur,elm.addEventListener(name,fnInvoker(cur)));else if(is.array(old)){old.length=cur.length;for(var i=0;i<old.length;++i)old[i]=cur[i];on[name]=old}else old.fn=cur,on[name]=old}var is=__webpack_require__(3);module.exports={create:updateEventListeners,update:updateEventListeners}},function(module,exports){"use strict";function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}function updateStyle(oldVnode,vnode){var cur,name,elm=vnode.elm,oldStyle=oldVnode.data.style||{},style=vnode.data.style||{},oldHasDel="delayed"in oldStyle;for(name in style)if(cur=style[name],"delayed"===name)for(name in style.delayed)cur=style.delayed[name],oldHasDel&&cur===oldStyle.delayed[name]||setNextFrame(elm.style,name,cur);else"remove"!==name&&cur!==oldStyle[name]&&(elm.style[name]=cur)}function applyDestroyStyle(vnode){var style,name,elm=vnode.elm,s=vnode.data.style;if(s&&(style=s.destroy))for(name in style)elm.style[name]=style[name]}function applyRemoveStyle(vnode,rm){var s=vnode.data.style;if(!s||!s.remove)return void rm();var name,compStyle,elm=vnode.elm,i=0,style=s.remove,amount=0,applied=[];for(name in style)applied.push(name),elm.style[name]=style[name];compStyle=getComputedStyle(elm);for(var props=compStyle["transition-property"].split(", ");i<props.length;++i)-1!==applied.indexOf(props[i])&&amount++;elm.addEventListener("transitionend",function(ev){ev.target===elm&&--amount,0===amount&&rm()})}var raf=requestAnimationFrame||setTimeout,nextFrame=function(fn){raf(function(){raf(fn)})};module.exports={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle}},function(module,exports,__webpack_require__){"use strict";var flyd=__webpack_require__(42);module.exports=function(cb){return{listener$:null,attach:function(event$){this.listener$=flyd.on(cb,event$)},reattach:function(event$){this.listener$=flyd.on(cb,event$)},dispose:function(){this.listener$.end(!0)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flyd=__webpack_require__(42),fetchDriver=function(){return{listener$:null,attach:function(fetch$){this.listener$=flyd.scan(function(lastList,list){var newList={};for(var key in list)newList[key]=function(lastObj,obj){return!lastObj&&obj.active||lastObj&&obj&&obj.active&&obj.active!=lastObj.active?(fetchObj(obj),{active:!0}):{active:obj.active}}(lastList[key],list[key]);return newList},{},fetch$)},reattach:function(fetch$){this.listener$=flyd.scan(function(lastList,list){var newList={};for(var key in list)newList[key]=function(lastObj,obj){return!lastObj&&obj.active||lastObj&&obj&&obj.active&&obj.active!=lastObj.active?(fetchObj(obj),{active:!0}):{active:obj.active}}(lastList[key],list[key]);return newList},this.listener$(),fetch$)},dispose:function(){this.listener$.end(!0)}}};exports["default"]=fetchDriver;var fetchObj=function(obj){var handled=!1,status=function(response){return response.status>=200&&response.status<300?(handled=!0,Promise.resolve(response)):(401==response.status||403==response.status?obj.denied(response.status):obj.error(response.status),handled=!0,Promise.reject(new Error(response.statusText)))};obj.denied=obj.denied||function(){return 0},obj.error=obj.error||function(){return 0},obj.netError=obj.netError||function(){return 0},fetch(obj.url,obj.options).then(status).then(obj.response).then(obj.success)["catch"](function(err){handled||obj.netError(err)})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var R={mapObjIndexed:__webpack_require__(53)},flyd=__webpack_require__(42),timerPatch=function(timeData,obj){var id=timeData.id;return obj.periodic?obj.active&&obj.active!=timeData.active?id=setInterval(function(){return obj.on(timeData)},obj.time):obj.active||obj.active==timeData.active?obj.time!=timeData.time?(clearInterval(id),id=setInterval(function(){return obj.on(timeData)},obj.time)):id&&obj.periodic!=timeData.periodic&&(clearTimeout(id),id=setInterval(function(){return obj.on(timeData)},obj.time)):(clearInterval(id),id=null):obj.active&&obj.active!=timeData.active?id=setTimeout(function(){return obj.on(timeData)},obj.time):obj.active||obj.active==timeData.active?obj.time!=timeData.time?(clearTimeout(id),id=setTimeout(function(){return obj.on(timeData)},obj.time)):obj.periodic!=timeData.periodic&&(clearInterval(id),id=setTimeout(function(){return obj.on(timeData)},obj.time)):(clearTimeout(id),id=null),{id:id,periodic:obj.periodic,active:obj.active,time:obj.time,on:obj.on,state:obj.state}},timerListPatch=function(lastList,list){for(var name in lastList)list[name]||(lastList[name].periodic?clearInterval(lastList[name].id):clearTimeout(lastList[name].id));return R.mapObjIndexed(function(obj,name){return timerPatch(lastList[name]||{},obj)},list)},timeDriver=function(){return{listener$:null,attach:function(time$){this.listener$=flyd.scan(timerListPatch,{},time$)},reattach:function(time$){this.listener$=flyd.scan(timerListPatch,{},time$)},dispose:function(){this.listener$.end(!0)}}};exports["default"]=timeDriver,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flyd=__webpack_require__(42),viewDriver=function(){return{attach:function(vnode$){flyd.on(function(f){f(),vnode$.end(!0)},vnode$)},reattach:function(vnode$){},dispose:function(){}}};exports["default"]=viewDriver,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flyd=__webpack_require__(42),localStorageDriver=function(name){var listener$=void 0;return{attach:function(data$){listener$=flyd.on(function(data){localStorage.setItem(name,JSON.stringify(data))},data$)},reattach:function(data$){listener$.end(!0),listener$=flyd.on(function(data){localStorage.setItem(name,JSON.stringify(data))},data$)},dispose:function(){localStorage.removeItem(name),listener$.end(!0)}}};exports["default"]=localStorageDriver,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flyd=__webpack_require__(42),_require=__webpack_require__(106),screenInfo=_require.screenInfo,screenInfoDriver=function(){return{listener$:null,screenListener:null,attach:function(screen$){var _this=this;this.listener$=flyd.on(function(list){_this.screenListener=function(){var info=screenInfo();for(var key in list)list[key].on(info)},window.addEventListener("resize",_this.screenListener)},screen$)},reattach:function(screen$){var _this2=this;this.listener$=flyd.on(function(list){_this2.screenListener=function(){var info=screenInfo();for(var key in list)list[key].on(info)},window.addEventListener("resize",_this2.screenListener)},screen$)},dispose:function(){this.listener$.end(!0),window.removeEventListener("resize",this.screenListener),this.screenListener=null}}};exports["default"]=screenInfoDriver,module.exports=exports["default"]},function(module,exports){"use strict";var screenSize=function(){return{width:!!window&&(window.innerWidth||document.body.clientWidth)||1024,height:!!window&&(window.innerHeight||document.body.clientHeight)||768}},types=["xs","sm","md","lg"],screenInfo=function(){var _screenSize=screenSize(),width=_screenSize.width,height=_screenSize.height,size=width>=1200?4:width>=992?3:width>=768?2:1;return{size:size,type:types[size-1],
isLandscape:width>=height,isPortrait:height>width}};module.exports={screenSize:screenSize,screenInfo:screenInfo}},function(module,exports){"use strict";var fetchObj=function(obj){var handled=!1,status=function(response){return response.status>=200&&response.status<300?(handled=!0,Promise.resolve(response)):(401==response.status||403==response.status?obj.error("denied",response.status):obj.error("error",response.status),handled=!0,Promise.reject(new Error(response.statusText)))};return fetch(obj.url,obj.options).then(status).then(obj.response).then(obj.success)["catch"](function(err){handled||obj.error("netError",err)})},fetchAll=function(objs,success){var promiseArray=objs.map(function(obj,i){var handled=!1,status=function(response){return response.status>=200&&response.status<300?(handled=!0,Promise.resolve(response)):(401==response.status||403==response.status?obj.error("denied",response.status):obj.error("error",response.status),handled=!0,Promise.reject(new Error(response.statusText)))};return fetch(obj.url,obj.options).then(status).then(obj.response)});return Promise.all(promiseArray).then(success)};module.exports={fetch:fetchObj,fetchAll:fetchAll}},function(module,exports){"use strict";var noSelectable={"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"};module.exports={noSelectable:noSelectable}}])});