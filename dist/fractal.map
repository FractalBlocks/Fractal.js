{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e5b787edb3cc331bac4d","webpack:///./lib/index.js","webpack:///./lib/core.js","webpack:///./lib/utils/style.js","webpack:///./~/free-style/dist/free-style.js","webpack:///./~/process/browser.js","webpack:///./~/union-type/union-type.js","webpack:///./~/union-type/~/ramda/src/curryN.js","webpack:///./~/union-type/~/ramda/src/internal/_curry2.js","webpack:///./~/union-type/~/ramda/src/internal/_curry1.js","webpack:///./~/union-type/~/ramda/src/internal/_curryN.js","webpack:///./~/union-type/~/ramda/src/arity.js","webpack:///./lib/utils/composing.js","webpack:///./~/flyd/lib/index.js","webpack:///./~/flyd/~/ramda/src/curryN.js","webpack:///./~/flyd/~/ramda/src/internal/_arity.js","webpack:///./~/flyd/~/ramda/src/internal/_curry1.js","webpack:///./~/flyd/~/ramda/src/internal/_isPlaceholder.js","webpack:///./~/flyd/~/ramda/src/internal/_curry2.js","webpack:///./~/flyd/~/ramda/src/internal/_curryN.js","webpack:///./~/ramda/src/mapObjIndexed.js","webpack:///./~/ramda/src/internal/_curry2.js","webpack:///./~/ramda/src/internal/_curry1.js","webpack:///./~/ramda/src/internal/_reduce.js","webpack:///./~/ramda/src/internal/_xwrap.js","webpack:///./~/ramda/src/bind.js","webpack:///./~/ramda/src/internal/_arity.js","webpack:///./~/ramda/src/isArrayLike.js","webpack:///./~/ramda/src/internal/_isArray.js","webpack:///./~/ramda/src/keys.js","webpack:///./~/ramda/src/internal/_has.js","webpack:///./~/ramda/src/clone.js","webpack:///./~/ramda/src/internal/_clone.js","webpack:///./~/ramda/src/internal/_cloneRegExp.js","webpack:///./~/ramda/src/type.js","webpack:///./~/ramda/src/map.js","webpack:///./~/ramda/src/internal/_dispatchable.js","webpack:///./~/ramda/src/internal/_isTransformer.js","webpack:///./~/ramda/src/internal/_slice.js","webpack:///./~/ramda/src/internal/_map.js","webpack:///./~/ramda/src/internal/_xmap.js","webpack:///./~/ramda/src/internal/_xfBase.js","webpack:///./~/ramda/src/curryN.js","webpack:///./~/ramda/src/internal/_curryN.js","webpack:///./~/ramda/src/merge.js","webpack:///./~/ramda/src/equals.js","webpack:///./~/ramda/src/internal/_equals.js","webpack:///./~/ramda/src/internal/_arrayFromIterator.js","webpack:///./~/ramda/src/identical.js","webpack:///./~/ramda/src/dissoc.js","webpack:///./~/ramda/src/evolve.js","webpack:///./~/ramda/src/adjust.js","webpack:///./~/ramda/src/internal/_concat.js","webpack:///./~/ramda/src/internal/_curry3.js","webpack:///./~/ramda/src/append.js","webpack:///./~/ramda/src/remove.js","webpack:///./~/ramda/src/T.js","webpack:///./~/ramda/src/always.js","webpack:///./lib/engine.js","webpack:///./lib/utils/logdiff.js","webpack:///./~/deep-diff/index.js","webpack:///./lib/modules/timetravel.js","webpack:///./~/ramda/src/not.js","webpack:///./~/ramda/src/F.js","webpack:///./~/ramda/src/inc.js","webpack:///./~/ramda/src/add.js","webpack:///./~/ramda/src/ifElse.js","webpack:///./~/ramda/src/update.js","webpack:///./~/snabbdom/h.js","webpack:///./~/snabbdom/vnode.js","webpack:///./~/snabbdom/is.js","webpack:///./~/ramda/src/pipe.js","webpack:///./~/ramda/src/internal/_pipe.js","webpack:///./~/ramda/src/reduce.js","webpack:///./~/ramda/src/tail.js","webpack:///./~/ramda/src/internal/_checkForMethod.js","webpack:///./~/ramda/src/slice.js","webpack:///./lib/service.js","webpack:///./lib/utils/data.js","webpack:///./~/ramda/src/curry.js","webpack:///./lib/modules/noChildren.js","webpack:///./lib/utils/test.js","webpack:///./lib/tasks/view.js","webpack:///./lib/tasks/data.js","webpack:///./lib/tasks/value.js","webpack:///./lib/tasks/emitter.js","webpack:///./lib/tasks/fetch.js","webpack:///./lib/tasks/file.js","webpack:///./lib/drivers/view.js","webpack:///./~/snabbdom/snabbdom.js","webpack:///./~/snabbdom/htmldomapi.js","webpack:///./~/snabbdom/modules/class.js","webpack:///./~/snabbdom/modules/attributes.js","webpack:///./~/snabbdom/modules/props.js","webpack:///./~/snabbdom/modules/eventlisteners.js","webpack:///./~/snabbdom/modules/style.js","webpack:///./lib/drivers/event.js","webpack:///./lib/drivers/listenable.js","webpack:///./lib/drivers/stateChange.js","webpack:///./~/ramda/dist/ramda.js","webpack:///./lib/drivers/load.js","webpack:///./lib/drivers/time.js","webpack:///./lib/drivers/localStorage.js","webpack:///./lib/drivers/screenInfo.js","webpack:///./lib/utils/screenInfo.js"],"names":["require","default","flyd","h","timetravel","service","noChildren","data","style","tasks","view","value","emitter","fetch","file","drivers","event","listenable","stateChange","load","time","localStorage","screenInfo","R","clone","evolve","adjust","append","remove","T","def","mDef","moduleDef","name","hasOwnProperty","log","logAll","ns","animation","styles","styleInstance","createStyle","animations","registerAnimations","rs","dispose","Style","container","actions","_ChildAction","String","Array","update","a","m","_ChildActionScoped","scope","_DynamicChildAction","Number","idx","_DynamicChildAdd","initialState","_DynamicChildRemove","Action","actionName","caseOn","inputs","_action","ctx","length","_childAction","_childActionScoped","_dynamicChildAction","_dynamicChildAdd","_dynamicChildRemove","outputNames","i","loadAfter","md","modules","groupedModules","dynamicModules","wrappableInit","init","state","mergeModels","wrappableLoad","mds","mergeAll","root","FreeStyle","document","getElementById","createStylesContainer","target","id","createElement","appendChild","head","createModuleStylesContainer","console","warn","namespace","create","stringHash","s","setNamespace","r","styleName","styleObj","classHash","registerStyle","hasBaseObject","obj","key","moduleName","stylesObj","rs_func","classObj","styleElement","textContent","getStyles","animationsObj","registerKeyframes","noSelectable","absoluteCenter","display","alignItems","justifyContent","__extends","d","b","p","__","constructor","prototype","Object","instanceId","uniqueId","exports","IS_UNIQUE","CSS_NUMBER","_i","_a","prefix","_b","_c","keys","property","hyphenate","propertyName","replace","toLowerCase","isAtRule","charAt","isNestedStyle","isArray","str","charCodeAt","toString","styleToString","sortTuples","sort","parseUserStyles","hasNestedStyles","properties","nestedStyles","isUnique","push","trim","stringifyProperties","result","_loop_1","name_1","filter","x","map","join","properties_1","interpolate","selector","parent","indexOf","collectHashedStyles","userStyles","isStyle","displayName","stylize","cache","styleString","pid","hash","undefined","add","nestedStyles_1","name_2","rule","Rule","Cache","styles_1","cache_1","get","Selector","merge","registerUserStyles","registerUserRule","TypeError","nestedStyles_2","name_3","registerUserHashedRule","bucket","atRule","values","changeId","_children","_keys","_counts","_this","count","item","getIdentifier","splice","prevChangeId","unmerge","_super","call","debug","keyframes","registerRule","process","env","NODE_ENV","module","cachedSetTimeout","cachedClearTimeout","setTimeout","e","Error","clearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","fun","args","arguments","Item","array","apply","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","curryN","isString","isNumber","n","isObject","type","isFunction","f","mapConstrToFn","group","constr","Function","Constructor","validators","val","v","validator","of","rawCase","cases","action","arg","typeCase","Type","desc","case","_curry2","_curryN","arity","fn","_curry1","f2","f1","received","combined","argsIdx","left","combinedIdx","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","mapObjIndexed","equals","dissoc","connectInterface","connections","interfaces","mergeChilds","childs","interfaceName","objs","mergeChild","addModuleInfo","_moduleName","_log","_logAll","mDefinition","action$","stream","task$","dispatch$","forEach","t","_md","connectTasksToModules","connectTasks","task","subName","connectTasksToModules_func","mergeList","moduleNames","interfaceObj","rootModel","mergeGroup","groupName","mapObjToArray","arr","childDefs","connectionsFn","connectionsMiddleFn","_module","mergeDynamicList","interfaceFn","remove$","trueFn","toUpdate","inStream","order","orderNextIdx","flushing","initialValue","endStream","createDependentStream","createStream","end","fnArgs","listeners","combine","streams","deps","depEndStreams","depsChanged","addListeners","updateStream","isStream","immediate","depsMet","endsOn","endS","detachDeps","self","scan","acc","hasVal","s1","s2","changed","transduce","xform","source","StreamTransformer","res","boundMap","ap","streamToString","updateStreamValue","vals","queued","shouldUpdate","initialDepsNotMet","every","returnVal","flushUpdate","updateDeps","o","list","findDeps","shift","then","markListeners","lists","_arity","_isPlaceholder","_reduce","_xwrap","bind","isArrayLike","_arrayReduce","xf","_iterableReduce","iter","step","next","done","_methodReduce","reduce","symIterator","Symbol","iterator","XWrap","thisObj","_isArray","nodeType","_has","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","contains","prop","ks","nIdx","_clone","_cloneRegExp","refFrom","refTo","copy","copiedValue","Date","pattern","RegExp","global","ignoreCase","multiline","sticky","unicode","slice","_dispatchable","_map","_xmap","functor","_isTransformer","_slice","methodname","transducer","from","to","Math","max","min","_xfBase","XMap","input","_equals","_arrayFromIterator","identical","stackA","stackB","valueOf","entries","keysA","pop","transformations","object","transformation","_concat","_curry3","start","_idx","_list","set1","set2","len1","len2","f3","c","el","always","pipe","state$","driverStreams","middleUpdatesArr","middleware","engineDef","middleUpdates","attach","newState","_initial","actionInfo","serviceName","services","taskName","driverName","reattach","disposeConnections","reModule","prettyAction","prettyActionDetailed","actionModuleInfo","prettyParams","prettyDiff","logAction","displayFromDiff","diff","modulePath","lastAction","path","nested","params","paramString","param","diffArray","logs","getType","kind","index","lhs","rhs","factory","define","DeepDiff","$scope","conflict","conflictResolution","window","accumulateDiff","inherits","ctor","superCtor","super_","enumerable","writable","configurable","Diff","defineProperty","DiffEdit","origin","DiffNew","DiffDeleted","DiffArray","arrayRemove","rest","realTypeOf","subject","test","deepDiff","changes","prefilter","stack","currentPath","normalize","alt","ltype","rtype","akeys","pkeys","k","other","isNaN","accum","applyArrayChange","change","it","u","applyChange","last","revertArrayChange","revertChange","applyDiff","onChange","defineProperties","observableDiff","isConflict","noConflict","not","F","inc","ifElse","child","active","playing","frameTime","opened","history","timestamp","getTime","toggleTimeTravel","_","ToggleTimeTravel","setTime","SetTime","childAction","ChildAction","setActive","bool","SetActive","clearHistory","ClearHistory","play","Play","frame","Frame","createContext","validTime","nextState","evolveFn","width","height","overflow","toggleButton","click","base","controls","button","slider","props","parseInt","ev","timer","periodic","timers","fetches","position","minHeight","bottom","zIndex","flexWrap","float","condition","onTrue","onFalse","_ifElse","VNode","is","addNS","children","sel","text","primitive","elm","_pipe","tail","g","_checkForMethod","Infinity","fromIndex","toIndex","curry","defObj","isQueued","subscribed","serverName","store","_initialNotify","eventQueue","subscribers","events","notify","cbObj","connected","connect","subscriber","parts","split","subscribeAll","subs","_tasks","_drivers","connectionInfo","success","promises","Promise","resolve","reject","all","fetchObj","handled","status","response","error","statusText","url","options","catch","err","fetchAll","promiseArray","logVal","types","setFocused","addWindowListener","removeWindowListener","rootSelector","taskFn","elementSelector","focused","elements","querySelectorAll","focus","blur","eventName","subsfn","addEventListener","removeEventListener","emitData","send","sendValue","emt","channel","message","set","read","reader","FileReader","onload","contents","onerror","readAsText","patch","patchfn","lastContainer","renderer$","vnode$","querySelector","vnode","domApi","isUndef","isDef","emptyNode","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","hooks","api","j","cbs","emptyNodeAt","className","tagName","createRmCb","childElm","parentNode","removeChild","createElm","insertedVnodeQueue","hook","hashIdx","dotIdx","dot","tag","createElementNS","createTextNode","insert","addVnodes","parentElm","before","vnodes","startIdx","insertBefore","invokeDestroyHook","destroy","removeVnodes","rm","ch","updateChildren","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","patchVnode","nextSibling","oldVnode","prepatch","setTextContent","postpatch","pre","post","namespaceURI","qualifiedName","newNode","referenceNode","node","parentElement","updateClass","cur","oldClass","class","klass","classList","NamespaceURIs","booleanAttrs","booleanAttrsDict","updateAttrs","old","oldAttrs","attrs","namespaceSplit","removeAttribute","setAttributeNS","setAttribute","updateProps","oldProps","invokeHandler","handler","handleEvent","createListener","updateEventListeners","oldOn","oldListener","listener","oldElm","raf","requestAnimationFrame","nextFrame","setNextFrame","updateStyle","oldStyle","oldHasDel","delayed","applyDestroyStyle","applyRemoveStyle","maxDur","compStyle","amount","applied","getComputedStyle","cb","listener$","event$","l","setSubscribers","setListeners","listenerName","listenerArr","_states","setStates","states","stateName","current","do","_statestes","_complement","_containsWith","pred","_filter","_forceReduced","_functionsWith","_identity","_isArguments","_isInteger","isInteger","_isNumber","_isObject","_isRegExp","_isString","_of","_pipeP","_quote","escaped","_reduced","_toISOString","pad","toISOString","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","_xdropRepeatsWith","XDropRepeatsWith","lastValue","seenFirstValue","sameAsLast","_xfilter","XFilter","_xfind","XFind","found","_xfindIndex","XFindIndex","_xfindLast","XFindLast","_xfindLastIndex","XFindLastIndex","lastIdx","_xtake","XTake","_xtakeWhile","XTakeWhile","and","assoc","assocPath","comparator","cond","pairs","containsWith","countBy","counts","dec","defaultTo","differenceWith","first","second","out","firstLen","containsPred","dissocPath","divide","dropLastWhile","empty","fromPairs","gt","gte","has","hasIn","identity","elt","insertAll","elts","Ctor","isNil","keysIn","NaN","lt","lte","mapAccum","tuple","mapAccumRight","match","rx","mathMod","maxBy","minBy","modulo","multiply","nAry","negate","nth","offset","nthArg","objOf","called","or","over","Identity","lens","y","pair","fst","snd","paths","pathOr","pick","names","pickAll","pickBy","prepend","propOr","propSatisfies","ps","range","reduceRight","reduced","regex","replacement","reverse","sortBy","aa","bb","subtract","takeLastWhile","tap","times","toPairs","toPairsIn","ws","zeroWidth","hasProtoTrim","beginRx","endRx","unapply","unary","uncurryN","depth","currentDepth","unfold","seed","uniqWith","unless","whenFalseFn","valuesIn","vs","Const","when","whenTrueFn","where","spec","testObj","wrap","wrapper","xprod","ilen","jlen","zip","rv","zipObj","zipWith","_aperture","limit","_createPartialApplicator","_makeFlat","recursive","flatt","_xall","XAll","_xany","XAny","any","_xaperture","XAperture","pos","full","getCopy","_xdrop","XDrop","_xdropWhile","XDropWhile","_xgroupBy","XGroupBy","addIndex","origFn","aperture","binary","createMapEntry","dropWhile","find","findIndex","findLast","findLastIndex","flatten","flip","functions","functionsIn","groupBy","intersectionWith","list1","list2","results","intersperse","separator","invert","invertObj","isEmpty","lastIndexOf","xs","mapObj","none","partial","partialRight","partition","pathEq","_path","pluck","propEq","propIs","repeat","splitEvery","sum","take","takeWhile","unionWith","uniq","useWith","transformers","whereEq","_flatCat","preservingReduced","ret","_xcat","rxf","_indexOf","_stepCat","_stepCatArray","_stepCatString","_stepCatObject","_xchain","allPass","preds","allUniq","anyPass","applicative","chain","monad","commuteMap","consF","constructN","Fn","$0","$1","$2","$3","$4","$5","$6","$7","$8","$9","converge","after","fns","context","drop","dropLast","dropRepeatsWith","eqBy","eqProps","obj1","obj2","into","isSet","getter","setter","lensIndex","lensProp","liftN","lifted","mean","median","pipeP","product","project","takeLast","unnest","_contains","_toString","seen","recur","mapPairs","commute","compose","composeK","composeP","construct","difference","dropRepeats","intersection","lift","omit","pipeK","union","uniqBy","appliedItem","both","complement","either","invoker","method","memoize","toLower","toUpper","stateNames","timerPatch","timeData","setInterval","clearInterval","timerListPatch","lastList","time$","data$","setItem","JSON","stringify","removeItem","screenInfoDriver","screenListener","screen$","info","screenSize","innerWidth","body","clientWidth","innerHeight","clientHeight","size","isLandscape","isPortrait"],"mappings":"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","file":"fractal.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fractal\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fractal\"] = factory();\n\telse\n\t\troot[\"fractal\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e5b787edb3cc331bac4d\n **/","'use strict'\n\nexport default {\n  ...require('./core').default,\n  ...require('./engine').default,\n  ...require('./utils/composing').default,\n  flyd: require('flyd'),\n  h: require('snabbdom/h'),\n  timetravel: require('./modules/timetravel').default,\n  service: require('./service').default,\n  noChildren: require('./modules/noChildren').default,\n  // serviceTest: require('./serviceTest').default, (Drafted)\n  // router: require('./router').default,\n  ...require('./utils/test').default,\n  data: require('./utils/data').default,\n  style: require('./utils/style').default,\n  tasks: {\n    view: require('./tasks/view').default,\n    data: require('./tasks/data').default,\n    value: require('./tasks/value').default,\n    emitter: require('./tasks/emitter').default,\n    fetch: require('./tasks/fetch').default,\n    file: require('./tasks/file').default,\n  },\n  drivers: {\n    view: require('./drivers/view').default,\n    event: require('./drivers/event').default,\n    listenable: require('./drivers/listenable').default,\n    stateChange: require('./drivers/stateChange').default,\n    load: require('./drivers/load').default,\n    time: require('./drivers/time').default, // NEEDS REVIEW!! (maybe depreecated.default)\n    localStorage: require('./drivers/localStorage').default,\n    screenInfo: require('./drivers/screenInfo').default,\n  },\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.js\n **/","import style from './utils/style'\r\nimport Type from 'union-type'\r\nimport F from './utils/composing'\r\n\r\nconst R = {\r\n  clone: require('ramda/src/clone'),\r\n  evolve: require('ramda/src/evolve'),\r\n  adjust: require('ramda/src/adjust'),\r\n  append: require('ramda/src/append'),\r\n  remove: require('ramda/src/remove'),\r\n  T: require('ramda/src/T'),\r\n}\r\n\r\n\r\nlet def = moduleDef => {\r\n  let mDef = R.clone(moduleDef)\r\n  mDef.name = (mDef.hasOwnProperty('name')) ? mDef.name : 'UnamedModule'\r\n  mDef.log = (mDef.hasOwnProperty('log')) ? mDef.log : false\r\n  mDef.logAll = (mDef.hasOwnProperty('logAll')) ? mDef.logAll : false\r\n\r\n  // 'ns' is the namespace for keyFrames and may be other stuff\r\n  let ns = { animation: {} }\r\n  if (mDef.styles) {\r\n    mDef.styleInstance = style.createStyle(style.styles, mDef.name)\r\n  }\r\n  if (mDef.animations) {\r\n    ns.animations = style.registerAnimations(mDef.name, mDef.styleInstance, mDef.animations)\r\n  }\r\n  if (mDef.styles) {\r\n    mDef.styles = style.rs(mDef.name, mDef.styleInstance, (typeof(mDef.styles) === 'function') ? mDef.styles(ns) : mDef.styles)\r\n    mDef.dispose = () => {\r\n      mDef.styleInstance.Style.remove(mDef.styleInstance.Style)\r\n      mDef.styleInstance.container.remove()\r\n    }\r\n  } else {\r\n    mDef.styles = {}\r\n    mDef.dispose = () => 0\r\n  }\r\n\r\n  if (!mDef.actions) {\r\n    mDef.actions = {}\r\n  }\r\n  // default actions\r\n  mDef.actions._ChildAction = [[String, R.T, Array], (name, update, a, m) => R.evolve({[name]: update(a)}, m)]\r\n  mDef.actions._ChildActionScoped = [[String, String, R.T, Array], (scope, name, update, a, m) => R.evolve({[scope]: R.evolve({ [name]: update(a) })}, m)]\r\n  mDef.actions._DynamicChildAction = [[String, R.T, Number, Array], (scope, update, idx, a, m) => R.evolve({[scope]: R.adjust(update(a), idx)}, m)]\r\n  mDef.actions._DynamicChildAdd = [[String, R.T], (scope, initialState, m) => R.evolve({[scope]: R.append(initialState)}, m)]\r\n  mDef.actions._DynamicChildRemove = [[String, Number], (scope, idx, m) => R.evolve({[scope]: R.remove(idx, 1)}, m)]\r\n  mDef.Action = {}\r\n  mDef.update = {}\r\n  for (let actionName in mDef.actions) {\r\n    mDef.Action[actionName] = mDef.actions[actionName][0]\r\n    mDef.update[actionName] = mDef.actions[actionName][1]\r\n  }\r\n  mDef.Action = Type(mDef.Action)\r\n  mDef.update = mDef.Action.caseOn(mDef.update)\r\n  if (!mDef.inputs) {\r\n    mDef.inputs = {}\r\n  }\r\n  // -- default inputs\r\n  // static inputs\r\n  mDef.inputs._action = (ctx, Action, name, data) => (Action[name].length > 0) ? Action[name](data) : Action[name]()\r\n  mDef.inputs._childAction = (ctx, Action, name, update, a) => Action._ChildAction(name, update, a)\r\n  mDef.inputs._childActionScoped = (ctx, Action, scope, name, update, a) => Action._ChildActionScoped(scope, name, update, a)\r\n  // dynamic inputs\r\n  mDef.inputs._dynamicChildAction = (ctx, Action, scope, update, idx, a) => Action._DynamicChildAction(scope, update, idx, a)\r\n  mDef.inputs._dynamicChildAdd = (ctx, Action, scope, initialState) => Action._DynamicChildAdd(scope, initialState)\r\n  mDef.inputs._dynamicChildRemove = (ctx, Action, scope, idx) => Action._DynamicChildRemove(scope, idx)\r\n  if (!mDef.outputNames) {\r\n    mDef.outputNames = []\r\n  }\r\n  if (!mDef.load) {\r\n    mDef.load = (ctx, i, Action) => ({})\r\n  }\r\n  if (!mDef.loadAfter) {\r\n    mDef.loadAfter = (ctx, i, Action, md) => md({})\r\n  }\r\n  // Composition\r\n  if (mDef.modules || mDef.groupedModules || mDef.dynamicModules) {\r\n    let wrappableInit = mDef.init\r\n    mDef.init = (...args) => {\r\n      let state = ({\r\n        ...wrappableInit(...args),\r\n        ...(mDef.modules) ? F.mergeModels(mDef.modules): {},\r\n      })\r\n      if (mDef.groupedModules) {\r\n        for (let scope in mDef.groupedModules) {\r\n          state[scope] = F.mergeModels(mDef.groupedModules[scope])\r\n        }\r\n      }\r\n      if (mDef.dynamicModules) {\r\n        for (let scope in mDef.dynamicModules) {\r\n          if (!state[scope]) {\r\n            state[scope] = []\r\n          }\r\n        }\r\n      }\r\n      return state\r\n    }\r\n    let wrappableLoad = mDef.load\r\n    mDef.load = (ctx, i, Action) => {\r\n      let mds = ({\r\n        ...wrappableLoad(ctx, i, Action),\r\n        ...(mDef.modules) ? F.mergeAll(mDef.modules, i): {},\r\n      })\r\n      if (mDef.groupedModules) {\r\n        for (let scope in mDef.groupedModules) {\r\n          mds[scope] = F.mergeAll(mDef.groupedModules[scope], i, scope)\r\n        }\r\n      }\r\n      if (mDef.dynamicModules) {\r\n        mds.dynamicModules = {}\r\n        for (let scope in mDef.dynamicModules) {\r\n          mds.dynamicModules[scope] = (mDef.dynamicModules[scope].root) ? mDef.dynamicModules[scope].root : mDef.dynamicModules[scope]\r\n        }\r\n      }\r\n      return mds\r\n    }\r\n  }\r\n  mDef.mDef = moduleDef\r\n  return mDef\r\n}\r\n\r\nexport default {\r\n  def,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/core.js\n **/","// A set of css useful function helpers\nconst FreeStyle = require('free-style')\n\n// the div element for injecting styles\nlet styles = document.getElementById('F-app-styles')\n\nfunction createStylesContainer(target, id) {\n  let styles = document.createElement('div')\n  styles.id = id\n  target.appendChild(styles)\n  return styles\n}\n\nif (!styles) {\n  styles = createStylesContainer(document.head, 'F-app-styles')\n}\n\nfunction createModuleStylesContainer(styles, name, scope = '') {\n  let container = document.createElement('div')\n  if (document.getElementById('fractalModuleStyles_' + scope + name)) {\n    console.warn('WARNING!!! there are a duplicated module definition name!!: ' + scope + name)\n  }\n  container.id = scope + name\n  styles.appendChild(container)\n  return container\n}\n\nfunction createStyle(styles, name, scope = '') {\n  let namespace = ''\n  return {\n    Style: FreeStyle.create(s => `_${namespace}__${FreeStyle.stringHash(s)}`),\n    container: createModuleStylesContainer(styles, name, scope),\n    setNamespace: ns => namespace = ns,\n  }\n}\n\n\nfunction r(styleInstance, styleName, styleObj) {\n  styleInstance.setNamespace(styleName)\n  let classHash = styleInstance.Style.registerStyle(styleObj)\n  return classHash\n}\n\nfunction hasBaseObject(obj) {\n  for (let key in obj) {\n    if (obj[key] !== null && typeof obj[key] === 'object' && key == 'base') {\n      return true\n    }\n  }\n  return false\n}\n\nfunction rs(moduleName, styleInstance, stylesObj) {\n  function rs_func(styleName, stylesObj) {\n    if (!hasBaseObject(stylesObj)) {\n      return r(styleInstance, styleName, stylesObj)\n    }\n    let classObj = {}\n    for (let key in stylesObj) {\n      if (hasBaseObject(stylesObj[key])) {\n        classObj[key] = rs_func(`${styleName}_${key}`, stylesObj[key])\n      } else if (stylesObj[key] != null && typeof stylesObj[key] === 'object') {\n        classObj[key] = r(styleInstance, `${styleName}_${key}`, stylesObj[key])\n      } else { // function\n        classObj[key] = stylesObj[key]\n      }\n    }\n    return classObj\n  }\n\n  let classObj = rs_func(moduleName, stylesObj)\n\n  let styleElement = document.createElement('style')\n  styleElement.textContent = styleInstance.Style.getStyles()\n  styleInstance.container.appendChild(styleElement)\n\n  return classObj\n}\n\nfunction registerAnimations(moduleName, styleInstance, animationsObj) {\n  let animations = {}\n  for (let key in animationsObj) {\n    styleInstance.setNamespace(`${moduleName}-${key}`)\n    animations[key] = styleInstance.Style.registerKeyframes(animationsObj[key])\n  }\n  return animations\n}\n\nlet noSelectable = {\n  '-webkit-touch-callout': 'none', /* iOS Safari */\n  '-webkit-user-select': 'none',   /* Chrome/Safari/Opera */\n  '-khtml-user-select': 'none',    /* Konqueror */\n  '-moz-user-select': 'none',      /* Firefox */\n  '-ms-user-select': 'none',       /* Internet Explorer/Edge */\n  'user-select': 'none',\n}\n\nlet absoluteCenter = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n}\n\nexport default {\n  styles,\n  r,\n  rs,\n  registerAnimations,\n  createStyle,\n  createStylesContainer,\n  createModuleStylesContainer,\n  hasBaseObject,\n  // helpers\n  absoluteCenter,\n  noSelectable,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/style.js\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * Increment through IDs for FreeStyle, which can't generate hashed IDs.\n */\nvar instanceId = 0;\n/**\n * The unique id is used to get a unique hash on styles (no merging).\n */\nvar uniqueId = 0;\n/**\n * Tag styles with this string to get unique hash outputs.\n */\nexports.IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__';\n/**\n * CSS properties that are valid unit-less numbers.\n */\nvar CSS_NUMBER = {\n    'animation-iteration-count': true,\n    'box-flex': true,\n    'box-flex-group': true,\n    'column-count': true,\n    'counter-increment': true,\n    'counter-reset': true,\n    'flex': true,\n    'flex-grow': true,\n    'flex-positive': true,\n    'flex-shrink': true,\n    'flex-negative': true,\n    'font-weight': true,\n    'line-clamp': true,\n    'line-height': true,\n    'opacity': true,\n    'order': true,\n    'orphans': true,\n    'tab-size': true,\n    'widows': true,\n    'z-index': true,\n    'zoom': true,\n    // SVG properties.\n    'fill-opacity': true,\n    'stroke-dashoffset': true,\n    'stroke-opacity': true,\n    'stroke-width': true\n};\n// Add vendor prefixes to all unit-less properties.\nfor (var _i = 0, _a = ['-webkit-', '-ms-', '-moz-', '-o-']; _i < _a.length; _i++) {\n    var prefix = _a[_i];\n    for (var _b = 0, _c = Object.keys(CSS_NUMBER); _b < _c.length; _b++) {\n        var property = _c[_b];\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(/([A-Z])/g, '-$1')\n        .replace(/^ms-/, '-ms-') // Internet Explorer vendor prefix.\n        .toLowerCase();\n}\n/**\n * Check if a property name should pop to the top level of CSS.\n */\nfunction isAtRule(propertyName) {\n    return propertyName.charAt(0) === '@';\n}\n/**\n * Check if a value is a nested style definition.\n */\nfunction isNestedStyle(value) {\n    return value != null && typeof value === 'object' && !Array.isArray(value);\n}\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    var value = 5381;\n    var i = str.length;\n    while (i) {\n        value = (value * 33) ^ str.charCodeAt(--i);\n    }\n    return (value >>> 0).toString(36);\n}\nexports.stringHash = stringHash;\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(name, value) {\n    if (typeof value === 'number' && value !== 0 && !CSS_NUMBER[name]) {\n        value = value + \"px\";\n    }\n    return name + \":\" + String(value).replace(/([\\{\\}\\[\\]])/g, '\\\\$1');\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort(function (a, b) { return a[0] > b[0] ? 1 : -1; });\n}\n/**\n * Categorize user styles.\n */\nfunction parseUserStyles(styles, hasNestedStyles) {\n    var properties = [];\n    var nestedStyles = [];\n    var isUnique = false;\n    // Sort keys before adding to styles.\n    for (var _i = 0, _a = Object.keys(styles); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = styles[key];\n        if (key === exports.IS_UNIQUE) {\n            isUnique = !!value;\n        }\n        else if (isNestedStyle(value)) {\n            nestedStyles.push([key.trim(), value]);\n        }\n        else {\n            properties.push([hyphenate(key.trim()), value]);\n        }\n    }\n    return {\n        properties: sortTuples(properties),\n        nestedStyles: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: isUnique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    var result = [];\n    var _loop_1 = function (name_1, value) {\n        if (value != null) {\n            if (Array.isArray(value)) {\n                result.push(value.filter(function (x) { return x != null; }).map(function (x) { return styleToString(name_1, x); }).join(';'));\n            }\n            else {\n                result.push(styleToString(name_1, value));\n            }\n        }\n    };\n    for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n        var _a = properties_1[_i], name_1 = _a[0], value = _a[1];\n        _loop_1(name_1, value);\n    }\n    return result.join(';');\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf('&') > -1) {\n        return selector.replace(/&/g, parent);\n    }\n    return parent + \" \" + selector;\n}\n/**\n * Register all styles, but collect for post-selector correction using the hash.\n */\nfunction collectHashedStyles(container, userStyles, isStyle, displayName) {\n    var styles = [];\n    function stylize(cache, userStyles, selector) {\n        var _a = parseUserStyles(userStyles, isStyle), properties = _a.properties, nestedStyles = _a.nestedStyles, isUnique = _a.isUnique;\n        var styleString = stringifyProperties(properties);\n        var pid = styleString;\n        // Only create style instances when styles exists.\n        if (styleString) {\n            var style = new Style(styleString, cache.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined);\n            cache.add(style);\n            styles.push([cache, selector, style]);\n        }\n        for (var _i = 0, nestedStyles_1 = nestedStyles; _i < nestedStyles_1.length; _i++) {\n            var _b = nestedStyles_1[_i], name_2 = _b[0], value = _b[1];\n            pid += name_2;\n            if (isAtRule(name_2)) {\n                var rule = cache.add(new Rule(name_2, undefined, cache.hash));\n                pid += stylize(rule, value, selector);\n            }\n            else {\n                pid += stylize(cache, value, isStyle ? interpolate(name_2, selector) : name_2);\n            }\n        }\n        return pid;\n    }\n    // Create a temporary cache to handle changes/mutations before re-assigning later.\n    var cache = new Cache(container.hash);\n    var pid = stylize(cache, userStyles, '&');\n    var hash = \"f\" + cache.hash(pid);\n    var id = displayName ? displayName + \"_\" + hash : hash;\n    for (var _i = 0, styles_1 = styles; _i < styles_1.length; _i++) {\n        var _a = styles_1[_i], cache_1 = _a[0], selector = _a[1], style = _a[2];\n        var key = isStyle ? interpolate(selector, \".\" + id) : selector;\n        cache_1.get(style).add(new Selector(key, style.hash, undefined, pid));\n    }\n    container.merge(cache);\n    return { pid: pid, id: id };\n}\n/**\n * Recursively register styles on a container instance.\n */\nfunction registerUserStyles(container, styles, displayName) {\n    return collectHashedStyles(container, styles, true, displayName).id;\n}\n/**\n * Create user rule. Simplified collection of styles, since it doesn't need a unique id hash.\n */\nfunction registerUserRule(container, selector, styles) {\n    var _a = parseUserStyles(styles, false), properties = _a.properties, nestedStyles = _a.nestedStyles, isUnique = _a.isUnique;\n    // Throw when using properties and nested styles together in rule.\n    if (properties.length && nestedStyles.length) {\n        throw new TypeError(\"Registering a CSS rule can not use properties with nested styles\");\n    }\n    var styleString = stringifyProperties(properties);\n    var rule = new Rule(selector, styleString, container.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined);\n    for (var _i = 0, nestedStyles_2 = nestedStyles; _i < nestedStyles_2.length; _i++) {\n        var _b = nestedStyles_2[_i], name_3 = _b[0], value = _b[1];\n        registerUserRule(rule, name_3, value);\n    }\n    container.add(rule);\n}\n/**\n * Parse and register keyframes on the current instance.\n */\nfunction registerUserHashedRule(container, prefix, styles, displayName) {\n    var bucket = new Cache(container.hash);\n    var _a = collectHashedStyles(bucket, styles, false, displayName), pid = _a.pid, id = _a.id;\n    var atRule = new Rule(prefix + \" \" + id, undefined, container.hash, undefined, pid);\n    atRule.merge(bucket);\n    container.add(atRule);\n    return id;\n}\n/**\n * Get the styles string for a container class.\n */\nfunction getStyles(container) {\n    return container.values().map(function (style) { return style.getStyles(); }).join('');\n}\n/**\n * Implement a cache/event emitter.\n */\nvar Cache = (function () {\n    function Cache(hash) {\n        this.hash = hash;\n        this.changeId = 0;\n        this._children = {};\n        this._keys = [];\n        this._counts = {};\n    }\n    Cache.prototype.values = function () {\n        var _this = this;\n        return this._keys.map(function (x) { return _this._children[x]; });\n    };\n    Cache.prototype.add = function (style) {\n        var count = this._counts[style.id] || 0;\n        var item = this._children[style.id] || style.clone();\n        this._counts[style.id] = count + 1;\n        if (count === 0) {\n            this._keys.push(item.id);\n            this._children[item.id] = item;\n            this.changeId++;\n        }\n        else {\n            // Check if contents are different.\n            if (item.getIdentifier() !== style.getIdentifier()) {\n                throw new TypeError(\"Hash collision: \" + style.getStyles() + \" === \" + item.getStyles());\n            }\n            this._keys.splice(this._keys.indexOf(style.id), 1);\n            this._keys.push(style.id);\n            if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.merge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.changeId++;\n                }\n            }\n        }\n        return item;\n    };\n    Cache.prototype.remove = function (style) {\n        var count = this._counts[style.id];\n        if (count > 0) {\n            this._counts[style.id] = count - 1;\n            var item = this._children[style.id];\n            if (count === 1) {\n                delete this._counts[style.id];\n                delete this._children[style.id];\n                this._keys.splice(this._keys.indexOf(style.id), 1);\n                this.changeId++;\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.changeId++;\n                }\n            }\n        }\n    };\n    Cache.prototype.get = function (container) {\n        return this._children[container.id];\n    };\n    Cache.prototype.merge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var value = _a[_i];\n            this.add(value);\n        }\n        return this;\n    };\n    Cache.prototype.unmerge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var value = _a[_i];\n            this.remove(value);\n        }\n        return this;\n    };\n    Cache.prototype.clone = function () {\n        return new Cache(this.hash).merge(this);\n    };\n    return Cache;\n}());\nexports.Cache = Cache;\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nvar Selector = (function () {\n    function Selector(selector, hash, id, pid) {\n        if (id === void 0) { id = \"s\" + hash(selector); }\n        if (pid === void 0) { pid = ''; }\n        this.selector = selector;\n        this.hash = hash;\n        this.id = id;\n        this.pid = pid;\n    }\n    Selector.prototype.getStyles = function () {\n        return this.selector;\n    };\n    Selector.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.selector;\n    };\n    Selector.prototype.clone = function () {\n        return new Selector(this.selector, this.hash, this.id, this.pid);\n    };\n    return Selector;\n}());\nexports.Selector = Selector;\n/**\n * The style container registers a style string with selectors.\n */\nvar Style = (function (_super) {\n    __extends(Style, _super);\n    function Style(style, hash, id) {\n        if (id === void 0) { id = \"c\" + hash(style); }\n        var _this = _super.call(this, hash) || this;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        return _this;\n    }\n    Style.prototype.getStyles = function () {\n        return this.values().map(function (x) { return x.selector; }).join(',') + \"{\" + this.style + \"}\";\n    };\n    Style.prototype.getIdentifier = function () {\n        return this.style;\n    };\n    Style.prototype.clone = function () {\n        return new Style(this.style, this.hash, this.id).merge(this);\n    };\n    return Style;\n}(Cache));\nexports.Style = Style;\n/**\n * Implement rule logic for style output.\n */\nvar Rule = (function (_super) {\n    __extends(Rule, _super);\n    function Rule(rule, style, hash, id, pid) {\n        if (style === void 0) { style = ''; }\n        if (id === void 0) { id = \"a\" + hash(rule + \".\" + style); }\n        if (pid === void 0) { pid = ''; }\n        var _this = _super.call(this, hash) || this;\n        _this.rule = rule;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        _this.pid = pid;\n        return _this;\n    }\n    Rule.prototype.getStyles = function () {\n        return this.rule + \"{\" + this.style + getStyles(this) + \"}\";\n    };\n    Rule.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.rule + \".\" + this.style;\n    };\n    Rule.prototype.clone = function () {\n        return new Rule(this.rule, this.style, this.hash, this.id, this.pid).merge(this);\n    };\n    return Rule;\n}(Cache));\nexports.Rule = Rule;\n/**\n * The FreeStyle class implements the API for everything else.\n */\nvar FreeStyle = (function (_super) {\n    __extends(FreeStyle, _super);\n    function FreeStyle(hash, debug, id) {\n        if (id === void 0) { id = \"f\" + (++instanceId).toString(36); }\n        var _this = _super.call(this, hash) || this;\n        _this.hash = hash;\n        _this.debug = debug;\n        _this.id = id;\n        return _this;\n    }\n    FreeStyle.prototype.registerStyle = function (styles, displayName) {\n        return registerUserStyles(this, styles, this.debug ? displayName : undefined);\n    };\n    FreeStyle.prototype.registerKeyframes = function (keyframes, displayName) {\n        return registerUserHashedRule(this, '@keyframes', keyframes, this.debug ? displayName : undefined);\n    };\n    FreeStyle.prototype.registerRule = function (rule, styles) {\n        return registerUserRule(this, rule, styles);\n    };\n    FreeStyle.prototype.getStyles = function () {\n        return getStyles(this);\n    };\n    FreeStyle.prototype.getIdentifier = function () {\n        return this.id;\n    };\n    FreeStyle.prototype.clone = function () {\n        return new FreeStyle(this.hash, this.debug, this.id).merge(this);\n    };\n    return FreeStyle;\n}(Cache));\nexports.FreeStyle = FreeStyle;\n/**\n * Exports a simple function to create a new instance.\n */\nfunction create(hash, debug) {\n    if (hash === void 0) { hash = stringHash; }\n    if (debug === void 0) { debug = process.env.NODE_ENV !== 'production'; }\n    return new FreeStyle(hash, debug);\n}\nexports.create = create;\n//# sourceMappingURL=free-style.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./~/free-style/dist/free-style.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","var curryN = require('ramda/src/curryN');\n\nfunction isString(s) { return typeof s === 'string'; }\nfunction isNumber(n) { return typeof n === 'number'; }\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\nfunction isFunction(f) { return typeof f === 'function'; }\nvar isArray = Array.isArray || function(a) { return 'length' in a; };\n\nvar mapConstrToFn = curryN(2, function(group, constr) {\n  return constr === String    ? isString\n       : constr === Number    ? isNumber\n       : constr === Object    ? isObject\n       : constr === Array     ? isArray\n       : constr === Function  ? isFunction\n       : constr === undefined ? group\n                              : constr;\n});\n\nfunction Constructor(group, name, validators) {\n  validators = validators.map(mapConstrToFn(group));\n  var constructor = curryN(validators.length, function() {\n    var val = [], v, validator;\n    for (var i = 0; i < arguments.length; ++i) {\n      v = arguments[i];\n      validator = validators[i];\n      if ((typeof validator === 'function' && validator(v)) ||\n          (v !== undefined && v !== null && v.of === validator)) {\n        val[i] = arguments[i];\n      } else {\n        throw new TypeError('wrong value ' + v + ' passed to location ' + i + ' in ' + name);\n      }\n    }\n    val.of = group;\n    val.name = name;\n    return val;\n  });\n  return constructor;\n}\n\nfunction rawCase(type, cases, action, arg) {\n  if (type !== action.of) throw new TypeError('wrong type passed to case');\n  var name = action.name in cases ? action.name\n           : '_' in cases         ? '_'\n                                  : undefined;\n  if (name === undefined) {\n    throw new Error('unhandled value passed to case');\n  } else {\n    return cases[name].apply(undefined, arg !== undefined ? action.concat([arg]) : action);\n  }\n}\n\nvar typeCase = curryN(3, rawCase);\nvar caseOn = curryN(4, rawCase);\n\nfunction Type(desc) {\n  var obj = {};\n  for (var key in desc) {\n    obj[key] = Constructor(obj, key, desc[key]);\n  }\n  obj.case = typeCase(obj);\n  obj.caseOn = caseOn(obj);\n  return obj;\n}\n\nmodule.exports = Type;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/union-type.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\nvar arity = require('./arity');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the\n * specified arity. The curried function has two unusual capabilities.\n * First, its arguments needn't be provided one at a time. If `g` is\n * `R.curryN(3, f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var addFourNumbers = function() {\n *        return R.sum([].slice.call(arguments, 0, 4));\n *      };\n *\n *      var curriedAddFourNumbers = R.curryN(4, addFourNumbers);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  return arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/curryN.js\n **/","var _curry1 = require('./_curry1');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f2;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 1) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else {\n      return fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curry2.js\n **/","/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0) {\n      return f1;\n    } else if (a != null && a['@@functional/placeholder'] === true) {\n      return f1;\n    } else {\n      return fn(a);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curry1.js\n **/","var arity = require('../arity');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @return {array} An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (received[combinedIdx] == null ||\n           received[combinedIdx]['@@functional/placeholder'] !== true ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (result == null || result['@@functional/placeholder'] !== true) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts exactly `n`\n * parameters. Unlike `nAry`, which passes only `n` arguments to the wrapped function,\n * functions produced by `arity` will pass all provided arguments to the wrapped function.\n *\n * @func\n * @memberOf R\n * @sig (Number, (* -> *)) -> (* -> *)\n * @category Function\n * @param {Number} n The desired arity of the returned function.\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is\n *         guaranteed to be of arity `n`.\n * @deprecated since v0.15.0\n * @example\n *\n *      var takesTwoArgs = function(a, b) {\n *        return [a, b];\n *      };\n *      takesTwoArgs.length; //=> 2\n *      takesTwoArgs(1, 2); //=> [1, 2]\n *\n *      var takesOneArg = R.arity(1, takesTwoArgs);\n *      takesOneArg.length; //=> 1\n *      // All arguments are passed through to the wrapped function\n *      takesOneArg(1, 2); //=> [1, 2]\n */\nmodule.exports = _curry2(function(n, fn) {\n  // jshint unused:vars\n  switch (n) {\n    case 0: return function() {return fn.apply(this, arguments);};\n    case 1: return function(a0) {return fn.apply(this, arguments);};\n    case 2: return function(a0, a1) {return fn.apply(this, arguments);};\n    case 3: return function(a0, a1, a2) {return fn.apply(this, arguments);};\n    case 4: return function(a0, a1, a2, a3) {return fn.apply(this, arguments);};\n    case 5: return function(a0, a1, a2, a3, a4) {return fn.apply(this, arguments);};\n    case 6: return function(a0, a1, a2, a3, a4, a5) {return fn.apply(this, arguments);};\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) {return fn.apply(this, arguments);};\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) {return fn.apply(this, arguments);};\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {return fn.apply(this, arguments);};\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {return fn.apply(this, arguments);};\n    default: throw new Error('First argument to arity must be a non-negative integer no greater than ten');\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/arity.js\n **/","import flyd from 'flyd'\nconst R = {\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\n  clone: require('ramda/src/clone'),\n  map: require('ramda/src/map'),\n  merge: require('ramda/src/merge'),\n  curryN: require('ramda/src/curryN'),\n  equals: require('ramda/src/equals'),\n  dissoc: require('ramda/src/dissoc'),\n}\n\n\nlet connectInterface = (md, name, state, connections) =>\n  (md.interfaces[name]) ? merge(md, connections).interfaces[name](state) : {}\n\n\n// childModuleDefsObj -> childModuleModelsObj via mDef_key -> mDef_value.init({key: mDef_key})\n// or via root mDef_key -> mDef_value.root.init({key: mDef_key, ...mDef_value[key]})\nlet mergeModels = mds => {\n  let obj = {}\n  for (let key in mds) {\n    obj[key] = (mds[key].root) ? mds[key].root.init({key, ...R.dissoc('root', mds[key])}) : mds[key].init({key})\n  }\n  return obj\n}\n\n/* Merge child interfaces, flatten\n  childs : Array[Object]\n  interfaceName : String\n  scope : String // use scope if use this function uses two or more times in an interface\n*/\nlet mergeChilds = (childs, md, scope = '', interfaceName, connections) => {\n  let objs = {}\n  R.mapObjIndexed((state, idx) => {\n    R.mapObjIndexed((obj, name) => {\n      objs[scope + idx + '_' + name] = obj\n    }, connectInterface(md, interfaceName, state, connections(+idx)))\n  }, childs)\n  return objs\n}\n\nlet mergeChild = (state, md, scope, interfaceName, connections) => {\n  let objs = {}\n  R.mapObjIndexed((obj, name) => {\n    objs[scope + '_' + name] = obj\n  }, connectInterface(md, interfaceName, state, connections))\n  return objs\n}\n\nfunction addModuleInfo(mDef, obj) {\n  obj._moduleName = mDef.name\n  obj._log = mDef.log\n  obj._logAll = mDef.logAll\n  return obj\n}\n\n// Composition for Fractal core, (mDefinition, connections = {}) -> ContextualizedModule\nlet merge = (mDefinition, connections = {}) => {\n  let mDef = R.clone(mDefinition)\n\n  let ctx = {\n    action$: flyd.stream(),\n    task$: flyd.stream(),\n    styles: (!!mDef.styles) ? mDef.styles : {},\n  }\n  ctx.dispatch$ = tasks => {\n    if (tasks != undefined && tasks instanceof Array) {\n      if (tasks.of == undefined && typeof(tasks[0]) !== 'string') {\n        // verify that is not a task in the form [String, TaskAction]\n        // multiple action-task syntax\n        tasks.forEach(t => {\n          if (R.equals(t.of, mDef.Action)) {\n            ctx.action$(t)\n          } else {\n            ctx.task$(t)\n          }\n        })\n      } else if (R.equals(tasks.of, mDef.Action)) {\n        // single action syntax for an action\n        ctx.action$(tasks)\n      } else if (tasks instanceof Array) {\n        // single action syntax for a task\n        ctx.task$(tasks)\n      }\n    } else {\n      // none sense return\n      // ctx.task$('undefined') // DEBUG\n    }\n  }\n  // append the outputs in the context\n  for (let name in mDef.outputNames) {\n    ctx[mDef.outputNames[name]] = flyd.stream()\n  }\n\n  // connection with the context\n  for (let name in connections) {\n    if (!!ctx[name]) {\n      if (name === 'action$') {\n        flyd.on(d => connections[name](addModuleInfo(mDef, d)), ctx[name])\n      } else {\n        flyd.on(connections[name], ctx[name])\n      }\n    }\n  }\n\n  // contextualize inputs\n  let inputs = R.map(i => R.curryN(i.length, function(...args) {\n    // wrapper function for tasks\n    let tasks = i(...args)\n    ctx.dispatch$(tasks)\n  })(ctx, mDef.Action), mDef.inputs)\n  ctx._md = mDef.load(ctx, inputs, mDef.Action) || {}\n\n  // connect task$\n  connectTasksToModules(ctx._md)\n\n  function connectTasksToModules(mds) {\n    function connectTasks(md) {\n      if (md.mDef) {\n        flyd.on(task => ctx.task$(addModuleInfo(mDef, task)), md.ctx.task$)\n      } else {\n        // connect categorized modules\n        for (let subName in md) {\n          flyd.on(task => ctx.task$(addModuleInfo(mDef, task)), md[subName].ctx.task$)\n        }\n      }\n    }\n    function connectTasksToModules_func(mds) {\n      for (let name in mds) {\n        if (mds[name].mDef) {\n          connectTasks(mds[name])\n        } else if (!name === 'dynamicModules') {\n          connectTasksToModules_func(mds[name])\n        }\n      }\n    }\n    return connectTasksToModules_func(mds)\n  }\n\n  let md = (mds) => {\n    // connect task$\n    connectTasksToModules(mds)\n    ctx._md = R.merge(ctx._md, mds)\n  }\n  setTimeout(() => mDef.loadAfter(ctx, inputs, mDef.Action, md), 0)\n  // contextualize interfaces\n  mDef.interfaces = R.map(i => R.curryN(3, i)(ctx)(inputs), mDef.interfaces)\n\n  return {\n    ...mDef,\n    ctx,\n    inputs,\n  }\n}\n\n// merge a list of modules\nlet mergeList = (moduleNames, _md, interfaceName, f = interfaceObj => interfaceObj, rootModel) =>\n R.map(name => f(_md[name].interfaces[interfaceName](rootModel[name]), name), moduleNames)\n\n // merge a list of groups\nlet mergeGroup = (groupName, _md, interfaceName, f = interfaceObj => interfaceObj, rootModel) => {\n  let moduleNames = Object.keys(rootModel[groupName])\n  return R.map(name => f(_md[groupName][name].interfaces[interfaceName](rootModel[groupName][name]), name), moduleNames)\n}\n\nlet mapObjToArray = (fn, obj) => {\n  let arr = []\n  for (let key in obj)\n    arr.push(fn(obj[key], key))\n  return arr\n}\n\n// TODO: implement funtion that takes [list] -> ( (key, value) -> ({key, value}) ) -> {[key]: value}\n// Useful for optional styles\n\nlet mergeAll = (childDefs, i, scope = '', connectionsFn = (md, name) => ({})) => {\n  let connectionsMiddleFn = (connections, md, name) => {\n    if (!connections.action$) {\n      if (scope == '') {\n        connections.action$ = i._childAction(name, md.update)\n      } else {\n        connections.action$ = i._childActionScoped(scope, name, md.update)\n      }\n    }\n    return connections\n  }\n  return R.mapObjIndexed((md, name) => {\n    let _module = (md.root) ? md.root : md\n    return merge(_module, connectionsMiddleFn(connectionsFn(_module, name), _module, name))\n  }, childDefs)\n}\n\nlet mergeDynamicList = (scope, i, mds, interfaceName, interfaceFn = (md, idx) => view, m) => {\n  return m[scope].map((item, idx) => {\n    return interfaceFn(merge(mds.dynamicModules[scope], {\n      action$: i._dynamicChildAction(scope, mds.dynamicModules[scope].update, idx),\n      remove$: () => i._dynamicChildRemove(scope, idx),\n    }).interfaces[interfaceName](item), idx)\n  })\n}\n\n\nexport default {\n  merge,\n  mergeAll,\n  mergeDynamicList,\n  mergeModels,\n  mergeList,\n  mergeGroup,\n  addModuleInfo,\n// TODO: review the next\n  mergeChild,\n  mergeChilds,\n  connectInterface,\n  mapObjToArray,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/composing.js\n **/","'use strict';\n\nvar curryN = require('ramda/src/curryN');\n\n// Utility\nfunction isFunction(obj) {\n  return !!(obj && obj.constructor && obj.call && obj.apply);\n}\nfunction trueFn() { return true; }\n\n// Globals\nvar toUpdate = [];\nvar inStream;\nvar order = [];\nvar orderNextIdx = -1;\nvar flushing = false;\n\n/** @namespace */\nvar flyd = {}\n\n// /////////////////////////// API ///////////////////////////////// //\n\n/**\n * Creates a new stream\n *\n * __Signature__: `a -> Stream a`\n *\n * @name flyd.stream\n * @param {*} initialValue - (Optional) the initial value of the stream\n * @return {stream} the stream\n *\n * @example\n * var n = flyd.stream(1); // Stream with initial value `1`\n * var s = flyd.stream(); // Stream with no initial value\n */\nflyd.stream = function(initialValue) {\n  var endStream = createDependentStream([], trueFn);\n  var s = createStream();\n  s.end = endStream;\n  s.fnArgs = [];\n  endStream.listeners.push(s);\n  if (arguments.length > 0) s(initialValue);\n  return s;\n}\n\n/**\n * Create a new dependent stream\n *\n * __Signature__: `(...Stream * -> Stream b -> b) -> [Stream *] -> Stream b`\n *\n * @name flyd.combine\n * @param {Function} fn - the function used to combine the streams\n * @param {Array<stream>} dependencies - the streams that this one depends on\n * @return {stream} the dependent stream\n *\n * @example\n * var n1 = flyd.stream(0);\n * var n2 = flyd.stream(0);\n * var max = flyd.combine(function(n1, n2, self, changed) {\n *   return n1() > n2() ? n1() : n2();\n * }, [n1, n2]);\n */\nflyd.combine = curryN(2, combine);\nfunction combine(fn, streams) {\n  var i, s, deps, depEndStreams;\n  var endStream = createDependentStream([], trueFn);\n  deps = []; depEndStreams = [];\n  for (i = 0; i < streams.length; ++i) {\n    if (streams[i] !== undefined) {\n      deps.push(streams[i]);\n      if (streams[i].end !== undefined) depEndStreams.push(streams[i].end);\n    }\n  }\n  s = createDependentStream(deps, fn);\n  s.depsChanged = [];\n  s.fnArgs = s.deps.concat([s, s.depsChanged]);\n  s.end = endStream;\n  endStream.listeners.push(s);\n  addListeners(depEndStreams, endStream);\n  endStream.deps = depEndStreams;\n  updateStream(s);\n  return s;\n}\n\n/**\n * Returns `true` if the supplied argument is a Flyd stream and `false` otherwise.\n *\n * __Signature__: `* -> Boolean`\n *\n * @name flyd.isStream\n * @param {*} value - the value to test\n * @return {Boolean} `true` if is a Flyd streamn, `false` otherwise\n *\n * @example\n * var s = flyd.stream(1);\n * var n = 1;\n * flyd.isStream(s); //=> true\n * flyd.isStream(n); //=> false\n */\nflyd.isStream = function(stream) {\n  return isFunction(stream) && 'hasVal' in stream;\n}\n\n/**\n * Invokes the body (the function to calculate the value) of a dependent stream\n *\n * By default the body of a dependent stream is only called when all the streams\n * upon which it depends has a value. `immediate` can circumvent this behaviour.\n * It immediately invokes the body of a dependent stream.\n *\n * __Signature__: `Stream a -> Stream a`\n *\n * @name flyd.immediate\n * @param {stream} stream - the dependent stream\n * @return {stream} the same stream\n *\n * @example\n * var s = flyd.stream();\n * var hasItems = flyd.immediate(flyd.combine(function(s) {\n *   return s() !== undefined && s().length > 0;\n * }, [s]);\n * console.log(hasItems()); // logs `false`. Had `immediate` not been\n *                          // used `hasItems()` would've returned `undefined`\n * s([1]);\n * console.log(hasItems()); // logs `true`.\n * s([]);\n * console.log(hasItems()); // logs `false`.\n */\nflyd.immediate = function(s) {\n  if (s.depsMet === false) {\n    s.depsMet = true;\n    updateStream(s);\n  }\n  return s;\n}\n\n/**\n * Changes which `endsStream` should trigger the ending of `s`.\n *\n * __Signature__: `Stream a -> Stream b -> Stream b`\n *\n * @name flyd.endsOn\n * @param {stream} endStream - the stream to trigger the ending\n * @param {stream} stream - the stream to be ended by the endStream\n * @param {stream} the stream modified to be ended by endStream\n *\n * @example\n * var n = flyd.stream(1);\n * var killer = flyd.stream();\n * // `double` ends when `n` ends or when `killer` emits any value\n * var double = flyd.endsOn(flyd.merge(n.end, killer), flyd.combine(function(n) {\n *   return 2 * n();\n * }, [n]);\n*/\nflyd.endsOn = function(endS, s) {\n  detachDeps(s.end);\n  endS.listeners.push(s.end);\n  s.end.deps.push(endS);\n  return s;\n}\n\n/**\n * Map a stream\n *\n * Returns a new stream consisting of every value from `s` passed through\n * `fn`. I.e. `map` creates a new stream that listens to `s` and\n * applies `fn` to every new value.\n * __Signature__: `(a -> result) -> Stream a -> Stream result`\n *\n * @name flyd.map\n * @param {Function} fn - the function that produces the elements of the new stream\n * @param {stream} stream - the stream to map\n * @return {stream} a new stream with the mapped values\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = flyd.map(function(n) { return n*n; }, numbers);\n */\n// Library functions use self callback to accept (null, undefined) update triggers.\nflyd.map = curryN(2, function(f, s) {\n  return combine(function(s, self) { self(f(s.val)); }, [s]);\n})\n\n/**\n * Listen to stream events\n *\n * Similar to `map` except that the returned stream is empty. Use `on` for doing\n * side effects in reaction to stream changes. Use the returned stream only if you\n * need to manually end it.\n *\n * __Signature__: `(a -> result) -> Stream a -> Stream undefined`\n *\n * @name flyd.on\n * @param {Function} cb - the callback\n * @param {stream} stream - the stream\n * @return {stream} an empty stream (can be ended)\n */\nflyd.on = curryN(2, function(f, s) {\n  return combine(function(s) { f(s.val); }, [s]);\n})\n\n/**\n * Creates a new stream with the results of calling the function on every incoming\n * stream with and accumulator and the incoming value.\n *\n * __Signature__: `(a -> b -> a) -> a -> Stream b -> Stream a`\n *\n * @name flyd.scan\n * @param {Function} fn - the function to call\n * @param {*} val - the initial value of the accumulator\n * @param {stream} stream - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var numbers = flyd.stream();\n * var sum = flyd.scan(function(sum, n) { return sum+n; }, 0, numbers);\n * numbers(2)(3)(5);\n * sum(); // 10\n */\nflyd.scan = curryN(3, function(f, acc, s) {\n  var ns = combine(function(s, self) {\n    self(acc = f(acc, s.val));\n  }, [s]);\n  if (!ns.hasVal) ns(acc);\n  return ns;\n});\n\n/**\n * Creates a new stream down which all values from both `stream1` and `stream2`\n * will be sent.\n *\n * __Signature__: `Stream a -> Stream a -> Stream a`\n *\n * @name flyd.merge\n * @param {stream} source1 - one stream to be merged\n * @param {stream} source2 - the other stream to be merged\n * @return {stream} a stream with the values from both sources\n *\n * @example\n * var btn1Clicks = flyd.stream();\n * button1Elm.addEventListener(btn1Clicks);\n * var btn2Clicks = flyd.stream();\n * button2Elm.addEventListener(btn2Clicks);\n * var allClicks = flyd.merge(btn1Clicks, btn2Clicks);\n */\nflyd.merge = curryN(2, function(s1, s2) {\n  var s = flyd.immediate(combine(function(s1, s2, self, changed) {\n    if (changed[0]) {\n      self(changed[0]());\n    } else if (s1.hasVal) {\n      self(s1.val);\n    } else if (s2.hasVal) {\n      self(s2.val);\n    }\n  }, [s1, s2]));\n  flyd.endsOn(combine(function() {\n    return true;\n  }, [s1.end, s2.end]), s);\n  return s;\n});\n\n/**\n * Creates a new stream resulting from applying `transducer` to `stream`.\n *\n * __Signature__: `Transducer -> Stream a -> Stream b`\n *\n * @name flyd.transduce\n * @param {Transducer} xform - the transducer transformation\n * @param {stream} source - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var t = require('transducers.js');\n *\n * var results = [];\n * var s1 = flyd.stream();\n * var tx = t.compose(t.map(function(x) { return x * 2; }), t.dedupe());\n * var s2 = flyd.transduce(tx, s1);\n * flyd.combine(function(s2) { results.push(s2()); }, [s2]);\n * s1(1)(1)(2)(3)(3)(3)(4);\n * results; // => [2, 4, 6, 8]\n */\nflyd.transduce = curryN(2, function(xform, source) {\n  xform = xform(new StreamTransformer());\n  return combine(function(source, self) {\n    var res = xform['@@transducer/step'](undefined, source.val);\n    if (res && res['@@transducer/reduced'] === true) {\n      self.end(true);\n      return res['@@transducer/value'];\n    } else {\n      return res;\n    }\n  }, [source]);\n});\n\n/**\n * Returns `fn` curried to `n`. Use this function to curry functions exposed by\n * modules for Flyd.\n *\n * @name flyd.curryN\n * @function\n * @param {Integer} arity - the function arity\n * @param {Function} fn - the function to curry\n * @return {Function} the curried function\n *\n * @example\n * function add(x, y) { return x + y; };\n * var a = flyd.curryN(2, add);\n * a(2)(4) // => 6\n */\nflyd.curryN = curryN\n\n/**\n * Returns a new stream identical to the original except every\n * value will be passed through `f`.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream a`: `(a -> b) -> Stream b`\n *\n * @name stream.map\n * @param {Function} function - the function to apply\n * @return {stream} a new stream with the values mapped\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = numbers.map(function(n) { return n*n; });\n */\nfunction boundMap(f) { return flyd.map(f, this); }\n\n/**\n * Returns a new stream which is the result of applying the\n * functions from `this` stream to the values in `stream` parameter.\n *\n * `this` stream must be a stream of functions.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream (a -> b)`: `a -> Stream b`\n *\n * @name stream.ap\n * @param {stream} stream - the values stream\n * @return {stream} a new stram with the functions applied to values\n *\n * @example\n * var add = flyd.curryN(2, function(x, y) { return x + y; });\n * var numbers1 = flyd.stream();\n * var numbers2 = flyd.stream();\n * var addToNumbers1 = flyd.map(add, numbers1);\n * var added = addToNumbers1.ap(numbers2);\n */\nfunction ap(s2) {\n  var s1 = this;\n  return combine(function(s1, s2, self) { self(s1.val(s2.val)); }, [s1, s2]);\n}\n\n/**\n * Get a human readable view of a stream\n * @name stream.toString\n * @return {String} the stream string representation\n */\nfunction streamToString() {\n  return 'stream(' + this.val + ')';\n}\n\n/**\n * @name stream.end\n * @memberof stream\n * A stream that emits `true` when the stream ends. If `true` is pushed down the\n * stream the parent stream ends.\n */\n\n/**\n * @name stream.of\n * @function\n * @memberof stream\n * Returns a new stream with `value` as its initial value. It is identical to\n * calling `flyd.stream` with one argument.\n *\n * __Signature__: Called bound to `Stream (a)`: `b -> Stream b`\n *\n * @param {*} value - the initial value\n * @return {stream} the new stream\n *\n * @example\n * var n = flyd.stream(1);\n * var m = n.of(1);\n */\n\n// /////////////////////////// PRIVATE ///////////////////////////////// //\n/**\n * @private\n * Create a stream with no dependencies and no value\n * @return {Function} a flyd stream\n */\nfunction createStream() {\n  function s(n) {\n    if (arguments.length === 0) return s.val\n    updateStreamValue(s, n)\n    return s\n  }\n  s.hasVal = false;\n  s.val = undefined;\n  s.vals = [];\n  s.listeners = [];\n  s.queued = false;\n  s.end = undefined;\n  s.map = boundMap;\n  s.ap = ap;\n  s.of = flyd.stream;\n  s.toString = streamToString;\n  return s;\n}\n\n/**\n * @private\n * Create a dependent stream\n * @param {Array<stream>} dependencies - an array of the streams\n * @param {Function} fn - the function used to calculate the new stream value\n * from the dependencies\n * @return {stream} the created stream\n */\nfunction createDependentStream(deps, fn) {\n  var s = createStream();\n  s.fn = fn;\n  s.deps = deps;\n  s.depsMet = false;\n  s.depsChanged = deps.length > 0 ? [] : undefined;\n  s.shouldUpdate = false;\n  addListeners(deps, s);\n  return s;\n}\n\n/**\n * @private\n * Check if all the dependencies have values\n * @param {stream} stream - the stream to check depencencies from\n * @return {Boolean} `true` if all dependencies have vales, `false` otherwise\n */\nfunction initialDepsNotMet(stream) {\n  stream.depsMet = stream.deps.every(function(s) {\n    return s.hasVal;\n  });\n  return !stream.depsMet;\n}\n\n/**\n * @private\n * Update a dependent stream using its dependencies in an atomic way\n * @param {stream} stream - the stream to update\n */\nfunction updateStream(s) {\n  if ((s.depsMet !== true && initialDepsNotMet(s)) ||\n      (s.end !== undefined && s.end.val === true)) return;\n  if (inStream !== undefined) {\n    toUpdate.push(s);\n    return;\n  }\n  inStream = s;\n  if (s.depsChanged) s.fnArgs[s.fnArgs.length - 1] = s.depsChanged;\n  var returnVal = s.fn.apply(s.fn, s.fnArgs);\n  if (returnVal !== undefined) {\n    s(returnVal);\n  }\n  inStream = undefined;\n  if (s.depsChanged !== undefined) s.depsChanged = [];\n  s.shouldUpdate = false;\n  if (flushing === false) flushUpdate();\n}\n\n/**\n * @private\n * Update the dependencies of a stream\n * @param {stream} stream\n */\nfunction updateDeps(s) {\n  var i, o, list\n  var listeners = s.listeners;\n  for (i = 0; i < listeners.length; ++i) {\n    list = listeners[i];\n    if (list.end === s) {\n      endStream(list);\n    } else {\n      if (list.depsChanged !== undefined) list.depsChanged.push(s);\n      list.shouldUpdate = true;\n      findDeps(list);\n    }\n  }\n  for (; orderNextIdx >= 0; --orderNextIdx) {\n    o = order[orderNextIdx];\n    if (o.shouldUpdate === true) updateStream(o);\n    o.queued = false;\n  }\n}\n\n/**\n * @private\n * Add stream dependencies to the global `order` queue.\n * @param {stream} stream\n * @see updateDeps\n */\nfunction findDeps(s) {\n  var i\n  var listeners = s.listeners;\n  if (s.queued === false) {\n    s.queued = true;\n    for (i = 0; i < listeners.length; ++i) {\n      findDeps(listeners[i]);\n    }\n    order[++orderNextIdx] = s;\n  }\n}\n\n/**\n * @private\n */\nfunction flushUpdate() {\n  flushing = true;\n  while (toUpdate.length > 0) {\n    var s = toUpdate.shift();\n    if (s.vals.length > 0) s.val = s.vals.shift();\n    updateDeps(s);\n  }\n  flushing = false;\n}\n\n/**\n * @private\n * Push down a value into a stream\n * @param {stream} stream\n * @param {*} value\n */\nfunction updateStreamValue(s, n) {\n  if (n !== undefined && n !== null && isFunction(n.then)) {\n    n.then(s);\n    return;\n  }\n  s.val = n;\n  s.hasVal = true;\n  if (inStream === undefined) {\n    flushing = true;\n    updateDeps(s);\n    if (toUpdate.length > 0) flushUpdate(); else flushing = false;\n  } else if (inStream === s) {\n    markListeners(s, s.listeners);\n  } else {\n    s.vals.push(n);\n    toUpdate.push(s);\n  }\n}\n\n/**\n * @private\n */\nfunction markListeners(s, lists) {\n  var i, list;\n  for (i = 0; i < lists.length; ++i) {\n    list = lists[i];\n    if (list.end !== s) {\n      if (list.depsChanged !== undefined) {\n        list.depsChanged.push(s);\n      }\n      list.shouldUpdate = true;\n    } else {\n      endStream(list);\n    }\n  }\n}\n\n/**\n * @private\n * Add dependencies to a stream\n * @param {Array<stream>} dependencies\n * @param {stream} stream\n */\nfunction addListeners(deps, s) {\n  for (var i = 0; i < deps.length; ++i) {\n    deps[i].listeners.push(s);\n  }\n}\n\n/**\n * @private\n * Removes an stream from a dependency array\n * @param {stream} stream\n * @param {Array<stream>} dependencies\n */\nfunction removeListener(s, listeners) {\n  var idx = listeners.indexOf(s);\n  listeners[idx] = listeners[listeners.length - 1];\n  listeners.length--;\n}\n\n/**\n * @private\n * Detach a stream from its dependencies\n * @param {stream} stream\n */\nfunction detachDeps(s) {\n  for (var i = 0; i < s.deps.length; ++i) {\n    removeListener(s, s.deps[i].listeners);\n  }\n  s.deps.length = 0;\n}\n\n/**\n * @private\n * Ends a stream\n */\nfunction endStream(s) {\n  if (s.deps !== undefined) detachDeps(s);\n  if (s.end !== undefined) detachDeps(s.end);\n}\n\n/**\n * @private\n * transducer stream transformer\n */\nfunction StreamTransformer() { }\nStreamTransformer.prototype['@@transducer/init'] = function() { };\nStreamTransformer.prototype['@@transducer/result'] = function() { };\nStreamTransformer.prototype['@@transducer/step'] = function(s, v) { return v; };\n\nmodule.exports = flyd;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/lib/index.js\n **/","var _arity = require('./internal/_arity');\nvar _curry1 = require('./internal/_curry1');\nvar _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`, the\n * following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var sumArgs = (...args) => R.sum(args);\n *\n *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/curryN.js\n **/","module.exports = function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0: return function() { return fn.apply(this, arguments); };\n    case 1: return function(a0) { return fn.apply(this, arguments); };\n    case 2: return function(a0, a1) { return fn.apply(this, arguments); };\n    case 3: return function(a0, a1, a2) { return fn.apply(this, arguments); };\n    case 4: return function(a0, a1, a2, a3) { return fn.apply(this, arguments); };\n    case 5: return function(a0, a1, a2, a3, a4) { return fn.apply(this, arguments); };\n    case 6: return function(a0, a1, a2, a3, a4, a5) { return fn.apply(this, arguments); };\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) { return fn.apply(this, arguments); };\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) { return fn.apply(this, arguments); };\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) { return fn.apply(this, arguments); };\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) { return fn.apply(this, arguments); };\n    default: throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_arity.js\n **/","var _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curry1.js\n **/","module.exports = function _isPlaceholder(a) {\n  return a != null &&\n         typeof a === 'object' &&\n         a['@@functional/placeholder'] === true;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_isPlaceholder.js\n **/","var _curry1 = require('./_curry1');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2\n             : _curry1(function(_b) { return fn(a, _b); });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2\n             : _isPlaceholder(a) ? _curry1(function(_a) { return fn(_a, b); })\n             : _isPlaceholder(b) ? _curry1(function(_b) { return fn(a, _b); })\n             : fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curry2.js\n **/","var _arity = require('./_arity');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (!_isPlaceholder(received[combinedIdx]) ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined)\n                     : _arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _reduce = require('./internal/_reduce');\nvar keys = require('./keys');\n\n\n/**\n * Like `mapObj`, but passes additional arguments to the predicate function. The\n * predicate function is passed three arguments: *(value, key, obj)*.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig (v, k, {k: v} -> v) -> {k: v} -> {k: v}\n * @param {Function} fn A function called for each property in `obj`. Its return value will\n *        become a new property on the return object.\n * @param {Object} obj The object to iterate over.\n * @return {Object} A new object with the same keys as `obj` and values that are the result\n *         of running each property through `fn`.\n * @example\n *\n *      var values = { x: 1, y: 2, z: 3 };\n *      var prependKeyAndDouble = (num, key, obj) => key + (num * 2);\n *\n *      R.mapObjIndexed(prependKeyAndDouble, values); //=> { x: 'x2', y: 'y4', z: 'z6' }\n */\nmodule.exports = _curry2(function mapObjIndexed(fn, obj) {\n  return _reduce(function(acc, key) {\n    acc[key] = fn(obj[key], key, obj);\n    return acc;\n  }, {}, keys(obj));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/mapObjIndexed.js\n **/","var _curry1 = require('./_curry1');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f2;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 1) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else {\n      return fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry2.js\n **/","/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0) {\n      return f1;\n    } else if (a != null && a['@@functional/placeholder'] === true) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry1.js\n **/","var _xwrap = require('./_xwrap');\nvar bind = require('../bind');\nvar isArrayLike = require('../isArrayLike');\n\n\nmodule.exports = (function() {\n  function _arrayReduce(xf, acc, list) {\n    var idx = 0, len = list.length;\n    while (idx < len) {\n      acc = xf['@@transducer/step'](acc, list[idx]);\n      if (acc && acc['@@transducer/reduced']) {\n        acc = acc['@@transducer/value'];\n        break;\n      }\n      idx += 1;\n    }\n    return xf['@@transducer/result'](acc);\n  }\n\n  function _iterableReduce(xf, acc, iter) {\n    var step = iter.next();\n    while (!step.done) {\n      acc = xf['@@transducer/step'](acc, step.value);\n      if (acc && acc['@@transducer/reduced']) {\n        acc = acc['@@transducer/value'];\n        break;\n      }\n      step = iter.next();\n    }\n    return xf['@@transducer/result'](acc);\n  }\n\n  function _methodReduce(xf, acc, obj) {\n    return xf['@@transducer/result'](obj.reduce(bind(xf['@@transducer/step'], xf), acc));\n  }\n\n  var symIterator = (typeof Symbol !== 'undefined') ? Symbol.iterator : '@@iterator';\n  return function _reduce(fn, acc, list) {\n    if (typeof fn === 'function') {\n      fn = _xwrap(fn);\n    }\n    if (isArrayLike(list)) {\n      return _arrayReduce(fn, acc, list);\n    }\n    if (typeof list.reduce === 'function') {\n      return _methodReduce(fn, acc, list);\n    }\n    if (list[symIterator] != null) {\n      return _iterableReduce(fn, acc, list[symIterator]());\n    }\n    if (typeof list.next === 'function') {\n      return _iterableReduce(fn, acc, list);\n    }\n    throw new TypeError('reduce: list must be array or iterable');\n  };\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_reduce.js\n **/","module.exports = (function() {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n  XWrap.prototype['@@transducer/init'] = function() {\n    throw new Error('init not implemented on XWrap');\n  };\n  XWrap.prototype['@@transducer/result'] = function(acc) { return acc; };\n  XWrap.prototype['@@transducer/step'] = function(acc, x) {\n    return this.f(acc, x);\n  };\n\n  return function _xwrap(fn) { return new XWrap(fn); };\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xwrap.js\n **/","var _arity = require('./internal/_arity');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @see R.partial\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n */\nmodule.exports = _curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function() {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/bind.js\n **/","module.exports = function _arity(n, fn) {\n  // jshint unused:vars\n  switch (n) {\n    case 0: return function() { return fn.apply(this, arguments); };\n    case 1: return function(a0) { return fn.apply(this, arguments); };\n    case 2: return function(a0, a1) { return fn.apply(this, arguments); };\n    case 3: return function(a0, a1, a2) { return fn.apply(this, arguments); };\n    case 4: return function(a0, a1, a2, a3) { return fn.apply(this, arguments); };\n    case 5: return function(a0, a1, a2, a3, a4) { return fn.apply(this, arguments); };\n    case 6: return function(a0, a1, a2, a3, a4, a5) { return fn.apply(this, arguments); };\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) { return fn.apply(this, arguments); };\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) { return fn.apply(this, arguments); };\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) { return fn.apply(this, arguments); };\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) { return fn.apply(this, arguments); };\n    default: throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_arity.js\n **/","var _curry1 = require('./internal/_curry1');\nvar _isArray = require('./internal/_isArray');\n\n\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      R.isArrayLike([]); //=> true\n *      R.isArrayLike(true); //=> false\n *      R.isArrayLike({}); //=> false\n *      R.isArrayLike({length: 10}); //=> false\n *      R.isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n */\nmodule.exports = _curry1(function isArrayLike(x) {\n  if (_isArray(x)) { return true; }\n  if (!x) { return false; }\n  if (typeof x !== 'object') { return false; }\n  if (x instanceof String) { return false; }\n  if (x.nodeType === 1) { return !!x.length; }\n  if (x.length === 0) { return true; }\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n  return false;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/isArrayLike.js\n **/","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nmodule.exports = Array.isArray || function _isArray(val) {\n  return (val != null &&\n          val.length >= 0 &&\n          Object.prototype.toString.call(val) === '[object Array]');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_isArray.js\n **/","var _curry1 = require('./internal/_curry1');\nvar _has = require('./internal/_has');\n\n\n/**\n * Returns a list containing the names of all the enumerable own\n * properties of the supplied object.\n * Note that the order of the output array is not guaranteed to be\n * consistent across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\nmodule.exports = (function() {\n  // cover IE < 9 keys issues\n  var hasEnumBug = !({toString: null}).propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString',\n                            'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var contains = function contains(list, item) {\n    var idx = 0;\n    while (idx < list.length) {\n      if (list[idx] === item) {\n        return true;\n      }\n      idx += 1;\n    }\n    return false;\n  };\n\n  return typeof Object.keys === 'function' ?\n    _curry1(function keys(obj) {\n      return Object(obj) !== obj ? [] : Object.keys(obj);\n    }) :\n    _curry1(function keys(obj) {\n      if (Object(obj) !== obj) {\n        return [];\n      }\n      var prop, ks = [], nIdx;\n      for (prop in obj) {\n        if (_has(prop, obj)) {\n          ks[ks.length] = prop;\n        }\n      }\n      if (hasEnumBug) {\n        nIdx = nonEnumerableProps.length - 1;\n        while (nIdx >= 0) {\n          prop = nonEnumerableProps[nIdx];\n          if (_has(prop, obj) && !contains(ks, prop)) {\n            ks[ks.length] = prop;\n          }\n          nIdx -= 1;\n        }\n      }\n      return ks;\n    });\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/keys.js\n **/","module.exports = function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_has.js\n **/","var _clone = require('./internal/_clone');\nvar _curry1 = require('./internal/_curry1');\n\n\n/**\n * Creates a deep copy of the value which may contain (nested) `Array`s and `Object`s, `Number`s,\n * `String`s, `Boolean`s and `Date`s. `Function`s are not copied, but assigned by their\n * reference. Dispatches to a `clone` method if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A new object or array.\n * @example\n *\n *      var objects = [{}, {}, {}];\n *      var objectsClone = R.clone(objects);\n *      objects[0] === objectsClone[0]; //=> false\n */\nmodule.exports = _curry1(function clone(value) {\n  return value != null && typeof value.clone === 'function' ?\n    value.clone() :\n    _clone(value, [], []);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/clone.js\n **/","var _cloneRegExp = require('./_cloneRegExp');\nvar type = require('../type');\n\n\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Array} refFrom Array containing the source references\n * @param {Array} refTo Array containing the copied source references\n * @return {*} The copied value.\n */\nmodule.exports = function _clone(value, refFrom, refTo) {\n  var copy = function copy(copiedValue) {\n    var len = refFrom.length;\n    var idx = 0;\n    while (idx < len) {\n      if (value === refFrom[idx]) {\n        return refTo[idx];\n      }\n      idx += 1;\n    }\n    refFrom[idx + 1] = value;\n    refTo[idx + 1] = copiedValue;\n    for (var key in value) {\n      copiedValue[key] = _clone(value[key], refFrom, refTo);\n    }\n    return copiedValue;\n  };\n  switch (type(value)) {\n    case 'Object':  return copy({});\n    case 'Array':   return copy([]);\n    case 'Date':    return new Date(value);\n    case 'RegExp':  return _cloneRegExp(value);\n    default:        return value;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_clone.js\n **/","module.exports = function _cloneRegExp(pattern) {\n  return new RegExp(pattern.source, (pattern.global     ? 'g' : '') +\n                                    (pattern.ignoreCase ? 'i' : '') +\n                                    (pattern.multiline  ? 'm' : '') +\n                                    (pattern.sticky     ? 'y' : '') +\n                                    (pattern.unicode    ? 'u' : ''));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_cloneRegExp.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * Gives a single-word string description of the (native) type of a value, returning such\n * answers as 'Object', 'Number', 'Array', or 'Null'.  Does not attempt to distinguish user\n * Object types any further, reporting them all as 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n */\nmodule.exports = _curry1(function type(val) {\n  return val === null      ? 'Null'      :\n         val === undefined ? 'Undefined' :\n         Object.prototype.toString.call(val).slice(8, -1);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/type.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _dispatchable = require('./internal/_dispatchable');\nvar _map = require('./internal/_map');\nvar _reduce = require('./internal/_reduce');\nvar _xmap = require('./internal/_xmap');\nvar curryN = require('./curryN');\nvar keys = require('./keys');\n\n\n/**\n * Returns a new list, constructed by applying the supplied function to every element of the\n * supplied list.\n *\n * Note: `R.map` does not skip deleted or unassigned indices (sparse arrays), unlike the\n * native `Array.prototype.map` method. For more details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n * @see R.transduce\n *\n * Map treats also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @example\n *\n *      var double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n */\nmodule.exports = _curry2(_dispatchable('map', _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function() {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n    case '[object Object]':\n      return _reduce(function(acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n    default:\n      return _map(fn, functor);\n  }\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/map.js\n **/","var _isArray = require('./_isArray');\nvar _isTransformer = require('./_isTransformer');\nvar _slice = require('./_slice');\n\n\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a  function with [methodname], it will execute that\n * function (functor case). Otherwise, if it is a transformer, uses transducer\n * [xf] to return a new transformer (transducer case). Otherwise, it will\n * default to executing [fn].\n *\n * @private\n * @param {String} methodname property to check for a custom implementation\n * @param {Function} xf transducer to initialize if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\nmodule.exports = function _dispatchable(methodname, xf, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    if (!_isArray(obj)) {\n      var args = _slice(arguments, 0, length - 1);\n      if (typeof obj[methodname] === 'function') {\n        return obj[methodname].apply(obj, args);\n      }\n      if (_isTransformer(obj)) {\n        var transducer = xf.apply(null, args);\n        return transducer(obj);\n      }\n    }\n    return fn.apply(this, arguments);\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_dispatchable.js\n **/","module.exports = function _isTransformer(obj) {\n  return typeof obj['@@transducer/step'] === 'function';\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_isTransformer.js\n **/","/**\n * An optimized, private array `slice` implementation.\n *\n * @private\n * @param {Arguments|Array} args The array or arguments object to consider.\n * @param {Number} [from=0] The array index to slice from, inclusive.\n * @param {Number} [to=args.length] The array index to slice to, exclusive.\n * @return {Array} A new, sliced array.\n * @example\n *\n *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]\n *\n *      var firstThreeArgs = function(a, b, c, d) {\n *        return _slice(arguments, 0, 3);\n *      };\n *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]\n */\nmodule.exports = function _slice(args, from, to) {\n  switch (arguments.length) {\n    case 1: return _slice(args, 0, args.length);\n    case 2: return _slice(args, from, args.length);\n    default:\n      var list = [];\n      var idx = 0;\n      var len = Math.max(0, Math.min(args.length, to) - from);\n      while (idx < len) {\n        list[idx] = args[from + idx];\n        idx += 1;\n      }\n      return list;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_slice.js\n **/","module.exports = function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n  return result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_map.js\n **/","var _curry2 = require('./_curry2');\nvar _xfBase = require('./_xfBase');\n\n\nmodule.exports = (function() {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n  XMap.prototype['@@transducer/step'] = function(result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return _curry2(function _xmap(f, xf) { return new XMap(f, xf); });\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xmap.js\n **/","module.exports = {\n  init: function() {\n    return this.xf['@@transducer/init']();\n  },\n  result: function(result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xfBase.js\n **/","var _arity = require('./internal/_arity');\nvar _curry1 = require('./internal/_curry1');\nvar _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the\n * specified arity. The curried function has two unusual capabilities.\n * First, its arguments needn't be provided one at a time. If `g` is\n * `R.curryN(3, f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var sumArgs = (...args) => R.sum(args);\n *\n *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/curryN.js\n **/","var _arity = require('./_arity');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @return {array} An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (received[combinedIdx] == null ||\n           received[combinedIdx]['@@functional/placeholder'] !== true ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (result == null || result['@@functional/placeholder'] !== true) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\nvar keys = require('./keys');\n\n\n/**\n * Create a new object with the own properties of `a`\n * merged with the own properties of object `b`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} a\n * @param {Object} b\n * @return {Object}\n * @example\n *\n *      R.merge({ 'name': 'fred', 'age': 10 }, { 'age': 40 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      var resetToDefault = R.merge(R.__, {x: 0});\n *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}\n */\nmodule.exports = _curry2(function merge(a, b) {\n  var result = {};\n  var ks = keys(a);\n  var idx = 0;\n  while (idx < ks.length) {\n    result[ks[idx]] = a[ks[idx]];\n    idx += 1;\n  }\n  ks = keys(b);\n  idx = 0;\n  while (idx < ks.length) {\n    result[ks[idx]] = b[ks[idx]];\n    idx += 1;\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/merge.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _equals = require('./internal/_equals');\n\n\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise.\n * Dispatches to an `equals` method if present. Handles cyclical data\n * structures.\n *\n * Dispatches to the `equals` method of both arguments, if present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      var a = {}; a.v = a;\n *      var b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\nmodule.exports = _curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/equals.js\n **/","var _arrayFromIterator = require('./_arrayFromIterator');\nvar _has = require('./_has');\nvar identical = require('../identical');\nvar keys = require('../keys');\nvar type = require('../type');\n\n\nmodule.exports = function _equals(a, b, stackA, stackB) {\n  if (identical(a, b)) {\n    return true;\n  }\n\n  if (type(a) !== type(b)) {\n    return false;\n  }\n\n  if (a == null || b == null) {\n    return false;\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) &&\n           typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (type(a)) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      break;\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && identical(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n      break;\n    case 'Date':\n      if (!identical(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n      break;\n    case 'RegExp':\n      if (!(a.source === b.source &&\n            a.global === b.global &&\n            a.ignoreCase === b.ignoreCase &&\n            a.multiline === b.multiline &&\n            a.sticky === b.sticky &&\n            a.unicode === b.unicode)) {\n        return false;\n      }\n      break;\n    case 'Map':\n    case 'Set':\n      if (!_equals(_arrayFromIterator(a.entries()), _arrayFromIterator(b.entries()), stackA, stackB)) {\n        return false;\n      }\n      break;\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n      break;\n    case 'ArrayBuffer':\n      break;\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var idx = stackA.length - 1;\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n    idx -= 1;\n  }\n\n  stackA.push(a);\n  stackB.push(b);\n  idx = keysA.length - 1;\n  while (idx >= 0) {\n    var key = keysA[idx];\n    if (!(_has(key, b) && _equals(b[key], a[key], stackA, stackB))) {\n      return false;\n    }\n    idx -= 1;\n  }\n  stackA.pop();\n  stackB.pop();\n  return true;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_equals.js\n **/","module.exports = function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n  return list;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_arrayFromIterator.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns true if its arguments are identical, false otherwise. Values are\n * identical if they reference the same memory. `NaN` is identical to `NaN`;\n * `0` and `-0` are not identical.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> a -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      var o = {};\n *      R.identical(o, o); //=> true\n *      R.identical(1, 1); //=> true\n *      R.identical(1, '1'); //=> false\n *      R.identical([], []); //=> false\n *      R.identical(0, -0); //=> false\n *      R.identical(NaN, NaN); //=> true\n */\nmodule.exports = _curry2(function identical(a, b) {\n  // SameValue algorithm\n  if (a === b) { // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/identical.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns a new object that does not contain a `prop` property.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Object\n * @sig String -> {k: v} -> {k: v}\n * @param {String} prop the name of the property to dissociate\n * @param {Object} obj the object to clone\n * @return {Object} a new object similar to the original but without the specified property\n * @see R.assoc\n * @example\n *\n *      R.dissoc('b', {a: 1, b: 2, c: 3}); //=> {a: 1, c: 3}\n */\nmodule.exports = _curry2(function dissoc(prop, obj) {\n  var result = {};\n  for (var p in obj) {\n    if (p !== prop) {\n      result[p] = obj[p];\n    }\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/dissoc.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Creates a new object by recursively evolving a shallow copy of `object`, according to the\n * `transformation` functions. All non-primitive properties are copied by reference.\n *\n * A `transformation` function will not be invoked if its corresponding key does not exist in\n * the evolved object.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig {k: (v -> v)} -> {k: v} -> {k: v}\n * @param {Object} transformations The object specifying transformation functions to apply\n *        to the object.\n * @param {Object} object The object to be transformed.\n * @return {Object} The transformed object.\n * @example\n *\n *      var tomato  = {firstName: '  Tomato ', data: {elapsed: 100, remaining: 1400}, id:123};\n *      var transformations = {\n *        firstName: R.trim,\n *        lastName: R.trim, // Will not get invoked.\n *        data: {elapsed: R.add(1), remaining: R.add(-1)}\n *      };\n *      R.evolve(transformations, tomato); //=> {firstName: 'Tomato', data: {elapsed: 101, remaining: 1399}, id:123}\n */\nmodule.exports = _curry2(function evolve(transformations, object) {\n  var transformation, key, type, result = {};\n  for (key in object) {\n    transformation = transformations[key];\n    type = typeof transformation;\n    result[key] = type === 'function' ? transformation(object[key])\n                : type === 'object'   ? evolve(transformations[key], object[key])\n                                      : object[key];\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/evolve.js\n **/","var _concat = require('./internal/_concat');\nvar _curry3 = require('./internal/_curry3');\n\n\n/**\n * Applies a function to the value at the given index of an array,\n * returning a new copy of the array with the element at the given\n * index replaced with the result of the function application.\n * @see R.update\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig (a -> a) -> Number -> [a] -> [a]\n * @param {Function} fn The function to apply.\n * @param {Number} idx The index.\n * @param {Array|Arguments} list An array-like object whose value\n *        at the supplied index will be replaced.\n * @return {Array} A copy of the supplied array-like object with\n *         the element at index `idx` replaced with the value\n *         returned by applying `fn` to the existing element.\n * @example\n *\n *      R.adjust(R.add(10), 1, [0, 1, 2]);     //=> [0, 11, 2]\n *      R.adjust(R.add(10))(1)([0, 1, 2]);     //=> [0, 11, 2]\n */\nmodule.exports = _curry3(function adjust(fn, idx, list) {\n  if (idx >= list.length || idx < -list.length) {\n    return list;\n  }\n  var start = idx < 0 ? list.length : 0;\n  var _idx = start + idx;\n  var _list = _concat(list);\n  _list[_idx] = fn(list[_idx]);\n  return _list;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/adjust.js\n **/","/**\n * Private `concat` function to merge two array-like objects.\n *\n * @private\n * @param {Array|Arguments} [set1=[]] An array-like object.\n * @param {Array|Arguments} [set2=[]] An array-like object.\n * @return {Array} A new, merged array.\n * @example\n *\n *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n */\nmodule.exports = function _concat(set1, set2) {\n  set1 = set1 || [];\n  set2 = set2 || [];\n  var idx;\n  var len1 = set1.length;\n  var len2 = set2.length;\n  var result = [];\n\n  idx = 0;\n  while (idx < len1) {\n    result[result.length] = set1[idx];\n    idx += 1;\n  }\n  idx = 0;\n  while (idx < len2) {\n    result[result.length] = set2[idx];\n    idx += 1;\n  }\n  return result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_concat.js\n **/","var _curry1 = require('./_curry1');\nvar _curry2 = require('./_curry2');\n\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry3(fn) {\n  return function f3(a, b, c) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f3;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 1) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry2(function(a, c) { return fn(a, b, c); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 2) {\n      return _curry1(function(c) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return _curry2(function(a, b) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return _curry2(function(a, c) { return fn(a, b, c); });\n    } else if (n === 3 && b != null && b['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b, c); });\n    } else if (n === 3 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b, c); });\n    } else if (n === 3 && c != null && c['@@functional/placeholder'] === true) {\n      return _curry1(function(c) { return fn(a, b, c); });\n    } else {\n      return fn(a, b, c);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry3.js\n **/","var _concat = require('./internal/_concat');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns a new list containing the contents of the given list, followed by the given\n * element.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The element to add to the end of the new list.\n * @param {Array} list The list whose contents will be added to the beginning of the output\n *        list.\n * @return {Array} A new list containing the contents of the old list followed by `el`.\n * @see R.prepend\n * @example\n *\n *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']\n *      R.append('tests', []); //=> ['tests']\n *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]\n */\nmodule.exports = _curry2(function append(el, list) {\n  return _concat(list, [el]);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/append.js\n **/","var _concat = require('./internal/_concat');\nvar _curry3 = require('./internal/_curry3');\nvar _slice = require('./internal/_slice');\n\n\n/**\n * Removes the sub-list of `list` starting at index `start` and containing\n * `count` elements.  _Note that this is not destructive_: it returns a\n * copy of the list with the changes.\n * <small>No lists have been harmed in the application of this function.</small>\n *\n * @func\n * @memberOf R\n * @since v0.2.2\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @param {Number} start The position to start removing elements\n * @param {Number} count The number of elements to remove\n * @param {Array} list The list to remove from\n * @return {Array} A new Array with `count` elements from `start` removed.\n * @example\n *\n *      R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=> [1,2,6,7,8]\n */\nmodule.exports = _curry3(function remove(start, count, list) {\n  return _concat(_slice(list, 0, Math.min(start, list.length)),\n                 _slice(list, Math.min(list.length, start + count)));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/remove.js\n **/","var always = require('./always');\n\n\n/**\n * A function that always returns `true`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.always, R.F\n * @example\n *\n *      R.T(); //=> true\n */\nmodule.exports = always(true);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/T.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * Returns a function that always returns the given value. Note that for\n * non-primitives the value returned is a reference to the original value.\n *\n * This function is known as `const`, `constant`, or `K` (for K combinator)\n * in other languages and libraries.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> (* -> a)\n * @param {*} val The value to wrap in a function\n * @return {Function} A Function :: * -> val.\n * @example\n *\n *      var t = R.always('Tee');\n *      t(); //=> 'Tee'\n */\nmodule.exports = _curry1(function always(val) {\n  return function() {\n    return val;\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/always.js\n **/","import flyd from 'flyd'\r\nimport Type from 'union-type'\r\nimport { logAction, displayFromDiff, diff, actionModuleInfo } from './utils/logdiff'\r\nimport Composing from './utils/composing'\r\nimport timetravel from './modules/timetravel'\r\nimport style from './utils/style'\r\n\r\nconst R = {\r\n  pipe: require('ramda/src/pipe'),\r\n  equals: require('ramda/src/equals'),\r\n}\r\n\r\n// Attach architecture to the main module\r\nlet run = engineDef => {\r\n\r\n  let ctx, state$, driverStreams = {}, module\r\n  let middleUpdatesArr = [], middleware = engineDef.middleware || {}, log = engineDef.log || false\r\n  engineDef.logAll = (engineDef.hasOwnProperty('logAll')) ? engineDef.logAll : false\r\n\r\n  for (let key in middleware) {\r\n    middleUpdatesArr.push(middleware[key])\r\n  }\r\n\r\n  // TODO: Document that middleware can slow programs\r\n  let middleUpdates = (middleUpdatesArr.length == 0) ? m => m : R.pipe.apply(this, middleUpdatesArr)\r\n\r\n  let moduleDef = (engineDef.timetravel) ? timetravel(engineDef.root) : engineDef.root\r\n\r\n  let attach = state => { // state is used for webpack HMR\r\n\r\n    module = Composing.merge(moduleDef, {})\r\n    ctx = module.ctx\r\n\r\n    function log(m, newState, action = { _initial: true, _log: engineDef.log || engineDef.logAll, _moduleName: module.name }) {\r\n      let actionInfo = actionModuleInfo(action)\r\n      if (engineDef.log && actionInfo.log || engineDef.logAll) {\r\n        if (!action._initial) {\r\n          logAction(action)\r\n          displayFromDiff(diff(m, newState))\r\n        } else {\r\n          console.log('%c Fractal is initializing your app.', 'color: purple; font-size: 14px')\r\n          console.log('%c Initial state computed ...', 'color: purple; font-size: 14px')\r\n          console.log('%c Connecting machines to external world ...', 'color: purple; font-size: 14px')\r\n          console.log('%c Done. Have a nice day!! :)', 'color: purple; font-size: 14px')\r\n        }\r\n        console.log(newState)\r\n      }\r\n      return newState\r\n    }\r\n\r\n    state$ = flyd.scan((m, a) => log(m, middleUpdates(module.update(a, m)), Composing.addModuleInfo(module, a)), log({}, middleUpdates((state) ? state : module.init({key: 'mainModule'}))), ctx.action$) // state\r\n\r\n    // automerge services\r\n    if (!engineDef.tasks) {\r\n      engineDef.tasks = {}\r\n    }\r\n    if (!engineDef.drivers) {\r\n      engineDef.drivers = {}\r\n    }\r\n    for (let serviceName in engineDef.services) {\r\n      for (let taskName in engineDef.services[serviceName].tasks) {\r\n        if (taskName == '_') {\r\n          engineDef.tasks[serviceName] = engineDef.services[serviceName].tasks[taskName]\r\n        } else {\r\n          engineDef.tasks[`${serviceName}_${taskName}`] = engineDef.services[serviceName].tasks[taskName]\r\n        }\r\n      }\r\n      for (let driverName in engineDef.services[serviceName].drivers) {\r\n        if (driverName == '_') {\r\n          engineDef.drivers[serviceName] = engineDef.services[serviceName].drivers[driverName]\r\n        } else {\r\n          engineDef.drivers[`${serviceName}_${driverName}`] = engineDef.services[serviceName].drivers[driverName]\r\n        }\r\n      }\r\n    }\r\n\r\n    // connect tasks handlers to interfaces\r\n    flyd.on(t => {\r\n      let task = Composing.addModuleInfo(moduleDef, t)\r\n      if (engineDef.tasks[task[0]]) {\r\n        engineDef.tasks[task[0]].run(task[1])\r\n      } else if (engineDef.log && task._log || engineDef.logAll) {\r\n        console.warn(`There are no handler for ${task[0]} task, sended by ${task._moduleName} module`)\r\n      }\r\n    }, ctx.task$)\r\n\r\n    // attach drivers to interfaces\r\n    for (let driverName in engineDef.drivers) {\r\n      if (module.interfaces[driverName]) {\r\n        // TODO: evaluate error handling, maybe an error$ stream\r\n        // driverStreams[driverName] =\r\n        //   flyd.map(state => e('driverExecution', {name: driverName, state}, () => module.interfaces[driverName](state)), state$)\r\n        driverStreams[driverName] = flyd.map(module.interfaces[driverName], state$)\r\n        if (state) {\r\n          engineDef.drivers[driverName].reattach(driverStreams[driverName])\r\n        } else {\r\n          engineDef.drivers[driverName].attach(driverStreams[driverName])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  let disposeConnections = () => {\r\n    ctx.action$.end(true)\r\n    ctx.task$.end(true)\r\n    state$.end(true)\r\n    for (let driverName in driverStreams) {\r\n      driverStreams[driverName].end(true)\r\n      engineDef.drivers[driverName].dispose()\r\n    }\r\n  }\r\n\r\n  let dispose = () => {\r\n    disposeConnections()\r\n    style.dispose()\r\n  }\r\n\r\n  let reattach = (reModule) => {\r\n    // TODO: this can be optimized for hot realoading with a diff-patch algorithm\r\n    disposeConnections()\r\n    let newState = (R.equals(moduleDef.init({key: 'mainModule'}), reModule.init({key: 'mainModule'}))) ? state$() : reModule.init({key: 'mainModule'})\r\n    moduleDef = reModule\r\n    attach(newState)\r\n  }\r\n\r\n  attach()\r\n\r\n  return {\r\n    ctx,\r\n    inputs: module.inputs,\r\n    tasks: engineDef.tasks,\r\n    drivers: engineDef.drivers,\r\n    reattach,\r\n    dispose,\r\n  }\r\n}\r\n\r\nexport default {\r\n  run,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/engine.js\n **/","import deepDiff from 'deep-diff'\r\n\r\nexport const diff = deepDiff.diff\r\n\r\nexport function prettyAction(action) {\r\n  let actionInfo = actionModuleInfo(action)\r\n  return `${actionInfo.modulePath.join(' -> ')} / ${actionInfo.lastAction.name}: ${prettyParams(actionInfo.lastAction)}`\r\n}\r\n\r\n\r\nexport function prettyActionDetailed(action) {\r\n  let path = [], nested = action\r\n  while (nested[nested.length - 1] != undefined && nested[nested.length - 1].of != undefined) {\r\n    if (nested.length == 0) {\r\n      path.push(nested.name)\r\n    } else {\r\n      path.push(nested.name + ' ' + prettyParams(nested))\r\n    }\r\n    nested = nested[nested.length - 1]\r\n  }\r\n  path.push(nested.name)\r\n  return `${path.join(' -> ')} : ${prettyParams(nested)}`\r\n}\r\n\r\n// deep extract info from an Action: log, modulePath, lastAction\r\nexport function actionModuleInfo(action) {\r\n  let modulePath = [], nested = action, log, logAll = false\r\n  while (nested[nested.length - 1] != undefined && nested[nested.length - 1].of != undefined) {\r\n    logAll = logAll || nested._logAll\r\n    modulePath.push(nested._moduleName)\r\n    nested = nested[nested.length - 1]\r\n  }\r\n  log = logAll || nested._log || nested._logAll\r\n  modulePath.push(nested._moduleName)\r\n  return {\r\n    log,\r\n    modulePath,\r\n    lastAction: nested,\r\n  }\r\n}\r\n\r\nexport function prettyParams(params) {\r\n  let paramString = params.map(param => {\r\n    if (typeof(param) === 'function' || typeof(param) === 'object') {\r\n      if (Array.isArray(param)) {\r\n        return 'array'\r\n      } else {\r\n        return typeof param\r\n      }\r\n    }\r\n    return param\r\n  }).join(', ')\r\n  return (paramString === '') ? 'none' : paramString\r\n}\r\n\r\nexport function prettyDiff(diffArray) {\r\n  diffArray = diffArray || []\r\n  let logs = []\r\n  diffArray.forEach(diff => {\r\n    let getType = diff => {\r\n      if (diff.kind == 'N')\r\n        return 'added'\r\n      else if (diff.kind == 'D')\r\n        return 'deleted'\r\n      else if (diff.kind == 'E')\r\n        return 'edited'\r\n      else if (diff.kind == 'A')\r\n        return 'array'\r\n    }\r\n\r\n    let type = getType(diff)\r\n\r\n    if(type == 'array') // if an array is modified\r\n      logs.push(`${type} ${diff.path.join('.')} : index ${diff.index} ${getType(diff.item)}`)\r\n    else\r\n      logs.push(`${type} ${diff.path.join('.')} : ${diff.lhs} -> ${diff.rhs}`)\r\n  })\r\n  return logs\r\n}\r\n\r\nexport function logAction(action) { console.log(`%c${prettyAction(action)}`, 'color: green') }\r\n\r\nexport function displayFromDiff(diffArray) {\r\n  prettyDiff(diffArray).forEach(log => console.log(`%c${log}`, 'color: darkblue'))\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/logdiff.js\n **/","/*!\n * deep-diff.\n * Licensed under the MIT License.\n */\n;(function(root, factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function() {\n      return factory();\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.DeepDiff = factory();\n  }\n}(this, function(undefined) {\n  'use strict';\n\n  var $scope, conflict, conflictResolution = [];\n  if (typeof global === 'object' && global) {\n    $scope = global;\n  } else if (typeof window !== 'undefined') {\n    $scope = window;\n  } else {\n    $scope = {};\n  }\n  conflict = $scope.DeepDiff;\n  if (conflict) {\n    conflictResolution.push(\n      function() {\n        if ('undefined' !== typeof conflict && $scope.DeepDiff === accumulateDiff) {\n          $scope.DeepDiff = conflict;\n          conflict = undefined;\n        }\n      });\n  }\n\n  // nodejs compatible on server side and in the browser.\n  function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  }\n\n  function Diff(kind, path) {\n    Object.defineProperty(this, 'kind', {\n      value: kind,\n      enumerable: true\n    });\n    if (path && path.length) {\n      Object.defineProperty(this, 'path', {\n        value: path,\n        enumerable: true\n      });\n    }\n  }\n\n  function DiffEdit(path, origin, value) {\n    DiffEdit.super_.call(this, 'E', path);\n    Object.defineProperty(this, 'lhs', {\n      value: origin,\n      enumerable: true\n    });\n    Object.defineProperty(this, 'rhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffEdit, Diff);\n\n  function DiffNew(path, value) {\n    DiffNew.super_.call(this, 'N', path);\n    Object.defineProperty(this, 'rhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffNew, Diff);\n\n  function DiffDeleted(path, value) {\n    DiffDeleted.super_.call(this, 'D', path);\n    Object.defineProperty(this, 'lhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffDeleted, Diff);\n\n  function DiffArray(path, index, item) {\n    DiffArray.super_.call(this, 'A', path);\n    Object.defineProperty(this, 'index', {\n      value: index,\n      enumerable: true\n    });\n    Object.defineProperty(this, 'item', {\n      value: item,\n      enumerable: true\n    });\n  }\n  inherits(DiffArray, Diff);\n\n  function arrayRemove(arr, from, to) {\n    var rest = arr.slice((to || from) + 1 || arr.length);\n    arr.length = from < 0 ? arr.length + from : from;\n    arr.push.apply(arr, rest);\n    return arr;\n  }\n\n  function realTypeOf(subject) {\n    var type = typeof subject;\n    if (type !== 'object') {\n      return type;\n    }\n\n    if (subject === Math) {\n      return 'math';\n    } else if (subject === null) {\n      return 'null';\n    } else if (Array.isArray(subject)) {\n      return 'array';\n    } else if (Object.prototype.toString.call(subject) === '[object Date]') {\n      return 'date';\n    } else if (typeof subject.toString !== 'undefined' && /^\\/.*\\//.test(subject.toString())) {\n      return 'regexp';\n    }\n    return 'object';\n  }\n\n  function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {\n    path = path || [];\n    var currentPath = path.slice(0);\n    if (typeof key !== 'undefined') {\n      if (prefilter) {\n        if (typeof(prefilter) === 'function' && prefilter(currentPath, key)) { return; }\n        else if (typeof(prefilter) === 'object') {\n          if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) { return; }\n          if (prefilter.normalize) {\n            var alt = prefilter.normalize(currentPath, key, lhs, rhs);\n            if (alt) {\n              lhs = alt[0];\n              rhs = alt[1];\n            }\n          }\n        }\n      }\n      currentPath.push(key);\n    }\n\n    // Use string comparison for regexes\n    if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {\n      lhs = lhs.toString();\n      rhs = rhs.toString();\n    }\n\n    var ltype = typeof lhs;\n    var rtype = typeof rhs;\n    if (ltype === 'undefined') {\n      if (rtype !== 'undefined') {\n        changes(new DiffNew(currentPath, rhs));\n      }\n    } else if (rtype === 'undefined') {\n      changes(new DiffDeleted(currentPath, lhs));\n    } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    } else if (Object.prototype.toString.call(lhs) === '[object Date]' && Object.prototype.toString.call(rhs) === '[object Date]' && ((lhs - rhs) !== 0)) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    } else if (ltype === 'object' && lhs !== null && rhs !== null) {\n      stack = stack || [];\n      if (stack.indexOf(lhs) < 0) {\n        stack.push(lhs);\n        if (Array.isArray(lhs)) {\n          var i, len = lhs.length;\n          for (i = 0; i < lhs.length; i++) {\n            if (i >= rhs.length) {\n              changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));\n            } else {\n              deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);\n            }\n          }\n          while (i < rhs.length) {\n            changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));\n          }\n        } else {\n          var akeys = Object.keys(lhs);\n          var pkeys = Object.keys(rhs);\n          akeys.forEach(function(k, i) {\n            var other = pkeys.indexOf(k);\n            if (other >= 0) {\n              deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);\n              pkeys = arrayRemove(pkeys, other);\n            } else {\n              deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);\n            }\n          });\n          pkeys.forEach(function(k) {\n            deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);\n          });\n        }\n        stack.length = stack.length - 1;\n      }\n    } else if (lhs !== rhs) {\n      if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {\n        changes(new DiffEdit(currentPath, lhs, rhs));\n      }\n    }\n  }\n\n  function accumulateDiff(lhs, rhs, prefilter, accum) {\n    accum = accum || [];\n    deepDiff(lhs, rhs,\n      function(diff) {\n        if (diff) {\n          accum.push(diff);\n        }\n      },\n      prefilter);\n    return (accum.length) ? accum : undefined;\n  }\n\n  function applyArrayChange(arr, index, change) {\n    if (change.path && change.path.length) {\n      var it = arr[index],\n          i, u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          delete it[change.path[i]];\n          break;\n        case 'E':\n        case 'N':\n          it[change.path[i]] = change.rhs;\n          break;\n      }\n    } else {\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(arr[index], change.index, change.item);\n          break;\n        case 'D':\n          arr = arrayRemove(arr, index);\n          break;\n        case 'E':\n        case 'N':\n          arr[index] = change.rhs;\n          break;\n      }\n    }\n    return arr;\n  }\n\n  function applyChange(target, source, change) {\n    if (target && source && change && change.kind) {\n      var it = target,\n          i = -1,\n          last = change.path ? change.path.length - 1 : 0;\n      while (++i < last) {\n        if (typeof it[change.path[i]] === 'undefined') {\n          it[change.path[i]] = (typeof change.path[i] === 'number') ? [] : {};\n        }\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);\n          break;\n        case 'D':\n          delete it[change.path[i]];\n          break;\n        case 'E':\n        case 'N':\n          it[change.path[i]] = change.rhs;\n          break;\n      }\n    }\n  }\n\n  function revertArrayChange(arr, index, change) {\n    if (change.path && change.path.length) {\n      // the structure of the object at the index has changed...\n      var it = arr[index],\n          i, u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          revertArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'E':\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'N':\n          delete it[change.path[i]];\n          break;\n      }\n    } else {\n      // the array item is different...\n      switch (change.kind) {\n        case 'A':\n          revertArrayChange(arr[index], change.index, change.item);\n          break;\n        case 'D':\n          arr[index] = change.lhs;\n          break;\n        case 'E':\n          arr[index] = change.lhs;\n          break;\n        case 'N':\n          arr = arrayRemove(arr, index);\n          break;\n      }\n    }\n    return arr;\n  }\n\n  function revertChange(target, source, change) {\n    if (target && source && change && change.kind) {\n      var it = target,\n          i, u;\n      u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        if (typeof it[change.path[i]] === 'undefined') {\n          it[change.path[i]] = {};\n        }\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          // Array was modified...\n          // it will be an array...\n          revertArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          // Item was deleted...\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'E':\n          // Item was edited...\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'N':\n          // Item is new...\n          delete it[change.path[i]];\n          break;\n      }\n    }\n  }\n\n  function applyDiff(target, source, filter) {\n    if (target && source) {\n      var onChange = function(change) {\n        if (!filter || filter(target, source, change)) {\n          applyChange(target, source, change);\n        }\n      };\n      deepDiff(target, source, onChange);\n    }\n  }\n\n  Object.defineProperties(accumulateDiff, {\n\n    diff: {\n      value: accumulateDiff,\n      enumerable: true\n    },\n    observableDiff: {\n      value: deepDiff,\n      enumerable: true\n    },\n    applyDiff: {\n      value: applyDiff,\n      enumerable: true\n    },\n    applyChange: {\n      value: applyChange,\n      enumerable: true\n    },\n    revertChange: {\n      value: revertChange,\n      enumerable: true\n    },\n    isConflict: {\n      value: function() {\n        return 'undefined' !== typeof conflict;\n      },\n      enumerable: true\n    },\n    noConflict: {\n      value: function() {\n        if (conflictResolution) {\n          conflictResolution.forEach(function(it) {\n            it();\n          });\n          conflictResolution = null;\n        }\n        return accumulateDiff;\n      },\n      enumerable: true\n    }\n  });\n\n  return accumulateDiff;\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/deep-diff/index.js\n **/","const R = {\r\n  T: require('ramda/src/T'),\r\n  evolve: require('ramda/src/evolve'),\r\n  not: require('ramda/src/not'),\r\n  always: require('ramda/src/always'),\r\n  F: require('ramda/src/F'),\r\n  inc: require('ramda/src/inc'),\r\n  ifElse: require('ramda/src/ifElse'),\r\n  update: require('ramda/src/update'),\r\n  append: require('ramda/src/append'),\r\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\r\n}\r\nconst h = require('snabbdom/h')\r\nconst F = {...require('../core').default, ...require('../utils/composing').default}\r\nimport logAction from '../utils/logdiff'\r\n\r\n\r\nlet timetravel = (child, log = true) => {\r\n\r\n  return F.def({\r\n    logAll: true,\r\n    init: () => ({\r\n      time: 0,\r\n      active: true,\r\n      playing: false,\r\n      frameTime: 0,\r\n      opened: false,\r\n      state: child.init(),\r\n      history: [{ state: child.init(), timestamp: (new Date()).getTime() }],\r\n    }),\r\n    // inputs\r\n    inputs: {\r\n      toggleTimeTravel: (ctx, Action, _) => ctx.action$(Action.ToggleTimeTravel()),\r\n      setTime: (ctx, Action, time) => ctx.action$(Action.SetTime(time)),\r\n      childAction: (ctx, Action, a) => ctx.action$(Action.ChildAction(a)),\r\n      setActive: (ctx, Action, bool) => ctx.action$(Action.SetActive(bool)),\r\n      clearHistory: (ctx, Action, _) => ctx.action$(Action.ClearHistory()),\r\n      play: (ctx, Action, playing) => ctx.action$(Action.Play(playing)),\r\n      frame: (ctx, Action, _) => ctx.action$(Action.Frame()),\r\n    },\r\n    load: (ctx, i, Action) => {\r\n      return {\r\n        child: F.createContext(child, {action$: (s.active) ? i.childAction : a => {\r\n          if (log) {\r\n            logAction(a)\r\n          }\r\n        }}),\r\n      }\r\n    },\r\n    Action: {\r\n      ToggleTimeTravel: [],\r\n      Frame: [],\r\n      Play: [R.T],\r\n      SetActive: [R.T],\r\n      SetTime: [Number],\r\n      ClearHistory: [],\r\n      ChildAction: [Array],\r\n    },\r\n    update: {\r\n      ToggleTimeTravel: R.evolve({opened: R.not}),\r\n      SetActive: (bool, s) => R.evolve({active: R.always(bool)}, s),\r\n      SetTime: (time, s) => {\r\n        let validTime = time\r\n        if (time >= s.history.length)\r\n          validTime = s.history.length - 1\r\n        else if (time < 0)\r\n          validTime = 0\r\n        let nextState = s.history[validTime].state\r\n        return R.evolve({\r\n          active: R.F,\r\n          state: R.always(nextState),\r\n          time: R.always(validTime),\r\n        }, s)\r\n      },\r\n      ClearHistory: s => {\r\n        let step = R.evolve({timestamp: R.always((new Date()).getTime())}, s.history[s.time])\r\n        return R.evolve({\r\n          time: R.always(0),\r\n          state: R.always(step.state),\r\n          history: R.always([step]),\r\n        }, s)\r\n      },\r\n      ChildAction: (action, s) => {\r\n        let evolveFn = R.evolve({\r\n          state: child.update(action),\r\n          timestamp: R.always((new Date()).getTime())\r\n        }, s.history[s.time])\r\n        let newState = R.evolve({\r\n          time: R.inc,\r\n          state: R.always(evolveFn.state),\r\n          history: R.ifElse(\r\n            h => !!h[s.time + 1], // exist that registry in history?\r\n            R.update(s.time + 1, evolveFn), // rescribe history\r\n            R.append(evolveFn) // create history\r\n          )\r\n        }, s)\r\n        if (newState.history.length == 2) { // casse for large time witout an update\r\n          newState.history[0].timestamp = newState.history[1].timestamp\r\n        }\r\n        return newState\r\n      },\r\n\r\n      Play: (playing, s) => {\r\n        if (playing) {\r\n          if (s.time != s.history.length - 1)\r\n            return R.evolve({\r\n              active: R.F,\r\n              playing: R.T,\r\n              frameTime: R.always(s.history[s.time + 1].timestamp - s.history[s.time].timestamp),\r\n            }, s)\r\n          else\r\n            return R.evolve({\r\n              active: R.F,\r\n              playing: R.F,\r\n            }, s)\r\n        } else {\r\n          return R.evolve({\r\n            active: R.F,\r\n            playing: R.F,\r\n          }, s)\r\n        }\r\n      },\r\n      Frame: s => {\r\n        if (s.time != s.history.length - 1) {\r\n          let frameTime = (s.time < s.history.length - 2) ? R.always(s.history[s.time + 2].timestamp - s.history[s.time + 1].timestamp) : R.always(0)\r\n          let nextState = s.history[s.time + 1].state\r\n          return R.evolve({\r\n            active: R.F,\r\n            time: R.inc,\r\n            playing: frameTime >= 0,\r\n            state: R.always(nextState),\r\n            frameTime,\r\n          }, s)\r\n        } else\r\n          return R.evolve({\r\n            active: R.F,\r\n            playing: R.F,\r\n          }, s)\r\n      }\r\n    },\r\n    interfaces: {\r\n      view: (ctx, i, s) => { // inputs, outputs and state\r\n        return h('div', {style: {\r\n            width: '100%',\r\n            height: '100%',\r\n            overflow: 'auto',\r\n          } }, [\r\n          ctx._md.child.interfaces.view(s.history[s.time].state),\r\n          h('button', {\r\n            style: styles.toggleButton,\r\n            on: {click: i.toggleTimeTravel}\r\n          }, 'tt'),\r\n          h('footer', {style: {...styles.base, display: (s.opened) ? 'flex' : 'none'}}, [\r\n            h('div', {style: styles.controls}, [\r\n              h('button', {style: styles.button, on: {click: () => i.setTime(s.time - 1)}}, 'Back'),\r\n              h('button', {style: styles.button, on: {click: () => i.setTime(s.time + 1)}}, 'Forward'),\r\n              h('button', {style: styles.button, on: {click: () => i.setActive(!s.active)}}, (s.active) ? 'Pause' : 'Unpause'),\r\n              h('button', {style: styles.button, on: {click: () => i.clearHistory(undefined)}}, 'Clear history'),\r\n              h('button', {style: styles.button, on: {click: () => i.play(!s.playing)}}, (s.playing) ? 'Pause replay' : 'Replay'),\r\n              h('span', {style: styles.time}, s.time),\r\n            ]),\r\n            h('input', {\r\n              style: styles.slider,\r\n              props: {type: 'range', max: s.history.length - 1, min: 0, value: s.time},\r\n              on: {\r\n                input: ev => i.setTime(parseInt(ev.target.value)),\r\n              },\r\n            })\r\n          ]),\r\n        ])\r\n      },\r\n      // TODO: update this interface mergers\r\n      time: (ctx, i, s) => {\r\n        return {\r\n          timer: {\r\n            periodic: false,\r\n            active: s.playing,\r\n            time: s.frameTime,\r\n            on: i.frame,\r\n          },\r\n          ...(() => { // mergin child interfaces\r\n            let timers = {}\r\n            if (child.interfaces.time) {\r\n              R.mapObjIndexed((obj, name) => {\r\n                timers['child' + name] = obj\r\n                if (!s.active)\r\n                  timers['child' + name].active = false\r\n              }, ctx._md.child.interfaces.time(s.history[s.time].state))\r\n            }\r\n            return timers\r\n          })()\r\n        }\r\n      },\r\n      fetch: (ctx, i, s) => {\r\n        return {\r\n          ...(() => { // mergin child interfaces\r\n            let fetches = {}\r\n            if (child.interfaces.fetch) {\r\n              R.mapObjIndexed((obj, name) => {\r\n                fetches['child' + name] = obj\r\n                if (!s.active)\r\n                  fetches['child' + name].active = false\r\n              }, ctx._md.child.interfaces.fetch(s.history[s.time].state))\r\n            }\r\n            return fetches\r\n          })()\r\n        }\r\n      },\r\n    },\r\n\r\n  })\r\n}\r\n\r\nexport default timetravel\r\n\r\nconst styles = {\r\n  base: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    minHeight: '100px',\r\n    bottom: '0px',\r\n    display: 'flex',\r\n    'flex-direction': 'column',\r\n    'justify-content': 'center',\r\n    'align-items': 'center',\r\n    zIndex: '99999',\r\n  },\r\n  toggleButton: {\r\n    position: 'fixed',\r\n    bottom: '0px',\r\n    left: '0px',\r\n    zIndex: '10000',\r\n  },\r\n  controls: {\r\n    width: '100%',\r\n    minHeight: '30px',\r\n    'margin-bottom': '5px',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    'justify-content': 'space-around',\r\n  },\r\n  time: {\r\n    float: 'right',\r\n  },\r\n  slider: {\r\n    width: '90%',\r\n  },\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/timetravel.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * A function that returns the `!` of its argument. It will return `true` when\n * passed false-y value, and `false` when passed a truth-y one.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig * -> Boolean\n * @param {*} a any value\n * @return {Boolean} the logical inverse of passed argument.\n * @see R.complement\n * @example\n *\n *      R.not(true); //=> false\n *      R.not(false); //=> true\n *      R.not(0); => true\n *      R.not(1); => false\n */\nmodule.exports = _curry1(function not(a) {\n  return !a;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/not.js\n **/","var always = require('./always');\n\n\n/**\n * A function that always returns `false`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.always, R.T\n * @example\n *\n *      R.F(); //=> false\n */\nmodule.exports = always(false);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/F.js\n **/","var add = require('./add');\n\n\n/**\n * Increments its argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Math\n * @sig Number -> Number\n * @param {Number} n\n * @return {Number}\n * @see R.dec\n * @example\n *\n *      R.inc(42); //=> 43\n */\nmodule.exports = add(1);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/inc.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Adds two numbers. Equivalent to `a + b` but curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a\n * @param {Number} b\n * @return {Number}\n * @see R.subtract\n * @example\n *\n *      R.add(2, 3);       //=>  5\n *      R.add(7)(10);      //=> 17\n */\nmodule.exports = _curry2(function add(a, b) { return a + b; });\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/add.js\n **/","var _curry3 = require('./internal/_curry3');\nvar curryN = require('./curryN');\n\n\n/**\n * Creates a function that will process either the `onTrue` or the `onFalse` function depending\n * upon the result of the `condition` predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Logic\n * @see R.unless, R.when\n * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n * @param {Function} condition A predicate function\n * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n * @return {Function} A new unary function that will process either the `onTrue` or the `onFalse`\n *                    function depending upon the result of the `condition` predicate.\n * @example\n *\n *      var incCount = R.ifElse(\n *        R.has('count'),\n *        R.over(R.lensProp('count'), R.inc),\n *        R.assoc('count', 1)\n *      );\n *      incCount({});           //=> { count: 1 }\n *      incCount({ count: 1 }); //=> { count: 2 }\n */\nmodule.exports = _curry3(function ifElse(condition, onTrue, onFalse) {\n  return curryN(Math.max(condition.length, onTrue.length, onFalse.length),\n    function _ifElse() {\n      return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n    }\n  );\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/ifElse.js\n **/","var _curry3 = require('./internal/_curry3');\nvar adjust = require('./adjust');\nvar always = require('./always');\n\n\n/**\n * Returns a new copy of the array with the element at the\n * provided index replaced with the given value.\n * @see R.adjust\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig Number -> a -> [a] -> [a]\n * @param {Number} idx The index to update.\n * @param {*} x The value to exist at the given index of the returned array.\n * @param {Array|Arguments} list The source array-like object to be updated.\n * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.\n * @example\n *\n *      R.update(1, 11, [0, 1, 2]);     //=> [0, 11, 2]\n *      R.update(1)(11)([0, 1, 2]);     //=> [0, 11, 2]\n */\nmodule.exports = _curry3(function update(idx, x, list) {\n  return adjust(always(x), idx, list);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/update.js\n **/","var VNode = require('./vnode');\nvar is = require('./is');\n\nfunction addNS(data, children, sel) {\n  data.ns = 'http://www.w3.org/2000/svg';\n\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (var i = 0; i < children.length; ++i) {\n      addNS(children[i].data, children[i].children, children[i].sel);\n    }\n  }\n}\n\nmodule.exports = function h(sel, b, c) {\n  var data = {}, children, text, i;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else { data = b; }\n  }\n  if (is.array(children)) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = VNode(undefined, undefined, undefined, children[i]);\n    }\n  }\n  if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g') {\n    addNS(data, children, sel);\n  }\n  return VNode(sel, data, children, text, undefined);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/h.js\n **/","module.exports = function(sel, data, children, text, elm) {\n  var key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/vnode.js\n **/","module.exports = {\n  array: Array.isArray,\n  primitive: function(s) { return typeof s === 'string' || typeof s === 'number'; },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/is.js\n **/","var _arity = require('./internal/_arity');\nvar _pipe = require('./internal/_pipe');\nvar reduce = require('./reduce');\nvar tail = require('./tail');\n\n\n/**\n * Performs left-to-right function composition. The leftmost function may have\n * any arity; the remaining functions must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      var f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n */\nmodule.exports = function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n  return _arity(arguments[0].length,\n                reduce(_pipe, arguments[0], tail(arguments)));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/pipe.js\n **/","module.exports = function _pipe(f, g) {\n  return function() {\n    return g.call(this, f.apply(this, arguments));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_pipe.js\n **/","var _curry3 = require('./internal/_curry3');\nvar _reduce = require('./internal/_reduce');\n\n\n/**\n * Returns a single item by iterating through the list, successively calling the iterator\n * function and passing it an accumulator value and the current value from the array, and\n * then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*.  It may use `R.reduced` to\n * shortcut the iteration.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse arrays), unlike\n * the native `Array.prototype.reduce` method. For more details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n * @see R.reduced\n *\n * Dispatches to the `reduce` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a,b -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @example\n *\n *      var numbers = [1, 2, 3];\n *      var add = (a, b) => a + b;\n *\n *      R.reduce(add, 10, numbers); //=> 16\n */\nmodule.exports = _curry3(_reduce);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/reduce.js\n **/","var _checkForMethod = require('./internal/_checkForMethod');\nvar slice = require('./slice');\n\n\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @see R.head, R.init, R.last\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\nmodule.exports = _checkForMethod('tail', slice(1, Infinity));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/tail.js\n **/","var _isArray = require('./_isArray');\nvar _slice = require('./_slice');\n\n\n/**\n * Similar to hasMethod, this checks whether a function has a [methodname]\n * function. If it isn't an array it will execute that function otherwise it will\n * default to the ramda implementation.\n *\n * @private\n * @param {Function} fn ramda implemtation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\nmodule.exports = function _checkForMethod(methodname, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return (_isArray(obj) || typeof obj[methodname] !== 'function') ?\n      fn.apply(this, arguments) :\n      obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_checkForMethod.js\n **/","var _checkForMethod = require('./internal/_checkForMethod');\nvar _curry3 = require('./internal/_curry3');\n\n\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\nmodule.exports = _curry3(_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/slice.js\n **/","// abstractions for a service\nconst F = {\n  data: require('./utils/data'),\n}\nconst R = {\n  curry: require('ramda/src/curry'),\n}\n\n// serverName, store, events, init, connect\nexport default function service(defObj) {\n\n  let isQueued = !!defObj.isQueued\n\n  let log = defObj.hasOwnProperty('log') || true\n\n  // TODO: fix this bug\n  // let subscribed = defObj.subscribed || () => 0\n  let subscribed = true\n\n  let serverName = defObj.serverName\n  let store = defObj.store\n  // TODO: document store._initialNotify\n  store._initialNotify = store.hasOwnProperty('_initialNotify') ? store._initialNotify : true\n  let eventQueue = []\n\n\n  let subscribers = -1\n\n  let events = defObj.events(store, notify, emit)\n  function emit(name, value, cbObj) {\n    if (events[name]) {\n      if (store.connected || !isQueued) {\n        events[name](value, cbObj)\n      } else {\n        eventQueue.push({name, value, cbObj})\n      }\n    } else if (log) {\n      console.warn(`There are no event handler for ${name} in this service`)\n    }\n  }\n  let init = R.curry(defObj.init)(store, emit)\n  defObj.connect = R.curry(defObj.connect)(store, emit)\n\n  function notify(name, data) {\n    for (var subscriber in subscribers) {\n      let parts = subscriber.split('_')\n      if (parts[parts.length - 1] === name) {\n        subscribers[subscriber](data)\n      }\n    }\n  }\n\n  function subscribeAll(subs) {\n    // avoid a bug with flyd.on TODO: needs review\n    if (subs != undefined) {\n      if (subscribers == -1 && store._initialNotify) { // Fixed needs review\n        subscribers = subs\n      } else {\n        subscribers = subs\n      }\n    }\n  }\n\n  // merge tasks and drivers to store\n  if (defObj.tasks) {\n    defObj.tasks = defObj.tasks(emit)\n    store._tasks = defObj.tasks\n  }\n  if (defObj.drivers) {\n    defObj.drivers = defObj.drivers(emit, subscribeAll)\n    store._drivers = defObj.drivers\n  }\n\n  return {\n    serverName,\n    get: function(key) {\n      return data[key]\n    },\n    emit,\n    connect: function(connectionInfo) {\n      function success() {\n        let promises = []\n        let ev\n        while (ev = eventQueue.pop()) {\n          promises.push(new Promise(function(resolve, reject) {\n            events[ev.name](ev.value, resolve, reject)\n          }))\n        }\n        // TODO: handle errors\n        Promise.all(promises)\n          .then(() => init(() => 0, () => 0))\n      }\n\n      defObj.connect(connectionInfo, (isQueued) ? success : init(() => 0, () => 0))\n    },\n    tasks: defObj.tasks,\n    drivers: defObj.drivers,\n    subscribeAll,\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/service.js\n **/","\n// common fetch utils\n\nconst fetchObj = obj => {\n  let handled = false\n  let status = (response) => {\n    if (response.status >= 200 && response.status < 300) {\n      handled = true\n      return Promise.resolve(response)\n    } else {\n      if (response.status == 401 || response.status == 403) {\n        obj.error('denied', response.status)\n      } else {\n        obj.error('error', response.status)\n      }\n      handled = true\n      return Promise.reject(new Error(response.statusText))\n    }\n  }\n\n  return fetch(obj.url, obj.options)\n  .then(status)\n  .then(obj.response)\n  .then(obj.success)\n  .catch(err => {\n    if (!handled) {\n      obj.error('netError', err)\n    } else {\n      console.log('ERROR in fetch handler!!!')\n      console.error(err)\n    }\n  })\n}\n\nconst fetchAll = (objs, success) => {\n\n  let promiseArray = objs.map((obj, i) => {\n    let handled = false\n    let status = (response) => {\n      if (response.status >= 200 && response.status < 300) {\n        handled = true\n        return Promise.resolve(response)\n      } else {\n        if (response.status == 401 || response.status == 403) {\n          obj.error('denied', response.status)\n        } else {\n          obj.error('error', response.status)\n        }\n        handled = true\n        return Promise.reject(new Error(response.statusText))\n      }\n    }\n\n    return fetch(obj.url, obj.options)\n      .then(status)\n      .then(obj.response)\n      .then\n  })\n\n  return Promise.all(promiseArray)\n  .then(success)\n}\n\nexport default {\n  fetch: fetchObj,\n  fetchAll,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/data.js\n **/","var _curry1 = require('./internal/_curry1');\nvar curryN = require('./curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function. The curried\n * function has two unusual capabilities. First, its arguments needn't\n * be provided one at a time. If `f` is a ternary function and `g` is\n * `R.curry(f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN\n * @example\n *\n *      var addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      var curriedAddFourNumbers = R.curry(addFourNumbers);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/curry.js\n **/","const F = {...require('../core').default, ...require('../utils/composing').default}\r\nconst h = require('snabbdom/h')\r\n\r\n\r\nexport default F.def({\r\n  init: ({key}) => ({key}),\r\n  inputs: {},\r\n  actions: {},\r\n  interfaces: {\r\n    view: (ctx, i, m) => h('div', 'There are no children'),\r\n  },\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/noChildren.js\n **/","let logVal = (x, scope = '__') => {\r\n  console.log(`%c ${x} in ${scope}`, 'color: purple; font-size: 20px')\r\n  return x\r\n}\r\n\r\nexport default {\r\n  logVal,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/test.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    setFocused: [String, R.T, R.T],\r\n    addWindowListener: [String, R.T],\r\n    removeWindowListener: [String, R.T],\r\n  }),\r\n  task: function(rootSelector) {\r\n    let taskFn = this.types.caseOn({\r\n      setFocused: (elementSelector, focused, {success = () => 0, error = () => 0}) => {\r\n        let elements = document.querySelectorAll(`${rootSelector} ${elementSelector}`)\r\n        if (elements.length === 1) {\r\n          if (focused) {\r\n            elements[0].focus()\r\n          } else {\r\n            elements[0].blur()\r\n          }\r\n          return success()\r\n        }\r\n        error(`No element selected at: ${rootSelector} ${elementSelector}`)\r\n      },\r\n      addWindowListener: (eventName, subsfn) => {\r\n        window.addEventListener(eventName, subsfn)\r\n      },\r\n      removeWindowListener: (eventName, subsfn) => {\r\n        window.removeEventListener(eventName, subsfn)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/view.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    emit: [String, R.T, R.T],\r\n  }),\r\n  task: function(emitData) {\r\n    let taskFn = this.types.caseOn({\r\n      emit: (key, value, {success = () => 0, error = () => 0}) => {\r\n        emitData(key, value, {success, error})\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/data.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    send: [String],\r\n  }),\r\n  task: function(sendValue) {\r\n    let taskFn = this.types.caseOn({\r\n      send: (value) => {\r\n        sendValue(value)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/value.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n// emitter should implement emit function\r\nexport default {\r\n  types: Type({\r\n    emit: [String, R.T, R.T],\r\n  }),\r\n  task: function(emt) {\r\n    let emitter = emt\r\n    let taskFn = this.types.caseOn({\r\n      emit: (channel, message, success = () => {}) => {\r\n        if (emitter != undefined) {\r\n          emitter.emit(channel, message, success)\r\n        }\r\n      },\r\n    })\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: emitter,\r\n      set: function(emt) {emitter = emt},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/emitter.js\n **/","import Type from 'union-type'\r\nimport data from '../utils/data'\r\nconst R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    fetch: [Object],\r\n  }),\r\n  task: function() {\r\n    let taskFn = this.types.caseOn({\r\n      fetch: (obj) => data.fetch(obj),\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(obj) {\r\n        // perform side effect\r\n        return taskFn(obj, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/fetch.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    read: [R.T, R.T],\r\n  }),\r\n  task: function() {\r\n    let taskFn = this.types.caseOn({\r\n      read: (file, {success = () => 0, error = () => 0}) => {\r\n        var reader = new FileReader()\r\n        reader.onload = function(ev) {\r\n          var contents = ev.target.result\r\n          success(contents)\r\n        }\r\n        reader.onerror = () => error(`Error reading ${file}`)\r\n        reader.readAsText(file)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/file.js\n **/","\r\nconst flyd = require('flyd')\r\nconst h = require('snabbdom/h')\r\n\r\n// Common snabbdom patch function (convention over configuration)\r\nconst patch = require('snabbdom').init([\r\n  require('snabbdom/modules/class'),\r\n  require('snabbdom/modules/attributes'),\r\n  require('snabbdom/modules/props'),\r\n  require('snabbdom/modules/eventlisteners'),\r\n  require('snabbdom/modules/style'),\r\n])\r\n\r\nexport default function view(selector, patchfn = patch) {\r\n  let lastContainer, renderer$\r\n  return {\r\n    attach: (vnode$) => {\r\n      window.addEventListener('DOMContentLoaded', function() {\r\n        let container = document.querySelector(selector)\r\n        renderer$ = flyd.scan(patchfn, container, vnode$.map(vnode => h('div' + selector, [vnode])))\r\n      })\r\n    },\r\n    reattach: (vnode$) => {\r\n      lastContainer = patchfn(document.querySelector(selector), h('div' + selector))\r\n      renderer$ = flyd.scan(patchfn, lastContainer, vnode$.map(vnode => h('div' + selector, [vnode])))\r\n    },\r\n    dispose: () => {\r\n      renderer$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/view.js\n **/","// jshint newcap: false\n/* global require, module, document, Node */\n'use strict';\n\nvar VNode = require('./vnode');\nvar is = require('./is');\nvar domApi = require('./htmldomapi');\n\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\n\nvar emptyNode = VNode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1, vnode2) {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n  var i, map = {}, key;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) map[key] = i;\n  }\n  return map;\n}\n\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nfunction init(modules, api) {\n  var i, j, cbs = {};\n\n  if (isUndef(api)) api = domApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (modules[j][hooks[i]] !== undefined) cbs[hooks[i]].push(modules[j][hooks[i]]);\n    }\n  }\n\n  function emptyNodeAt(elm) {\n    var id = elm.id ? '#' + elm.id : '';\n    var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return VNode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm, listeners) {\n    return function() {\n      if (--listeners === 0) {\n        var parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode, insertedVnodeQueue) {\n    var i, data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    var elm, children = vnode.children, sel = vnode.sel;\n    if (isDef(sel)) {\n      // Parse selector\n      var hashIdx = sel.indexOf('#');\n      var dotIdx = sel.indexOf('.', hashIdx);\n      var hash = hashIdx > 0 ? hashIdx : sel.length;\n      var dot = dotIdx > 0 ? dotIdx : sel.length;\n      var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                                                          : api.createElement(tag);\n      if (hash < dot) elm.id = sel.slice(hash + 1, dot);\n      if (dotIdx > 0) elm.className = sel.slice(dot + 1).replace(/\\./g, ' ');\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          api.appendChild(elm, createElm(children[i], insertedVnodeQueue));\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      i = vnode.data.hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      elm = vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      api.insertBefore(parentElm, createElm(vnodes[startIdx], insertedVnodeQueue), before);\n    }\n  }\n\n  function invokeDestroyHook(vnode) {\n    var i, j, data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (isDef(i = vnode.children)) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          invokeDestroyHook(vnode.children[j]);\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var i, listeners, rm, ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n    var oldStartIdx = 0, newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, elmToMove, before;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        idxInOld = oldKeyToIdx[newStartVnode.key];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n          oldCh[idxInOld] = undefined;\n          api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      before = isUndef(newCh[newEndIdx+1]) ? null : newCh[newEndIdx+1].elm;\n      addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n    var i, hook;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    var elm = vnode.elm = oldVnode.elm, oldCh = oldVnode.children, ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (!sameVnode(oldVnode, vnode)) {\n      var parentElm = api.parentNode(oldVnode.elm);\n      elm = createElm(vnode, insertedVnodeQueue);\n      api.insertBefore(parentElm, elm, oldVnode.elm);\n      removeVnodes(parentElm, [oldVnode], 0, 0);\n      return;\n    }\n    if (isDef(vnode.data)) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      api.setTextContent(elm, vnode.text);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function(oldVnode, vnode) {\n    var i, elm, parent;\n    var insertedVnodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (isUndef(oldVnode.sel)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n\nmodule.exports = {init: init};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/snabbdom.js\n **/","function createElement(tagName){\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI, qualifiedName){\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text){\n  return document.createTextNode(text);\n}\n\n\nfunction insertBefore(parentNode, newNode, referenceNode){\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\n\nfunction removeChild(node, child){\n  node.removeChild(child);\n}\n\nfunction appendChild(node, child){\n  node.appendChild(child);\n}\n\nfunction parentNode(node){\n  return node.parentElement;\n}\n\nfunction nextSibling(node){\n  return node.nextSibling;\n}\n\nfunction tagName(node){\n  return node.tagName;\n}\n\nfunction setTextContent(node, text){\n  node.textContent = text;\n}\n\nmodule.exports = {\n  createElement: createElement,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  appendChild: appendChild,\n  removeChild: removeChild,\n  insertBefore: insertBefore,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/htmldomapi.js\n **/","function updateClass(oldVnode, vnode) {\n  var cur, name, elm = vnode.elm,\n      oldClass = oldVnode.data.class,\n      klass = vnode.data.class;\n\n  if (!oldClass && !klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      elm.classList[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nmodule.exports = {create: updateClass, update: updateClass};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/class.js\n **/","var NamespaceURIs = {\n  \"xlink\": \"http://www.w3.org/1999/xlink\"\n};\n\nvar booleanAttrs = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n                \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n                \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n                \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n                \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n                \"truespeed\", \"typemustmatch\", \"visible\"];\n\nvar booleanAttrsDict = Object.create(null);\nfor(var i=0, len = booleanAttrs.length; i < len; i++) {\n  booleanAttrsDict[booleanAttrs[i]] = true;\n}\n\nfunction updateAttrs(oldVnode, vnode) {\n  var key, cur, old, elm = vnode.elm,\n      oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs, namespaceSplit;\n\n  if (!oldAttrs && !attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      if(!cur && booleanAttrsDict[key])\n        elm.removeAttribute(key);\n      else {\n        namespaceSplit = key.split(\":\");\n        if(namespaceSplit.length > 1 && NamespaceURIs.hasOwnProperty(namespaceSplit[0]))\n          elm.setAttributeNS(NamespaceURIs[namespaceSplit[0]], key, cur);\n        else\n          elm.setAttribute(key, cur);\n      }\n    }\n  }\n  //remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nmodule.exports = {create: updateAttrs, update: updateAttrs};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/attributes.js\n **/","function updateProps(oldVnode, vnode) {\n  var key, cur, old, elm = vnode.elm,\n      oldProps = oldVnode.data.props, props = vnode.data.props;\n\n  if (!oldProps && !props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete elm[key];\n    }\n  }\n  for (key in props) {\n    cur = props[key];\n    old = oldProps[key];\n    if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n      elm[key] = cur;\n    }\n  }\n}\n\nmodule.exports = {create: updateProps, update: updateProps};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/props.js\n **/","function invokeHandler(handler, vnode, event) {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call handler with arguments\n    if (typeof handler[0] === \"function\") {\n      // special case for single argument for performance\n      if (handler.length === 2) {\n        handler[0].call(vnode, handler[1], event, vnode);\n      } else {\n        var args = handler.slice(1);\n        args.push(event);\n        args.push(vnode);\n        handler[0].apply(vnode, args);\n      }\n    } else {\n      // call multiple handlers\n      for (var i = 0; i < handler.length; i++) {\n        invokeHandler(handler[i]);\n      }\n    }\n  }\n}\n\nfunction handleEvent(event, vnode) {\n  var name = event.type,\n      on = vnode.data.on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event) {\n    handleEvent(event, handler.vnode);\n  }\n}\n\nfunction updateEventListeners(oldVnode, vnode) {\n  var oldOn = oldVnode.data.on,\n      oldListener = oldVnode.listener,\n      oldElm = oldVnode.elm,\n      on = vnode && vnode.data.on,\n      elm = vnode && vnode.elm,\n      name;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    var listener = vnode.listener = oldVnode.listener || createListener();\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/eventlisteners.js\n **/","var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj, prop, val) {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode, vnode) {\n  var cur, name, elm = vnode.elm,\n      oldStyle = oldVnode.data.style,\n      style = vnode.data.style;\n\n  if (!oldStyle && !style) return;\n  oldStyle = oldStyle || {};\n  style = style || {};\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      elm.style[name] = '';\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed') {\n      for (name in style.delayed) {\n        cur = style.delayed[name];\n        if (!oldHasDel || cur !== oldStyle.delayed[name]) {\n          setNextFrame(elm.style, name, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      elm.style[name] = cur;\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode) {\n  var style, name, elm = vnode.elm, s = vnode.data.style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    elm.style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode, rm) {\n  var s = vnode.data.style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  var name, elm = vnode.elm, idx, i = 0, maxDur = 0,\n      compStyle, style = s.remove, amount = 0, applied = [];\n  for (name in style) {\n    applied.push(name);\n    elm.style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm);\n  var props = compStyle['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  elm.addEventListener('transitionend', function(ev) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nmodule.exports = {create: updateStyle, update: updateStyle, destroy: applyDestroyStyle, remove: applyRemoveStyle};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/style.js\n **/","const flyd = require('flyd')\r\n\r\n\r\nexport default function event(cb) {\r\n  return {\r\n    listener$: null,\r\n    attach: function (event$) {\r\n      this.listener$ = flyd.on(cb, event$)\r\n    },\r\n    reattach: function (event$) {\r\n      this.listener$ = flyd.on(cb, event$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/event.js\n **/","const flyd = require('flyd')\n\n// l should implement removeAllListeners and on functions\nexport default function listenable(l) {\n\n  let listenable = l || {}\n\n  /* In the form: {\n    listenerName1: [listenerFn1, listenerFn2, ...],\n    listenerName2: [listenerFn1, listenerFn2, ...],\n  }\n  */\n  let listeners\n\n  if (!listenable.removeAllListeners) {\n    listenable.removeAllListeners = () => {}\n  }\n\n  function setSubscribers(subs) {\n\n    listeners = {}\n\n    for (let subscriber in subs) {\n      let parts = subscriber.split('_')\n      let name = parts[parts.length - 1]\n      if (listeners[name]) {\n        listeners[name].push(subs[subscriber])\n      } else {\n        listeners[name] = [subs[subscriber]]\n      }\n    }\n\n    setListeners()\n  }\n\n  function setListeners() {\n    for (let listenerName in listeners) {\n      let listenerArr = listeners[listenerName]\n      if (listenerArr.length > 0 && listenable != undefined) {\n        listenable.removeAllListeners(listenerName)\n        for (let i = listenerArr.length - 1; i >= 0; i--) {\n          listenable.on(listenerName, listenerArr[i])\n        }\n      }\n    }\n  }\n\n  return {\n    listener$: null,\n    attach: function (event$) {\n      this.listener$ = flyd.on(setSubscribers, event$)\n    },\n    reattach: function (event$) {\n      this.listener$ = flyd.on(setSubscribers, event$)\n    },\n    dispose: function () {\n      this.listener$.end(true)\n    },\n    get: function() {return listenable},\n    set: function(s) {\n      listenable = s\n      setListeners()\n    },\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/listenable.js\n **/","const flyd = require('flyd')\nconst R = require('ramda')\n\n\nexport default function stateChange() {\n\n  let _states = {\n    // stateAny: {\n    //   state: {},\n    //   do: () => 0,\n    // }\n  }\n\n  function setStates(states) {\n\n    for (let stateName in states) {\n      let parts = stateName.split('_')\n      let name = parts[parts.length - 1]\n      if (_states[name]) {\n        _states[name].last = _states[name].current\n      } else {\n        _states[name] = { last: {} }\n      }\n      if (_states[name].current && !R.equals(_states[name].current.state, states[stateName].state)) {\n        states[stateName].do(_states[name].current.state, states[stateName].state)\n      }\n      _states[name].current = states[stateName]\n    }\n\n  }\n\n  return {\n    listener$: null,\n    attach: function (event$) {\n      this.listener$ = flyd.on(setStates, event$)\n    },\n    reattach: function (event$) {\n      this.listener$ = flyd.on(setStates, event$)\n    },\n    dispose: function () {\n      this.listener$.end(true)\n    },\n    get: function() { return _statestes },\n    set: function(states) {\n      _states = states\n    },\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/stateChange.js\n **/","//  Ramda v0.18.0\n//  https://github.com/ramda/ramda\n//  (c) 2013-2015 Scott Sauyet, Michael Hurley, and David Chambers\n//  Ramda may be freely distributed under the MIT license.\n\n;(function() {\n\n  'use strict';\n\n  /**\n     * A special placeholder value used to specify \"gaps\" within curried functions,\n     * allowing partial application of any combination of arguments,\n     * regardless of their positions.\n     *\n     * If `g` is a curried ternary function and `_` is `R.__`, the following are equivalent:\n     *\n     *   - `g(1, 2, 3)`\n     *   - `g(_, 2, 3)(1)`\n     *   - `g(_, _, 3)(1)(2)`\n     *   - `g(_, _, 3)(1, 2)`\n     *   - `g(_, 2, _)(1, 3)`\n     *   - `g(_, 2)(1)(3)`\n     *   - `g(_, 2)(1, 3)`\n     *   - `g(_, 2)(_, 3)(1)`\n     *\n     * @constant\n     * @memberOf R\n     * @since v0.6.0\n     * @category Function\n     * @example\n     *\n     *      var greet = R.replace('{name}', R.__, 'Hello, {name}!');\n     *      greet('Alice'); //=> 'Hello, Alice!'\n     */\n    var __ = { '@@functional/placeholder': true };\n\n    // jshint unused:vars\n    var _arity = function _arity(n, fn) {\n        // jshint unused:vars\n        switch (n) {\n        case 0:\n            return function () {\n                return fn.apply(this, arguments);\n            };\n        case 1:\n            return function (a0) {\n                return fn.apply(this, arguments);\n            };\n        case 2:\n            return function (a0, a1) {\n                return fn.apply(this, arguments);\n            };\n        case 3:\n            return function (a0, a1, a2) {\n                return fn.apply(this, arguments);\n            };\n        case 4:\n            return function (a0, a1, a2, a3) {\n                return fn.apply(this, arguments);\n            };\n        case 5:\n            return function (a0, a1, a2, a3, a4) {\n                return fn.apply(this, arguments);\n            };\n        case 6:\n            return function (a0, a1, a2, a3, a4, a5) {\n                return fn.apply(this, arguments);\n            };\n        case 7:\n            return function (a0, a1, a2, a3, a4, a5, a6) {\n                return fn.apply(this, arguments);\n            };\n        case 8:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n                return fn.apply(this, arguments);\n            };\n        case 9:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n                return fn.apply(this, arguments);\n            };\n        case 10:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n                return fn.apply(this, arguments);\n            };\n        default:\n            throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n        }\n    };\n\n    var _arrayFromIterator = function _arrayFromIterator(iter) {\n        var list = [];\n        var next;\n        while (!(next = iter.next()).done) {\n            list.push(next.value);\n        }\n        return list;\n    };\n\n    var _cloneRegExp = function _cloneRegExp(pattern) {\n        return new RegExp(pattern.source, (pattern.global ? 'g' : '') + (pattern.ignoreCase ? 'i' : '') + (pattern.multiline ? 'm' : '') + (pattern.sticky ? 'y' : '') + (pattern.unicode ? 'u' : ''));\n    };\n\n    var _complement = function _complement(f) {\n        return function () {\n            return !f.apply(this, arguments);\n        };\n    };\n\n    /**\n     * Private `concat` function to merge two array-like objects.\n     *\n     * @private\n     * @param {Array|Arguments} [set1=[]] An array-like object.\n     * @param {Array|Arguments} [set2=[]] An array-like object.\n     * @return {Array} A new, merged array.\n     * @example\n     *\n     *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n     */\n    var _concat = function _concat(set1, set2) {\n        set1 = set1 || [];\n        set2 = set2 || [];\n        var idx;\n        var len1 = set1.length;\n        var len2 = set2.length;\n        var result = [];\n        idx = 0;\n        while (idx < len1) {\n            result[result.length] = set1[idx];\n            idx += 1;\n        }\n        idx = 0;\n        while (idx < len2) {\n            result[result.length] = set2[idx];\n            idx += 1;\n        }\n        return result;\n    };\n\n    var _containsWith = function _containsWith(pred, x, list) {\n        var idx = 0, len = list.length;\n        while (idx < len) {\n            if (pred(x, list[idx])) {\n                return true;\n            }\n            idx += 1;\n        }\n        return false;\n    };\n\n    /**\n     * Optimized internal one-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n    var _curry1 = function _curry1(fn) {\n        return function f1(a) {\n            if (arguments.length === 0) {\n                return f1;\n            } else if (a != null && a['@@functional/placeholder'] === true) {\n                return f1;\n            } else {\n                return fn.apply(this, arguments);\n            }\n        };\n    };\n\n    /**\n     * Optimized internal two-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n    var _curry2 = function _curry2(fn) {\n        return function f2(a, b) {\n            var n = arguments.length;\n            if (n === 0) {\n                return f2;\n            } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n                return f2;\n            } else if (n === 1) {\n                return _curry1(function (b) {\n                    return fn(a, b);\n                });\n            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n                return f2;\n            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n                return _curry1(function (a) {\n                    return fn(a, b);\n                });\n            } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n                return _curry1(function (b) {\n                    return fn(a, b);\n                });\n            } else {\n                return fn(a, b);\n            }\n        };\n    };\n\n    /**\n     * Optimized internal three-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n    var _curry3 = function _curry3(fn) {\n        return function f3(a, b, c) {\n            var n = arguments.length;\n            if (n === 0) {\n                return f3;\n            } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n                return f3;\n            } else if (n === 1) {\n                return _curry2(function (b, c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n                return f3;\n            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n                return _curry2(function (a, c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n                return _curry2(function (b, c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 2) {\n                return _curry1(function (c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n                return f3;\n            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n                return _curry2(function (a, b) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n                return _curry2(function (a, c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n                return _curry2(function (b, c) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true) {\n                return _curry1(function (a) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && b != null && b['@@functional/placeholder'] === true) {\n                return _curry1(function (b) {\n                    return fn(a, b, c);\n                });\n            } else if (n === 3 && c != null && c['@@functional/placeholder'] === true) {\n                return _curry1(function (c) {\n                    return fn(a, b, c);\n                });\n            } else {\n                return fn(a, b, c);\n            }\n        };\n    };\n\n    /**\n     * Internal curryN function.\n     *\n     * @private\n     * @category Function\n     * @param {Number} length The arity of the curried function.\n     * @return {array} An array of arguments received thus far.\n     * @param {Function} fn The function to curry.\n     */\n    var _curryN = function _curryN(length, received, fn) {\n        return function () {\n            var combined = [];\n            var argsIdx = 0;\n            var left = length;\n            var combinedIdx = 0;\n            while (combinedIdx < received.length || argsIdx < arguments.length) {\n                var result;\n                if (combinedIdx < received.length && (received[combinedIdx] == null || received[combinedIdx]['@@functional/placeholder'] !== true || argsIdx >= arguments.length)) {\n                    result = received[combinedIdx];\n                } else {\n                    result = arguments[argsIdx];\n                    argsIdx += 1;\n                }\n                combined[combinedIdx] = result;\n                if (result == null || result['@@functional/placeholder'] !== true) {\n                    left -= 1;\n                }\n                combinedIdx += 1;\n            }\n            return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n        };\n    };\n\n    var _filter = function _filter(fn, list) {\n        var idx = 0, len = list.length, result = [];\n        while (idx < len) {\n            if (fn(list[idx])) {\n                result[result.length] = list[idx];\n            }\n            idx += 1;\n        }\n        return result;\n    };\n\n    var _forceReduced = function _forceReduced(x) {\n        return {\n            '@@transducer/value': x,\n            '@@transducer/reduced': true\n        };\n    };\n\n    /**\n     * @private\n     * @param {Function} fn The strategy for extracting function names from an object\n     * @return {Function} A function that takes an object and returns an array of function names.\n     */\n    var _functionsWith = function _functionsWith(fn) {\n        return function (obj) {\n            return _filter(function (key) {\n                return typeof obj[key] === 'function';\n            }, fn(obj));\n        };\n    };\n\n    var _has = function _has(prop, obj) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n    };\n\n    var _identity = function _identity(x) {\n        return x;\n    };\n\n    var _isArguments = function () {\n        var toString = Object.prototype.toString;\n        return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n            return toString.call(x) === '[object Arguments]';\n        } : function _isArguments(x) {\n            return _has('callee', x);\n        };\n    }();\n\n    /**\n     * Tests whether or not an object is an array.\n     *\n     * @private\n     * @param {*} val The object to test.\n     * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n     * @example\n     *\n     *      _isArray([]); //=> true\n     *      _isArray(null); //=> false\n     *      _isArray({}); //=> false\n     */\n    var _isArray = Array.isArray || function _isArray(val) {\n        return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n    };\n\n    /**\n     * Determine if the passed argument is an integer.\n     *\n     * @private\n     * @param {*} n\n     * @category Type\n     * @return {Boolean}\n     */\n    var _isInteger = Number.isInteger || function _isInteger(n) {\n        return n << 0 === n;\n    };\n\n    var _isNumber = function _isNumber(x) {\n        return Object.prototype.toString.call(x) === '[object Number]';\n    };\n\n    var _isObject = function _isObject(x) {\n        return Object.prototype.toString.call(x) === '[object Object]';\n    };\n\n    var _isRegExp = function _isRegExp(x) {\n        return Object.prototype.toString.call(x) === '[object RegExp]';\n    };\n\n    var _isString = function _isString(x) {\n        return Object.prototype.toString.call(x) === '[object String]';\n    };\n\n    var _isTransformer = function _isTransformer(obj) {\n        return typeof obj['@@transducer/step'] === 'function';\n    };\n\n    var _map = function _map(fn, functor) {\n        var idx = 0;\n        var len = functor.length;\n        var result = Array(len);\n        while (idx < len) {\n            result[idx] = fn(functor[idx]);\n            idx += 1;\n        }\n        return result;\n    };\n\n    var _of = function _of(x) {\n        return [x];\n    };\n\n    var _pipe = function _pipe(f, g) {\n        return function () {\n            return g.call(this, f.apply(this, arguments));\n        };\n    };\n\n    var _pipeP = function _pipeP(f, g) {\n        return function () {\n            var ctx = this;\n            return f.apply(ctx, arguments).then(function (x) {\n                return g.call(ctx, x);\n            });\n        };\n    };\n\n    // \\b matches word boundary; [\\b] matches backspace\n    var _quote = function _quote(s) {\n        var escaped = s.replace(/\\\\/g, '\\\\\\\\').replace(/[\\b]/g, '\\\\b')    // \\b matches word boundary; [\\b] matches backspace\n    .replace(/\\f/g, '\\\\f').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t').replace(/\\v/g, '\\\\v').replace(/\\0/g, '\\\\0');\n        return '\"' + escaped.replace(/\"/g, '\\\\\"') + '\"';\n    };\n\n    var _reduced = function _reduced(x) {\n        return x && x['@@transducer/reduced'] ? x : {\n            '@@transducer/value': x,\n            '@@transducer/reduced': true\n        };\n    };\n\n    /**\n     * An optimized, private array `slice` implementation.\n     *\n     * @private\n     * @param {Arguments|Array} args The array or arguments object to consider.\n     * @param {Number} [from=0] The array index to slice from, inclusive.\n     * @param {Number} [to=args.length] The array index to slice to, exclusive.\n     * @return {Array} A new, sliced array.\n     * @example\n     *\n     *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]\n     *\n     *      var firstThreeArgs = function(a, b, c, d) {\n     *        return _slice(arguments, 0, 3);\n     *      };\n     *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]\n     */\n    var _slice = function _slice(args, from, to) {\n        switch (arguments.length) {\n        case 1:\n            return _slice(args, 0, args.length);\n        case 2:\n            return _slice(args, from, args.length);\n        default:\n            var list = [];\n            var idx = 0;\n            var len = Math.max(0, Math.min(args.length, to) - from);\n            while (idx < len) {\n                list[idx] = args[from + idx];\n                idx += 1;\n            }\n            return list;\n        }\n    };\n\n    /**\n     * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n     */\n    var _toISOString = function () {\n        var pad = function pad(n) {\n            return (n < 10 ? '0' : '') + n;\n        };\n        return typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n            return d.toISOString();\n        } : function _toISOString(d) {\n            return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n        };\n    }();\n\n    var _xdropRepeatsWith = function () {\n        function XDropRepeatsWith(pred, xf) {\n            this.xf = xf;\n            this.pred = pred;\n            this.lastValue = undefined;\n            this.seenFirstValue = false;\n        }\n        XDropRepeatsWith.prototype['@@transducer/init'] = function () {\n            return this.xf['@@transducer/init']();\n        };\n        XDropRepeatsWith.prototype['@@transducer/result'] = function (result) {\n            return this.xf['@@transducer/result'](result);\n        };\n        XDropRepeatsWith.prototype['@@transducer/step'] = function (result, input) {\n            var sameAsLast = false;\n            if (!this.seenFirstValue) {\n                this.seenFirstValue = true;\n            } else if (this.pred(this.lastValue, input)) {\n                sameAsLast = true;\n            }\n            this.lastValue = input;\n            return sameAsLast ? result : this.xf['@@transducer/step'](result, input);\n        };\n        return _curry2(function _xdropRepeatsWith(pred, xf) {\n            return new XDropRepeatsWith(pred, xf);\n        });\n    }();\n\n    var _xfBase = {\n        init: function () {\n            return this.xf['@@transducer/init']();\n        },\n        result: function (result) {\n            return this.xf['@@transducer/result'](result);\n        }\n    };\n\n    var _xfilter = function () {\n        function XFilter(f, xf) {\n            this.xf = xf;\n            this.f = f;\n        }\n        XFilter.prototype['@@transducer/init'] = _xfBase.init;\n        XFilter.prototype['@@transducer/result'] = _xfBase.result;\n        XFilter.prototype['@@transducer/step'] = function (result, input) {\n            return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n        };\n        return _curry2(function _xfilter(f, xf) {\n            return new XFilter(f, xf);\n        });\n    }();\n\n    var _xfind = function () {\n        function XFind(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.found = false;\n        }\n        XFind.prototype['@@transducer/init'] = _xfBase.init;\n        XFind.prototype['@@transducer/result'] = function (result) {\n            if (!this.found) {\n                result = this.xf['@@transducer/step'](result, void 0);\n            }\n            return this.xf['@@transducer/result'](result);\n        };\n        XFind.prototype['@@transducer/step'] = function (result, input) {\n            if (this.f(input)) {\n                this.found = true;\n                result = _reduced(this.xf['@@transducer/step'](result, input));\n            }\n            return result;\n        };\n        return _curry2(function _xfind(f, xf) {\n            return new XFind(f, xf);\n        });\n    }();\n\n    var _xfindIndex = function () {\n        function XFindIndex(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.idx = -1;\n            this.found = false;\n        }\n        XFindIndex.prototype['@@transducer/init'] = _xfBase.init;\n        XFindIndex.prototype['@@transducer/result'] = function (result) {\n            if (!this.found) {\n                result = this.xf['@@transducer/step'](result, -1);\n            }\n            return this.xf['@@transducer/result'](result);\n        };\n        XFindIndex.prototype['@@transducer/step'] = function (result, input) {\n            this.idx += 1;\n            if (this.f(input)) {\n                this.found = true;\n                result = _reduced(this.xf['@@transducer/step'](result, this.idx));\n            }\n            return result;\n        };\n        return _curry2(function _xfindIndex(f, xf) {\n            return new XFindIndex(f, xf);\n        });\n    }();\n\n    var _xfindLast = function () {\n        function XFindLast(f, xf) {\n            this.xf = xf;\n            this.f = f;\n        }\n        XFindLast.prototype['@@transducer/init'] = _xfBase.init;\n        XFindLast.prototype['@@transducer/result'] = function (result) {\n            return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.last));\n        };\n        XFindLast.prototype['@@transducer/step'] = function (result, input) {\n            if (this.f(input)) {\n                this.last = input;\n            }\n            return result;\n        };\n        return _curry2(function _xfindLast(f, xf) {\n            return new XFindLast(f, xf);\n        });\n    }();\n\n    var _xfindLastIndex = function () {\n        function XFindLastIndex(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.idx = -1;\n            this.lastIdx = -1;\n        }\n        XFindLastIndex.prototype['@@transducer/init'] = _xfBase.init;\n        XFindLastIndex.prototype['@@transducer/result'] = function (result) {\n            return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.lastIdx));\n        };\n        XFindLastIndex.prototype['@@transducer/step'] = function (result, input) {\n            this.idx += 1;\n            if (this.f(input)) {\n                this.lastIdx = this.idx;\n            }\n            return result;\n        };\n        return _curry2(function _xfindLastIndex(f, xf) {\n            return new XFindLastIndex(f, xf);\n        });\n    }();\n\n    var _xmap = function () {\n        function XMap(f, xf) {\n            this.xf = xf;\n            this.f = f;\n        }\n        XMap.prototype['@@transducer/init'] = _xfBase.init;\n        XMap.prototype['@@transducer/result'] = _xfBase.result;\n        XMap.prototype['@@transducer/step'] = function (result, input) {\n            return this.xf['@@transducer/step'](result, this.f(input));\n        };\n        return _curry2(function _xmap(f, xf) {\n            return new XMap(f, xf);\n        });\n    }();\n\n    var _xtake = function () {\n        function XTake(n, xf) {\n            this.xf = xf;\n            this.n = n;\n        }\n        XTake.prototype['@@transducer/init'] = _xfBase.init;\n        XTake.prototype['@@transducer/result'] = _xfBase.result;\n        XTake.prototype['@@transducer/step'] = function (result, input) {\n            if (this.n === 0) {\n                return _reduced(result);\n            } else {\n                this.n -= 1;\n                return this.xf['@@transducer/step'](result, input);\n            }\n        };\n        return _curry2(function _xtake(n, xf) {\n            return new XTake(n, xf);\n        });\n    }();\n\n    var _xtakeWhile = function () {\n        function XTakeWhile(f, xf) {\n            this.xf = xf;\n            this.f = f;\n        }\n        XTakeWhile.prototype['@@transducer/init'] = _xfBase.init;\n        XTakeWhile.prototype['@@transducer/result'] = _xfBase.result;\n        XTakeWhile.prototype['@@transducer/step'] = function (result, input) {\n            return this.f(input) ? this.xf['@@transducer/step'](result, input) : _reduced(result);\n        };\n        return _curry2(function _xtakeWhile(f, xf) {\n            return new XTakeWhile(f, xf);\n        });\n    }();\n\n    var _xwrap = function () {\n        function XWrap(fn) {\n            this.f = fn;\n        }\n        XWrap.prototype['@@transducer/init'] = function () {\n            throw new Error('init not implemented on XWrap');\n        };\n        XWrap.prototype['@@transducer/result'] = function (acc) {\n            return acc;\n        };\n        XWrap.prototype['@@transducer/step'] = function (acc, x) {\n            return this.f(acc, x);\n        };\n        return function _xwrap(fn) {\n            return new XWrap(fn);\n        };\n    }();\n\n    /**\n     * Adds two numbers. Equivalent to `a + b` but curried.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} a\n     * @param {Number} b\n     * @return {Number}\n     * @see R.subtract\n     * @example\n     *\n     *      R.add(2, 3);       //=>  5\n     *      R.add(7)(10);      //=> 17\n     */\n    var add = _curry2(function add(a, b) {\n        return a + b;\n    });\n\n    /**\n     * Applies a function to the value at the given index of an array,\n     * returning a new copy of the array with the element at the given\n     * index replaced with the result of the function application.\n     * @see R.update\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category List\n     * @sig (a -> a) -> Number -> [a] -> [a]\n     * @param {Function} fn The function to apply.\n     * @param {Number} idx The index.\n     * @param {Array|Arguments} list An array-like object whose value\n     *        at the supplied index will be replaced.\n     * @return {Array} A copy of the supplied array-like object with\n     *         the element at index `idx` replaced with the value\n     *         returned by applying `fn` to the existing element.\n     * @example\n     *\n     *      R.adjust(R.add(10), 1, [0, 1, 2]);     //=> [0, 11, 2]\n     *      R.adjust(R.add(10))(1)([0, 1, 2]);     //=> [0, 11, 2]\n     */\n    var adjust = _curry3(function adjust(fn, idx, list) {\n        if (idx >= list.length || idx < -list.length) {\n            return list;\n        }\n        var start = idx < 0 ? list.length : 0;\n        var _idx = start + idx;\n        var _list = _concat(list);\n        _list[_idx] = fn(list[_idx]);\n        return _list;\n    });\n\n    /**\n     * Returns a function that always returns the given value. Note that for\n     * non-primitives the value returned is a reference to the original value.\n     *\n     * This function is known as `const`, `constant`, or `K` (for K combinator)\n     * in other languages and libraries.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig a -> (* -> a)\n     * @param {*} val The value to wrap in a function\n     * @return {Function} A Function :: * -> val.\n     * @example\n     *\n     *      var t = R.always('Tee');\n     *      t(); //=> 'Tee'\n     */\n    var always = _curry1(function always(val) {\n        return function () {\n            return val;\n        };\n    });\n\n    /**\n     * Returns `true` if both arguments are `true`; `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Logic\n     * @sig * -> * -> *\n     * @param {Boolean} a A boolean value\n     * @param {Boolean} b A boolean value\n     * @return {Boolean} `true` if both arguments are `true`, `false` otherwise\n     * @see R.both\n     * @example\n     *\n     *      R.and(true, true); //=> true\n     *      R.and(true, false); //=> false\n     *      R.and(false, true); //=> false\n     *      R.and(false, false); //=> false\n     */\n    var and = _curry2(function and(a, b) {\n        return a && b;\n    });\n\n    /**\n     * Returns a new list containing the contents of the given list, followed by the given\n     * element.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig a -> [a] -> [a]\n     * @param {*} el The element to add to the end of the new list.\n     * @param {Array} list The list whose contents will be added to the beginning of the output\n     *        list.\n     * @return {Array} A new list containing the contents of the old list followed by `el`.\n     * @see R.prepend\n     * @example\n     *\n     *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']\n     *      R.append('tests', []); //=> ['tests']\n     *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]\n     */\n    var append = _curry2(function append(el, list) {\n        return _concat(list, [el]);\n    });\n\n    /**\n     * Applies function `fn` to the argument list `args`. This is useful for\n     * creating a fixed-arity function from a variadic function. `fn` should\n     * be a bound function if context is significant.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category Function\n     * @sig (*... -> a) -> [*] -> a\n     * @param {Function} fn\n     * @param {Array} args\n     * @return {*}\n     * @see R.call, R.unapply\n     * @example\n     *\n     *      var nums = [1, 2, 3, -99, 42, 6, 7];\n     *      R.apply(Math.max, nums); //=> 42\n     */\n    var apply = _curry2(function apply(fn, args) {\n        return fn.apply(this, args);\n    });\n\n    /**\n     * Makes a shallow clone of an object, setting or overriding the specified\n     * property with the given value.  Note that this copies and flattens\n     * prototype properties onto the new object as well.  All non-primitive\n     * properties are copied by reference.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @sig String -> a -> {k: v} -> {k: v}\n     * @param {String} prop the property name to set\n     * @param {*} val the new value\n     * @param {Object} obj the object to clone\n     * @return {Object} a new object similar to the original except for the specified property.\n     * @see R.dissoc\n     * @example\n     *\n     *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}\n     */\n    var assoc = _curry3(function assoc(prop, val, obj) {\n        var result = {};\n        for (var p in obj) {\n            result[p] = obj[p];\n        }\n        result[prop] = val;\n        return result;\n    });\n\n    /**\n     * Makes a shallow clone of an object, setting or overriding the nodes\n     * required to create the given path, and placing the specific value at the\n     * tail end of that path.  Note that this copies and flattens prototype\n     * properties onto the new object as well.  All non-primitive properties\n     * are copied by reference.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @sig [String] -> a -> {k: v} -> {k: v}\n     * @param {Array} path the path to set\n     * @param {*} val the new value\n     * @param {Object} obj the object to clone\n     * @return {Object} a new object similar to the original except along the specified path.\n     * @see R.dissocPath\n     * @example\n     *\n     *      R.assocPath(['a', 'b', 'c'], 42, {a: {b: {c: 0}}}); //=> {a: {b: {c: 42}}}\n     */\n    var assocPath = _curry3(function assocPath(path, val, obj) {\n        switch (path.length) {\n        case 0:\n            return obj;\n        case 1:\n            return assoc(path[0], val, obj);\n        default:\n            return assoc(path[0], assocPath(_slice(path, 1), val, Object(obj[path[0]])), obj);\n        }\n    });\n\n    /**\n     * Creates a function that is bound to a context.\n     * Note: `R.bind` does not provide the additional argument-binding capabilities of\n     * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.6.0\n     * @category Function\n     * @category Object\n     * @see R.partial\n     * @sig (* -> *) -> {*} -> (* -> *)\n     * @param {Function} fn The function to bind to context\n     * @param {Object} thisObj The context to bind `fn` to\n     * @return {Function} A function that will execute in the context of `thisObj`.\n     */\n    var bind = _curry2(function bind(fn, thisObj) {\n        return _arity(fn.length, function () {\n            return fn.apply(thisObj, arguments);\n        });\n    });\n\n    /**\n     * Makes a comparator function out of a function that reports whether the first element is less than the second.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (a, b -> Boolean) -> (a, b -> Number)\n     * @param {Function} pred A predicate function of arity two.\n     * @return {Function} A Function :: a -> b -> Int that returns `-1` if a < b, `1` if b < a, otherwise `0`.\n     * @example\n     *\n     *      var cmp = R.comparator((a, b) => a.age < b.age);\n     *      var people = [\n     *        // ...\n     *      ];\n     *      R.sort(cmp, people);\n     */\n    var comparator = _curry1(function comparator(pred) {\n        return function (a, b) {\n            return pred(a, b) ? -1 : pred(b, a) ? 1 : 0;\n        };\n    });\n\n    /**\n     * Returns a function, `fn`, which encapsulates if/else-if/else logic.\n     * `R.cond` takes a list of [predicate, transform] pairs. All of the\n     * arguments to `fn` are applied to each of the predicates in turn\n     * until one returns a \"truthy\" value, at which point `fn` returns the\n     * result of applying its arguments to the corresponding transformer.\n     * If none of the predicates matches, `fn` returns undefined.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.6.0\n     * @category Logic\n     * @sig [[(*... -> Boolean),(*... -> *)]] -> (*... -> *)\n     * @param {Array} pairs\n     * @return {Function}\n     * @example\n     *\n     *      var fn = R.cond([\n     *        [R.equals(0),   R.always('water freezes at 0C')],\n     *        [R.equals(100), R.always('water boils at 100C')],\n     *        [R.T,           temp => 'nothing special happens at ' + temp + 'C']\n     *      ]);\n     *      fn(0); //=> 'water freezes at 0C'\n     *      fn(50); //=> 'nothing special happens at 50C'\n     *      fn(100); //=> 'water boils at 100C'\n     */\n    var cond = _curry1(function cond(pairs) {\n        return function () {\n            var idx = 0;\n            while (idx < pairs.length) {\n                if (pairs[idx][0].apply(this, arguments)) {\n                    return pairs[idx][1].apply(this, arguments);\n                }\n                idx += 1;\n            }\n        };\n    });\n\n    /**\n     * Returns `true` if the `x` is found in the `list`, using `pred` as an\n     * equality predicate for `x`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.5\n     * @category List\n     * @sig (a, a -> Boolean) -> a -> [a] -> Boolean\n     * @param {Function} pred A predicate used to test whether two items are equal.\n     * @param {*} x The item to find\n     * @param {Array} list The list to iterate over\n     * @return {Boolean} `true` if `x` is in `list`, else `false`.\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      var absEq = (a, b) => Math.abs(a) === Math.abs(b);\n     *      R.containsWith(absEq, 5, [1, 2, 3]); //=> false\n     *      R.containsWith(absEq, 5, [4, 5, 6]); //=> true\n     *      R.containsWith(absEq, 5, [-1, -2, -3]); //=> false\n     *      R.containsWith(absEq, 5, [-4, -5, -6]); //=> true\n     */\n    var containsWith = _curry3(_containsWith);\n\n    /**\n     * Counts the elements of a list according to how many match each value\n     * of a key generated by the supplied function. Returns an object\n     * mapping the keys produced by `fn` to the number of occurrences in\n     * the list. Note that all keys are coerced to strings because of how\n     * JavaScript objects work.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig (a -> String) -> [a] -> {*}\n     * @param {Function} fn The function used to map values to keys.\n     * @param {Array} list The list to count elements from.\n     * @return {Object} An object mapping keys to number of occurrences in the list.\n     * @example\n     *\n     *      var numbers = [1.0, 1.1, 1.2, 2.0, 3.0, 2.2];\n     *      var letters = R.split('', 'abcABCaaaBBc');\n     *      R.countBy(Math.floor)(numbers);    //=> {'1': 3, '2': 2, '3': 1}\n     *      R.countBy(R.toLower)(letters);   //=> {'a': 5, 'b': 4, 'c': 3}\n     */\n    var countBy = _curry2(function countBy(fn, list) {\n        var counts = {};\n        var len = list.length;\n        var idx = 0;\n        while (idx < len) {\n            var key = fn(list[idx]);\n            counts[key] = (_has(key, counts) ? counts[key] : 0) + 1;\n            idx += 1;\n        }\n        return counts;\n    });\n\n    /**\n     * Returns a curried equivalent of the provided function, with the\n     * specified arity. The curried function has two unusual capabilities.\n     * First, its arguments needn't be provided one at a time. If `g` is\n     * `R.curryN(3, f)`, the following are equivalent:\n     *\n     *   - `g(1)(2)(3)`\n     *   - `g(1)(2, 3)`\n     *   - `g(1, 2)(3)`\n     *   - `g(1, 2, 3)`\n     *\n     * Secondly, the special placeholder value `R.__` may be used to specify\n     * \"gaps\", allowing partial application of any combination of arguments,\n     * regardless of their positions. If `g` is as above and `_` is `R.__`,\n     * the following are equivalent:\n     *\n     *   - `g(1, 2, 3)`\n     *   - `g(_, 2, 3)(1)`\n     *   - `g(_, _, 3)(1)(2)`\n     *   - `g(_, _, 3)(1, 2)`\n     *   - `g(_, 2)(1)(3)`\n     *   - `g(_, 2)(1, 3)`\n     *   - `g(_, 2)(_, 3)(1)`\n     *\n     * @func\n     * @memberOf R\n     * @since v0.5.0\n     * @category Function\n     * @sig Number -> (* -> a) -> (* -> a)\n     * @param {Number} length The arity for the returned function.\n     * @param {Function} fn The function to curry.\n     * @return {Function} A new, curried function.\n     * @see R.curry\n     * @example\n     *\n     *      var sumArgs = (...args) => R.sum(args);\n     *\n     *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n     *      var f = curriedAddFourNumbers(1, 2);\n     *      var g = f(3);\n     *      g(4); //=> 10\n     */\n    var curryN = _curry2(function curryN(length, fn) {\n        if (length === 1) {\n            return _curry1(fn);\n        }\n        return _arity(length, _curryN(length, [], fn));\n    });\n\n    /**\n     * Decrements its argument.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Math\n     * @sig Number -> Number\n     * @param {Number} n\n     * @return {Number}\n     * @see R.inc\n     * @example\n     *\n     *      R.dec(42); //=> 41\n     */\n    var dec = add(-1);\n\n    /**\n     * Returns the second argument if it is not `null`, `undefined` or `NaN`\n     * otherwise the first argument is returned.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Logic\n     * @sig a -> b -> a | b\n     * @param {a} val The default value.\n     * @param {b} val The value to return if it is not null or undefined\n     * @return {*} The the second value or the default value\n     * @example\n     *\n     *      var defaultTo42 = R.defaultTo(42);\n     *\n     *      defaultTo42(null);  //=> 42\n     *      defaultTo42(undefined);  //=> 42\n     *      defaultTo42('Ramda');  //=> 'Ramda'\n     *      defaultTo42(parseInt('string')); //=> 42\n     */\n    var defaultTo = _curry2(function defaultTo(d, v) {\n        return v == null || v !== v ? d : v;\n    });\n\n    /**\n     * Finds the set (i.e. no duplicates) of all elements in the first list not contained in the second list.\n     * Duplication is determined according to the value returned by applying the supplied predicate to two list\n     * elements.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]\n     * @param {Function} pred A predicate used to test whether two items are equal.\n     * @param {Array} list1 The first list.\n     * @param {Array} list2 The second list.\n     * @see R.difference\n     * @return {Array} The elements in `list1` that are not in `list2`.\n     * @example\n     *\n     *      function cmp(x, y) => x.a === y.a;\n     *      var l1 = [{a: 1}, {a: 2}, {a: 3}];\n     *      var l2 = [{a: 3}, {a: 4}];\n     *      R.differenceWith(cmp, l1, l2); //=> [{a: 1}, {a: 2}]\n     */\n    var differenceWith = _curry3(function differenceWith(pred, first, second) {\n        var out = [];\n        var idx = 0;\n        var firstLen = first.length;\n        var containsPred = containsWith(pred);\n        while (idx < firstLen) {\n            if (!containsPred(first[idx], second) && !containsPred(first[idx], out)) {\n                out[out.length] = first[idx];\n            }\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns a new object that does not contain a `prop` property.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Object\n     * @sig String -> {k: v} -> {k: v}\n     * @param {String} prop the name of the property to dissociate\n     * @param {Object} obj the object to clone\n     * @return {Object} a new object similar to the original but without the specified property\n     * @see R.assoc\n     * @example\n     *\n     *      R.dissoc('b', {a: 1, b: 2, c: 3}); //=> {a: 1, c: 3}\n     */\n    var dissoc = _curry2(function dissoc(prop, obj) {\n        var result = {};\n        for (var p in obj) {\n            if (p !== prop) {\n                result[p] = obj[p];\n            }\n        }\n        return result;\n    });\n\n    /**\n     * Makes a shallow clone of an object, omitting the property at the\n     * given path. Note that this copies and flattens prototype properties\n     * onto the new object as well.  All non-primitive properties are copied\n     * by reference.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.11.0\n     * @category Object\n     * @sig [String] -> {k: v} -> {k: v}\n     * @param {Array} path the path to set\n     * @param {Object} obj the object to clone\n     * @return {Object} a new object without the property at path\n     * @see R.assocPath\n     * @example\n     *\n     *      R.dissocPath(['a', 'b', 'c'], {a: {b: {c: 42}}}); //=> {a: {b: {}}}\n     */\n    var dissocPath = _curry2(function dissocPath(path, obj) {\n        switch (path.length) {\n        case 0:\n            return obj;\n        case 1:\n            return dissoc(path[0], obj);\n        default:\n            var head = path[0];\n            var tail = _slice(path, 1);\n            return obj[head] == null ? obj : assoc(head, dissocPath(tail, obj[head]), obj);\n        }\n    });\n\n    /**\n     * Divides two numbers. Equivalent to `a / b`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} a The first value.\n     * @param {Number} b The second value.\n     * @return {Number} The result of `a / b`.\n     * @see R.multiply\n     * @example\n     *\n     *      R.divide(71, 100); //=> 0.71\n     *\n     *      var half = R.divide(R.__, 2);\n     *      half(42); //=> 21\n     *\n     *      var reciprocal = R.divide(1);\n     *      reciprocal(4);   //=> 0.25\n     */\n    var divide = _curry2(function divide(a, b) {\n        return a / b;\n    });\n\n    /**\n     * Returns a new list containing all but last the`n` elements of a given list,\n     * passing each value from the right to the supplied predicate function, skipping\n     * elements while the predicate function returns `true`. The predicate function\n     * is passed one argument: (value)*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} A new array.\n     * @see R.takeLastWhile\n     * @example\n     *\n     *      var lteThree = x => x <= 3;\n     *\n     *      R.dropLastWhile(lteThree, [1, 2, 3, 4, 3, 2, 1]); //=> [1, 2, 3, 4]\n     */\n    var dropLastWhile = _curry2(function dropLastWhile(pred, list) {\n        var idx = list.length - 1;\n        while (idx >= 0 && pred(list[idx])) {\n            idx -= 1;\n        }\n        return _slice(list, 0, idx + 1);\n    });\n\n    /**\n     * Returns the empty value of its argument's type. Ramda defines the empty\n     * value of Array (`[]`), Object (`{}`), String (`''`), and Arguments.\n     * Other types are supported if they define `<Type>.empty` and/or\n     * `<Type>.prototype.empty`.\n     *\n     * Dispatches to the `empty` method of the first argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category Function\n     * @sig a -> a\n     * @param {*} x\n     * @return {*}\n     * @example\n     *\n     *      R.empty(Just(42));      //=> Nothing()\n     *      R.empty([1, 2, 3]);     //=> []\n     *      R.empty('unicorns');    //=> ''\n     *      R.empty({x: 1, y: 2});  //=> {}\n     */\n    // else\n    var empty = _curry1(function empty(x) {\n        return x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {\n            return arguments;\n        }() : // else\n        void 0;\n    });\n\n    /**\n     * Creates a new object by recursively evolving a shallow copy of `object`, according to the\n     * `transformation` functions. All non-primitive properties are copied by reference.\n     *\n     * A `transformation` function will not be invoked if its corresponding key does not exist in\n     * the evolved object.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Object\n     * @sig {k: (v -> v)} -> {k: v} -> {k: v}\n     * @param {Object} transformations The object specifying transformation functions to apply\n     *        to the object.\n     * @param {Object} object The object to be transformed.\n     * @return {Object} The transformed object.\n     * @example\n     *\n     *      var tomato  = {firstName: '  Tomato ', data: {elapsed: 100, remaining: 1400}, id:123};\n     *      var transformations = {\n     *        firstName: R.trim,\n     *        lastName: R.trim, // Will not get invoked.\n     *        data: {elapsed: R.add(1), remaining: R.add(-1)}\n     *      };\n     *      R.evolve(transformations, tomato); //=> {firstName: 'Tomato', data: {elapsed: 101, remaining: 1399}, id:123}\n     */\n    var evolve = _curry2(function evolve(transformations, object) {\n        var transformation, key, type, result = {};\n        for (key in object) {\n            transformation = transformations[key];\n            type = typeof transformation;\n            result[key] = type === 'function' ? transformation(object[key]) : type === 'object' ? evolve(transformations[key], object[key]) : object[key];\n        }\n        return result;\n    });\n\n    /**\n     * Creates a new object out of a list key-value pairs.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category List\n     * @sig [[k,v]] -> {k: v}\n     * @param {Array} pairs An array of two-element arrays that will be the keys and values of the output object.\n     * @return {Object} The object made by pairing up `keys` and `values`.\n     * @see R.toPairs, R.pair\n     * @example\n     *\n     *      R.fromPairs([['a', 1], ['b', 2],  ['c', 3]]); //=> {a: 1, b: 2, c: 3}\n     */\n    var fromPairs = _curry1(function fromPairs(pairs) {\n        var idx = 0, len = pairs.length, out = {};\n        while (idx < len) {\n            if (_isArray(pairs[idx]) && pairs[idx].length) {\n                out[pairs[idx][0]] = pairs[idx][1];\n            }\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns `true` if the first argument is greater than the second;\n     * `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> Boolean\n     * @param {*} a\n     * @param {*} b\n     * @return {Boolean}\n     * @see R.lt\n     * @example\n     *\n     *      R.gt(2, 1); //=> true\n     *      R.gt(2, 2); //=> false\n     *      R.gt(2, 3); //=> false\n     *      R.gt('a', 'z'); //=> false\n     *      R.gt('z', 'a'); //=> true\n     */\n    var gt = _curry2(function gt(a, b) {\n        return a > b;\n    });\n\n    /**\n     * Returns `true` if the first argument is greater than or equal to the second;\n     * `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> Boolean\n     * @param {Number} a\n     * @param {Number} b\n     * @return {Boolean}\n     * @see R.lte\n     * @example\n     *\n     *      R.gte(2, 1); //=> true\n     *      R.gte(2, 2); //=> true\n     *      R.gte(2, 3); //=> false\n     *      R.gte('a', 'z'); //=> false\n     *      R.gte('z', 'a'); //=> true\n     */\n    var gte = _curry2(function gte(a, b) {\n        return a >= b;\n    });\n\n    /**\n     * Returns whether or not an object has an own property with\n     * the specified name\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category Object\n     * @sig s -> {s: x} -> Boolean\n     * @param {String} prop The name of the property to check for.\n     * @param {Object} obj The object to query.\n     * @return {Boolean} Whether the property exists.\n     * @example\n     *\n     *      var hasName = R.has('name');\n     *      hasName({name: 'alice'});   //=> true\n     *      hasName({name: 'bob'});     //=> true\n     *      hasName({});                //=> false\n     *\n     *      var point = {x: 0, y: 0};\n     *      var pointHas = R.has(R.__, point);\n     *      pointHas('x');  //=> true\n     *      pointHas('y');  //=> true\n     *      pointHas('z');  //=> false\n     */\n    var has = _curry2(_has);\n\n    /**\n     * Returns whether or not an object or its prototype chain has\n     * a property with the specified name\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category Object\n     * @sig s -> {s: x} -> Boolean\n     * @param {String} prop The name of the property to check for.\n     * @param {Object} obj The object to query.\n     * @return {Boolean} Whether the property exists.\n     * @example\n     *\n     *      function Rectangle(width, height) {\n     *        this.width = width;\n     *        this.height = height;\n     *      }\n     *      Rectangle.prototype.area = function() {\n     *        return this.width * this.height;\n     *      };\n     *\n     *      var square = new Rectangle(2, 2);\n     *      R.hasIn('width', square);  //=> true\n     *      R.hasIn('area', square);  //=> true\n     */\n    var hasIn = _curry2(function hasIn(prop, obj) {\n        return prop in obj;\n    });\n\n    /**\n     * Returns true if its arguments are identical, false otherwise. Values are\n     * identical if they reference the same memory. `NaN` is identical to `NaN`;\n     * `0` and `-0` are not identical.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.15.0\n     * @category Relation\n     * @sig a -> a -> Boolean\n     * @param {*} a\n     * @param {*} b\n     * @return {Boolean}\n     * @example\n     *\n     *      var o = {};\n     *      R.identical(o, o); //=> true\n     *      R.identical(1, 1); //=> true\n     *      R.identical(1, '1'); //=> false\n     *      R.identical([], []); //=> false\n     *      R.identical(0, -0); //=> false\n     *      R.identical(NaN, NaN); //=> true\n     */\n    // SameValue algorithm\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Step 6.a: NaN == NaN\n    var identical = _curry2(function identical(a, b) {\n        // SameValue algorithm\n        if (a === b) {\n            // Steps 1-5, 7-10\n            // Steps 6.b-6.e: +0 != -0\n            return a !== 0 || 1 / a === 1 / b;\n        } else {\n            // Step 6.a: NaN == NaN\n            return a !== a && b !== b;\n        }\n    });\n\n    /**\n     * A function that does nothing but return the parameter supplied to it. Good as a default\n     * or placeholder function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig a -> a\n     * @param {*} x The value to return.\n     * @return {*} The input value, `x`.\n     * @example\n     *\n     *      R.identity(1); //=> 1\n     *\n     *      var obj = {};\n     *      R.identity(obj) === obj; //=> true\n     */\n    var identity = _curry1(_identity);\n\n    /**\n     * Creates a function that will process either the `onTrue` or the `onFalse` function depending\n     * upon the result of the `condition` predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Logic\n     * @see R.unless, R.when\n     * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n     * @param {Function} condition A predicate function\n     * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n     * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n     * @return {Function} A new unary function that will process either the `onTrue` or the `onFalse`\n     *                    function depending upon the result of the `condition` predicate.\n     * @example\n     *\n     *      var incCount = R.ifElse(\n     *        R.has('count'),\n     *        R.over(R.lensProp('count'), R.inc),\n     *        R.assoc('count', 1)\n     *      );\n     *      incCount({});           //=> { count: 1 }\n     *      incCount({ count: 1 }); //=> { count: 2 }\n     */\n    var ifElse = _curry3(function ifElse(condition, onTrue, onFalse) {\n        return curryN(Math.max(condition.length, onTrue.length, onFalse.length), function _ifElse() {\n            return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n        });\n    });\n\n    /**\n     * Increments its argument.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Math\n     * @sig Number -> Number\n     * @param {Number} n\n     * @return {Number}\n     * @see R.dec\n     * @example\n     *\n     *      R.inc(42); //=> 43\n     */\n    var inc = add(1);\n\n    /**\n     * Inserts the supplied element into the list, at index `index`.  _Note\n     * that this is not destructive_: it returns a copy of the list with the changes.\n     * <small>No lists have been harmed in the application of this function.</small>\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.2\n     * @category List\n     * @sig Number -> a -> [a] -> [a]\n     * @param {Number} index The position to insert the element\n     * @param {*} elt The element to insert into the Array\n     * @param {Array} list The list to insert into\n     * @return {Array} A new Array with `elt` inserted at `index`.\n     * @example\n     *\n     *      R.insert(2, 'x', [1,2,3,4]); //=> [1,2,'x',3,4]\n     */\n    var insert = _curry3(function insert(idx, elt, list) {\n        idx = idx < list.length && idx >= 0 ? idx : list.length;\n        var result = _slice(list);\n        result.splice(idx, 0, elt);\n        return result;\n    });\n\n    /**\n     * Inserts the sub-list into the list, at index `index`.  _Note  that this\n     * is not destructive_: it returns a copy of the list with the changes.\n     * <small>No lists have been harmed in the application of this function.</small>\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category List\n     * @sig Number -> [a] -> [a] -> [a]\n     * @param {Number} index The position to insert the sub-list\n     * @param {Array} elts The sub-list to insert into the Array\n     * @param {Array} list The list to insert the sub-list into\n     * @return {Array} A new Array with `elts` inserted starting at `index`.\n     * @example\n     *\n     *      R.insertAll(2, ['x','y','z'], [1,2,3,4]); //=> [1,2,'x','y','z',3,4]\n     */\n    var insertAll = _curry3(function insertAll(idx, elts, list) {\n        idx = idx < list.length && idx >= 0 ? idx : list.length;\n        return _concat(_concat(_slice(list, 0, idx), elts), _slice(list, idx));\n    });\n\n    /**\n     * See if an object (`val`) is an instance of the supplied constructor.\n     * This function will check up the inheritance chain, if any.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category Type\n     * @sig (* -> {*}) -> a -> Boolean\n     * @param {Object} ctor A constructor\n     * @param {*} val The value to test\n     * @return {Boolean}\n     * @example\n     *\n     *      R.is(Object, {}); //=> true\n     *      R.is(Number, 1); //=> true\n     *      R.is(Object, 1); //=> false\n     *      R.is(String, 's'); //=> true\n     *      R.is(String, new String('')); //=> true\n     *      R.is(Object, new String('')); //=> true\n     *      R.is(Object, 's'); //=> false\n     *      R.is(Number, {}); //=> false\n     */\n    var is = _curry2(function is(Ctor, val) {\n        return val != null && val.constructor === Ctor || val instanceof Ctor;\n    });\n\n    /**\n     * Tests whether or not an object is similar to an array.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.5.0\n     * @category Type\n     * @category List\n     * @sig * -> Boolean\n     * @param {*} x The object to test.\n     * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n     * @example\n     *\n     *      R.isArrayLike([]); //=> true\n     *      R.isArrayLike(true); //=> false\n     *      R.isArrayLike({}); //=> false\n     *      R.isArrayLike({length: 10}); //=> false\n     *      R.isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n     */\n    var isArrayLike = _curry1(function isArrayLike(x) {\n        if (_isArray(x)) {\n            return true;\n        }\n        if (!x) {\n            return false;\n        }\n        if (typeof x !== 'object') {\n            return false;\n        }\n        if (x instanceof String) {\n            return false;\n        }\n        if (x.nodeType === 1) {\n            return !!x.length;\n        }\n        if (x.length === 0) {\n            return true;\n        }\n        if (x.length > 0) {\n            return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n        }\n        return false;\n    });\n\n    /**\n     * Checks if the input value is `null` or `undefined`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Type\n     * @sig * -> Boolean\n     * @param {*} x The value to test.\n     * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.\n     * @example\n     *\n     *      R.isNil(null); //=> true\n     *      R.isNil(undefined); //=> true\n     *      R.isNil(0); //=> false\n     *      R.isNil([]); //=> false\n     */\n    var isNil = _curry1(function isNil(x) {\n        return x == null;\n    });\n\n    /**\n     * Returns a list containing the names of all the enumerable own\n     * properties of the supplied object.\n     * Note that the order of the output array is not guaranteed to be\n     * consistent across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {k: v} -> [k]\n     * @param {Object} obj The object to extract properties from\n     * @return {Array} An array of the object's own properties.\n     * @example\n     *\n     *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n     */\n    // cover IE < 9 keys issues\n    var keys = function () {\n        // cover IE < 9 keys issues\n        var hasEnumBug = !{ toString: null }.propertyIsEnumerable('toString');\n        var nonEnumerableProps = [\n            'constructor',\n            'valueOf',\n            'isPrototypeOf',\n            'toString',\n            'propertyIsEnumerable',\n            'hasOwnProperty',\n            'toLocaleString'\n        ];\n        var contains = function contains(list, item) {\n            var idx = 0;\n            while (idx < list.length) {\n                if (list[idx] === item) {\n                    return true;\n                }\n                idx += 1;\n            }\n            return false;\n        };\n        return typeof Object.keys === 'function' ? _curry1(function keys(obj) {\n            return Object(obj) !== obj ? [] : Object.keys(obj);\n        }) : _curry1(function keys(obj) {\n            if (Object(obj) !== obj) {\n                return [];\n            }\n            var prop, ks = [], nIdx;\n            for (prop in obj) {\n                if (_has(prop, obj)) {\n                    ks[ks.length] = prop;\n                }\n            }\n            if (hasEnumBug) {\n                nIdx = nonEnumerableProps.length - 1;\n                while (nIdx >= 0) {\n                    prop = nonEnumerableProps[nIdx];\n                    if (_has(prop, obj) && !contains(ks, prop)) {\n                        ks[ks.length] = prop;\n                    }\n                    nIdx -= 1;\n                }\n            }\n            return ks;\n        });\n    }();\n\n    /**\n     * Returns a list containing the names of all the\n     * properties of the supplied object, including prototype properties.\n     * Note that the order of the output array is not guaranteed to be\n     * consistent across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Object\n     * @sig {k: v} -> [k]\n     * @param {Object} obj The object to extract properties from\n     * @return {Array} An array of the object's own and prototype properties.\n     * @example\n     *\n     *      var F = function() { this.x = 'X'; };\n     *      F.prototype.y = 'Y';\n     *      var f = new F();\n     *      R.keysIn(f); //=> ['x', 'y']\n     */\n    var keysIn = _curry1(function keysIn(obj) {\n        var prop, ks = [];\n        for (prop in obj) {\n            ks[ks.length] = prop;\n        }\n        return ks;\n    });\n\n    /**\n     * Returns the number of elements in the array by returning `list.length`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category List\n     * @sig [a] -> Number\n     * @param {Array} list The array to inspect.\n     * @return {Number} The length of the array.\n     * @example\n     *\n     *      R.length([]); //=> 0\n     *      R.length([1, 2, 3]); //=> 3\n     */\n    var length = _curry1(function length(list) {\n        return list != null && is(Number, list.length) ? list.length : NaN;\n    });\n\n    /**\n     * Returns `true` if the first argument is less than the second;\n     * `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> Boolean\n     * @param {*} a\n     * @param {*} b\n     * @return {Boolean}\n     * @see R.gt\n     * @example\n     *\n     *      R.lt(2, 1); //=> false\n     *      R.lt(2, 2); //=> false\n     *      R.lt(2, 3); //=> true\n     *      R.lt('a', 'z'); //=> true\n     *      R.lt('z', 'a'); //=> false\n     */\n    var lt = _curry2(function lt(a, b) {\n        return a < b;\n    });\n\n    /**\n     * Returns `true` if the first argument is less than or equal to the second;\n     * `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> Boolean\n     * @param {Number} a\n     * @param {Number} b\n     * @return {Boolean}\n     * @see R.gte\n     * @example\n     *\n     *      R.lte(2, 1); //=> false\n     *      R.lte(2, 2); //=> true\n     *      R.lte(2, 3); //=> true\n     *      R.lte('a', 'z'); //=> true\n     *      R.lte('z', 'a'); //=> false\n     */\n    var lte = _curry2(function lte(a, b) {\n        return a <= b;\n    });\n\n    /**\n     * The mapAccum function behaves like a combination of map and reduce; it applies a\n     * function to each element of a list, passing an accumulating parameter from left to\n     * right, and returning a final value of this accumulator together with the new list.\n     *\n     * The iterator function receives two arguments, *acc* and *value*, and should return\n     * a tuple *[acc, value]*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category List\n     * @sig (acc -> x -> (acc, y)) -> acc -> [x] -> (acc, [y])\n     * @param {Function} fn The function to be called on every element of the input `list`.\n     * @param {*} acc The accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var digits = ['1', '2', '3', '4'];\n     *      var append = (a, b) => [a + b, a + b];\n     *\n     *      R.mapAccum(append, 0, digits); //=> ['01234', ['01', '012', '0123', '01234']]\n     */\n    var mapAccum = _curry3(function mapAccum(fn, acc, list) {\n        var idx = 0, len = list.length, result = [], tuple = [acc];\n        while (idx < len) {\n            tuple = fn(tuple[0], list[idx]);\n            result[idx] = tuple[1];\n            idx += 1;\n        }\n        return [\n            tuple[0],\n            result\n        ];\n    });\n\n    /**\n     * The mapAccumRight function behaves like a combination of map and reduce; it applies a\n     * function to each element of a list, passing an accumulating parameter from right\n     * to left, and returning a final value of this accumulator together with the new list.\n     *\n     * Similar to `mapAccum`, except moves through the input list from the right to the\n     * left.\n     *\n     * The iterator function receives two arguments, *acc* and *value*, and should return\n     * a tuple *[acc, value]*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category List\n     * @sig (acc -> x -> (acc, y)) -> acc -> [x] -> (acc, [y])\n     * @param {Function} fn The function to be called on every element of the input `list`.\n     * @param {*} acc The accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var digits = ['1', '2', '3', '4'];\n     *      var append = (a, b) => [a + b, a + b];\n     *\n     *      R.mapAccumRight(append, 0, digits); //=> ['04321', ['04321', '0432', '043', '04']]\n     */\n    var mapAccumRight = _curry3(function mapAccumRight(fn, acc, list) {\n        var idx = list.length - 1, result = [], tuple = [acc];\n        while (idx >= 0) {\n            tuple = fn(tuple[0], list[idx]);\n            result[idx] = tuple[1];\n            idx -= 1;\n        }\n        return [\n            tuple[0],\n            result\n        ];\n    });\n\n    /**\n     * Tests a regular expression against a String. Note that this function\n     * will return an empty array when there are no matches. This differs\n     * from [`String.prototype.match`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match)\n     * which returns `null` when there are no matches.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @see R.test\n     * @category String\n     * @sig RegExp -> String -> [String | Undefined]\n     * @param {RegExp} rx A regular expression.\n     * @param {String} str The string to match against\n     * @return {Array} The list of matches or empty array.\n     * @example\n     *\n     *      R.match(/([a-z]a)/g, 'bananas'); //=> ['ba', 'na', 'na']\n     *      R.match(/a/, 'b'); //=> []\n     *      R.match(/a/, null); //=> TypeError: null does not have a method named \"match\"\n     */\n    var match = _curry2(function match(rx, str) {\n        return str.match(rx) || [];\n    });\n\n    /**\n     * mathMod behaves like the modulo operator should mathematically, unlike the `%`\n     * operator (and by extension, R.modulo). So while \"-17 % 5\" is -2,\n     * mathMod(-17, 5) is 3. mathMod requires Integer arguments, and returns NaN\n     * when the modulus is zero or negative.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} m The dividend.\n     * @param {Number} p the modulus.\n     * @return {Number} The result of `b mod a`.\n     * @example\n     *\n     *      R.mathMod(-17, 5);  //=> 3\n     *      R.mathMod(17, 5);   //=> 2\n     *      R.mathMod(17, -5);  //=> NaN\n     *      R.mathMod(17, 0);   //=> NaN\n     *      R.mathMod(17.2, 5); //=> NaN\n     *      R.mathMod(17, 5.3); //=> NaN\n     *\n     *      var clock = R.mathMod(R.__, 12);\n     *      clock(15); //=> 3\n     *      clock(24); //=> 0\n     *\n     *      var seventeenMod = R.mathMod(17);\n     *      seventeenMod(3);  //=> 2\n     *      seventeenMod(4);  //=> 1\n     *      seventeenMod(10); //=> 7\n     */\n    var mathMod = _curry2(function mathMod(m, p) {\n        if (!_isInteger(m)) {\n            return NaN;\n        }\n        if (!_isInteger(p) || p < 1) {\n            return NaN;\n        }\n        return (m % p + p) % p;\n    });\n\n    /**\n     * Returns the larger of its two arguments.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> a\n     * @param {*} a\n     * @param {*} b\n     * @return {*}\n     * @see R.maxBy, R.min\n     * @example\n     *\n     *      R.max(789, 123); //=> 789\n     *      R.max('a', 'b'); //=> 'b'\n     */\n    var max = _curry2(function max(a, b) {\n        return b > a ? b : a;\n    });\n\n    /**\n     * Takes a function and two values, and returns whichever value produces\n     * the larger result when passed to the provided function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Relation\n     * @sig Ord b => (a -> b) -> a -> a -> a\n     * @param {Function} f\n     * @param {*} a\n     * @param {*} b\n     * @return {*}\n     * @see R.max, R.minBy\n     * @example\n     *\n     *      //  square :: Number -> Number\n     *      var square = n => n * n;\n     *\n     *      R.maxBy(square, -3, 2); //=> -3\n     *\n     *      R.reduce(R.maxBy(square), 0, [3, -5, 4, 1, -2]); //=> -5\n     *      R.reduce(R.maxBy(square), 0, []); //=> 0\n     */\n    var maxBy = _curry3(function maxBy(f, a, b) {\n        return f(b) > f(a) ? b : a;\n    });\n\n    /**\n     * Create a new object with the own properties of `a`\n     * merged with the own properties of object `b`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {k: v} -> {k: v} -> {k: v}\n     * @param {Object} a\n     * @param {Object} b\n     * @return {Object}\n     * @example\n     *\n     *      R.merge({ 'name': 'fred', 'age': 10 }, { 'age': 40 });\n     *      //=> { 'name': 'fred', 'age': 40 }\n     *\n     *      var resetToDefault = R.merge(R.__, {x: 0});\n     *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}\n     */\n    var merge = _curry2(function merge(a, b) {\n        var result = {};\n        var ks = keys(a);\n        var idx = 0;\n        while (idx < ks.length) {\n            result[ks[idx]] = a[ks[idx]];\n            idx += 1;\n        }\n        ks = keys(b);\n        idx = 0;\n        while (idx < ks.length) {\n            result[ks[idx]] = b[ks[idx]];\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Returns the smaller of its two arguments.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord a => a -> a -> a\n     * @param {*} a\n     * @param {*} b\n     * @return {*}\n     * @see R.minBy, R.max\n     * @example\n     *\n     *      R.min(789, 123); //=> 123\n     *      R.min('a', 'b'); //=> 'a'\n     */\n    var min = _curry2(function min(a, b) {\n        return b < a ? b : a;\n    });\n\n    /**\n     * Takes a function and two values, and returns whichever value produces\n     * the smaller result when passed to the provided function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Relation\n     * @sig Ord b => (a -> b) -> a -> a -> a\n     * @param {Function} f\n     * @param {*} a\n     * @param {*} b\n     * @return {*}\n     * @see R.min, R.maxBy\n     * @example\n     *\n     *      //  square :: Number -> Number\n     *      var square = n => n * n;\n     *\n     *      R.minBy(square, -3, 2); //=> 2\n     *\n     *      R.reduce(R.minBy(square), Infinity, [3, -5, 4, 1, -2]); //=> 1\n     *      R.reduce(R.minBy(square), Infinity, []); //=> Infinity\n     */\n    var minBy = _curry3(function minBy(f, a, b) {\n        return f(b) < f(a) ? b : a;\n    });\n\n    /**\n     * Divides the second parameter by the first and returns the remainder.\n     * Note that this function preserves the JavaScript-style behavior for\n     * modulo. For mathematical modulo see `mathMod`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} a The value to the divide.\n     * @param {Number} b The pseudo-modulus\n     * @return {Number} The result of `b % a`.\n     * @see R.mathMod\n     * @example\n     *\n     *      R.modulo(17, 3); //=> 2\n     *      // JS behavior:\n     *      R.modulo(-17, 3); //=> -2\n     *      R.modulo(17, -3); //=> 2\n     *\n     *      var isOdd = R.modulo(R.__, 2);\n     *      isOdd(42); //=> 0\n     *      isOdd(21); //=> 1\n     */\n    var modulo = _curry2(function modulo(a, b) {\n        return a % b;\n    });\n\n    /**\n     * Multiplies two numbers. Equivalent to `a * b` but curried.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} a The first value.\n     * @param {Number} b The second value.\n     * @return {Number} The result of `a * b`.\n     * @see R.divide\n     * @example\n     *\n     *      var double = R.multiply(2);\n     *      var triple = R.multiply(3);\n     *      double(3);       //=>  6\n     *      triple(4);       //=> 12\n     *      R.multiply(2, 5);  //=> 10\n     */\n    var multiply = _curry2(function multiply(a, b) {\n        return a * b;\n    });\n\n    /**\n     * Wraps a function of any arity (including nullary) in a function that accepts exactly `n`\n     * parameters. Any extraneous parameters will not be passed to the supplied function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig Number -> (* -> a) -> (* -> a)\n     * @param {Number} n The desired arity of the new function.\n     * @param {Function} fn The function to wrap.\n     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n     *         arity `n`.\n     * @example\n     *\n     *      var takesTwoArgs = (a, b) => [a, b];\n     *\n     *      takesTwoArgs.length; //=> 2\n     *      takesTwoArgs(1, 2); //=> [1, 2]\n     *\n     *      var takesOneArg = R.nAry(1, takesTwoArgs);\n     *      takesOneArg.length; //=> 1\n     *      // Only `n` arguments are passed to the wrapped function\n     *      takesOneArg(1, 2); //=> [1, undefined]\n     */\n    var nAry = _curry2(function nAry(n, fn) {\n        switch (n) {\n        case 0:\n            return function () {\n                return fn.call(this);\n            };\n        case 1:\n            return function (a0) {\n                return fn.call(this, a0);\n            };\n        case 2:\n            return function (a0, a1) {\n                return fn.call(this, a0, a1);\n            };\n        case 3:\n            return function (a0, a1, a2) {\n                return fn.call(this, a0, a1, a2);\n            };\n        case 4:\n            return function (a0, a1, a2, a3) {\n                return fn.call(this, a0, a1, a2, a3);\n            };\n        case 5:\n            return function (a0, a1, a2, a3, a4) {\n                return fn.call(this, a0, a1, a2, a3, a4);\n            };\n        case 6:\n            return function (a0, a1, a2, a3, a4, a5) {\n                return fn.call(this, a0, a1, a2, a3, a4, a5);\n            };\n        case 7:\n            return function (a0, a1, a2, a3, a4, a5, a6) {\n                return fn.call(this, a0, a1, a2, a3, a4, a5, a6);\n            };\n        case 8:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7);\n            };\n        case 9:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8);\n            };\n        case 10:\n            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n            };\n        default:\n            throw new Error('First argument to nAry must be a non-negative integer no greater than ten');\n        }\n    });\n\n    /**\n     * Negates its argument.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Math\n     * @sig Number -> Number\n     * @param {Number} n\n     * @return {Number}\n     * @example\n     *\n     *      R.negate(42); //=> -42\n     */\n    var negate = _curry1(function negate(n) {\n        return -n;\n    });\n\n    /**\n     * A function that returns the `!` of its argument. It will return `true` when\n     * passed false-y value, and `false` when passed a truth-y one.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Logic\n     * @sig * -> Boolean\n     * @param {*} a any value\n     * @return {Boolean} the logical inverse of passed argument.\n     * @see R.complement\n     * @example\n     *\n     *      R.not(true); //=> false\n     *      R.not(false); //=> true\n     *      R.not(0); => true\n     *      R.not(1); => false\n     */\n    var not = _curry1(function not(a) {\n        return !a;\n    });\n\n    /**\n     * Returns the nth element of the given list or string.\n     * If n is negative the element at index length + n is returned.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Number -> [a] -> a | Undefined\n     * @sig Number -> String -> String\n     * @param {Number} offset\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      var list = ['foo', 'bar', 'baz', 'quux'];\n     *      R.nth(1, list); //=> 'bar'\n     *      R.nth(-1, list); //=> 'quux'\n     *      R.nth(-99, list); //=> undefined\n     *\n     *      R.nth('abc', 2); //=> 'c'\n     *      R.nth('abc', 3); //=> ''\n     */\n    var nth = _curry2(function nth(offset, list) {\n        var idx = offset < 0 ? list.length + offset : offset;\n        return _isString(list) ? list.charAt(idx) : list[idx];\n    });\n\n    /**\n     * Returns a function which returns its nth argument.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Function\n     * @sig Number -> *... -> *\n     * @param {Number} n\n     * @return {Function}\n     * @example\n     *\n     *      R.nthArg(1)('a', 'b', 'c'); //=> 'b'\n     *      R.nthArg(-1)('a', 'b', 'c'); //=> 'c'\n     */\n    var nthArg = _curry1(function nthArg(n) {\n        return function () {\n            return nth(n, arguments);\n        };\n    });\n\n    /**\n     * Creates an object containing a single key:value pair.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category Object\n     * @sig String -> a -> {String:a}\n     * @param {String} key\n     * @param {*} val\n     * @return {Object}\n     * @see R.pair\n     * @example\n     *\n     *      var matchPhrases = R.compose(\n     *        R.objOf('must'),\n     *        R.map(R.objOf('match_phrase'))\n     *      );\n     *      matchPhrases(['foo', 'bar', 'baz']); //=> {must: [{match_phrase: 'foo'}, {match_phrase: 'bar'}, {match_phrase: 'baz'}]}\n     */\n    var objOf = _curry2(function objOf(key, val) {\n        var obj = {};\n        obj[key] = val;\n        return obj;\n    });\n\n    /**\n     * Returns a singleton array containing the value provided.\n     *\n     * Note this `of` is different from the ES6 `of`; See\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category Function\n     * @sig a -> [a]\n     * @param {*} x any value\n     * @return {Array} An array wrapping `x`.\n     * @example\n     *\n     *      R.of(null); //=> [null]\n     *      R.of([42]); //=> [[42]]\n     */\n    var of = _curry1(_of);\n\n    /**\n     * Accepts a function `fn` and returns a function that guards invocation of `fn` such that\n     * `fn` can only ever be called once, no matter how many times the returned function is\n     * invoked. The first value calculated is returned in subsequent invocations.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (a... -> b) -> (a... -> b)\n     * @param {Function} fn The function to wrap in a call-only-once wrapper.\n     * @return {Function} The wrapped function.\n     * @example\n     *\n     *      var addOneOnce = R.once(x => x + 1);\n     *      addOneOnce(10); //=> 11\n     *      addOneOnce(addOneOnce(50)); //=> 11\n     */\n    var once = _curry1(function once(fn) {\n        var called = false, result;\n        return function () {\n            if (called) {\n                return result;\n            }\n            called = true;\n            result = fn.apply(this, arguments);\n            return result;\n        };\n    });\n\n    /**\n     * Returns `true` if one or both of its arguments are `true`. Returns `false`\n     * if both arguments are `false`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Logic\n     * @sig * -> * -> *\n     * @param {Boolean} a A boolean value\n     * @param {Boolean} b A boolean value\n     * @return {Boolean} `true` if one or both arguments are `true`, `false` otherwise\n     * @see R.either\n     * @example\n     *\n     *      R.or(true, true); //=> true\n     *      R.or(true, false); //=> true\n     *      R.or(false, true); //=> true\n     *      R.or(false, false); //=> false\n     */\n    var or = _curry2(function or(a, b) {\n        return a || b;\n    });\n\n    /**\n     * Returns the result of \"setting\" the portion of the given data structure\n     * focused by the given lens to the result of applying the given function to\n     * the focused value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Lens s a -> (a -> a) -> s -> s\n     * @param {Lens} lens\n     * @param {*} v\n     * @param {*} x\n     * @return {*}\n     * @see R.prop, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      var headLens = R.lensIndex(0);\n     *\n     *      R.over(headLens, R.toUpper, ['foo', 'bar', 'baz']); //=> ['FOO', 'bar', 'baz']\n     */\n    var over = function () {\n        var Identity = function (x) {\n            return {\n                value: x,\n                map: function (f) {\n                    return Identity(f(x));\n                }\n            };\n        };\n        return _curry3(function over(lens, f, x) {\n            return lens(function (y) {\n                return Identity(f(y));\n            })(x).value;\n        });\n    }();\n\n    /**\n     * Takes two arguments, `fst` and `snd`, and returns `[fst, snd]`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category List\n     * @sig a -> b -> (a,b)\n     * @param {*} fst\n     * @param {*} snd\n     * @return {Array}\n     * @see R.createMapEntry, R.of\n     * @example\n     *\n     *      pair('foo', 'bar'); //=> ['foo', 'bar']\n     */\n    var pair = _curry2(function pair(fst, snd) {\n        return [\n            fst,\n            snd\n        ];\n    });\n\n    /**\n     * Retrieve the value at a given path.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Object\n     * @sig [String] -> {k: v} -> v | Undefined\n     * @param {Array} path The path to use.\n     * @return {*} The data at `path`.\n     * @example\n     *\n     *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n     *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n     */\n    var path = _curry2(function path(paths, obj) {\n        if (obj == null) {\n            return;\n        } else {\n            var val = obj;\n            var idx = 0;\n            while (val != null && idx < paths.length) {\n                val = val[paths[idx]];\n                idx += 1;\n            }\n            return val;\n        }\n    });\n\n    /**\n     * If the given, non-null object has a value at the given path, returns\n     * the value at that path. Otherwise returns the provided default value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category Object\n     * @sig a -> [String] -> Object -> a\n     * @param {*} d The default value.\n     * @param {Array} p The path to use.\n     * @return {*} The data at `path` of the supplied object or the default value.\n     * @example\n     *\n     *      R.pathOr('N/A', ['a', 'b'], {a: {b: 2}}); //=> 2\n     *      R.pathOr('N/A', ['a', 'b'], {c: {b: 2}}); //=> \"N/A\"\n     */\n    var pathOr = _curry3(function pathOr(d, p, obj) {\n        return defaultTo(d, path(p, obj));\n    });\n\n    /**\n     * Returns a partial copy of an object containing only the keys specified.  If the key does not exist, the\n     * property is ignored.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig [k] -> {k: v} -> {k: v}\n     * @param {Array} names an array of String property names to copy onto a new object\n     * @param {Object} obj The object to copy from\n     * @return {Object} A new object with only properties from `names` on it.\n     * @see R.omit, R.props\n     * @example\n     *\n     *      R.pick(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n     *      R.pick(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1}\n     */\n    var pick = _curry2(function pick(names, obj) {\n        var result = {};\n        var idx = 0;\n        while (idx < names.length) {\n            if (names[idx] in obj) {\n                result[names[idx]] = obj[names[idx]];\n            }\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Similar to `pick` except that this one includes a `key: undefined` pair for properties that don't exist.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig [k] -> {k: v} -> {k: v}\n     * @param {Array} names an array of String property names to copy onto a new object\n     * @param {Object} obj The object to copy from\n     * @return {Object} A new object with only properties from `names` on it.\n     * @see R.pick\n     * @example\n     *\n     *      R.pickAll(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n     *      R.pickAll(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, e: undefined, f: undefined}\n     */\n    var pickAll = _curry2(function pickAll(names, obj) {\n        var result = {};\n        var idx = 0;\n        var len = names.length;\n        while (idx < len) {\n            var name = names[idx];\n            result[name] = obj[name];\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Returns a partial copy of an object containing only the keys that\n     * satisfy the supplied predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @sig (v, k -> Boolean) -> {k: v} -> {k: v}\n     * @param {Function} pred A predicate to determine whether or not a key\n     *        should be included on the output object.\n     * @param {Object} obj The object to copy from\n     * @return {Object} A new object with only properties that satisfy `pred`\n     *         on it.\n     * @see R.pick\n     * @example\n     *\n     *      var isUpperCase = (val, key) => key.toUpperCase() === key;\n     *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n     */\n    var pickBy = _curry2(function pickBy(test, obj) {\n        var result = {};\n        for (var prop in obj) {\n            if (test(obj[prop], prop, obj)) {\n                result[prop] = obj[prop];\n            }\n        }\n        return result;\n    });\n\n    /**\n     * Returns a new list with the given element at the front, followed by the contents of the\n     * list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig a -> [a] -> [a]\n     * @param {*} el The item to add to the head of the output list.\n     * @param {Array} list The array to add to the tail of the output list.\n     * @return {Array} A new array.\n     * @see R.append\n     * @example\n     *\n     *      R.prepend('fee', ['fi', 'fo', 'fum']); //=> ['fee', 'fi', 'fo', 'fum']\n     */\n    var prepend = _curry2(function prepend(el, list) {\n        return _concat([el], list);\n    });\n\n    /**\n     * Returns a function that when supplied an object returns the indicated property of that object, if it exists.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig s -> {s: a} -> a | Undefined\n     * @param {String} p The property name\n     * @param {Object} obj The object to query\n     * @return {*} The value at `obj.p`.\n     * @example\n     *\n     *      R.prop('x', {x: 100}); //=> 100\n     *      R.prop('x', {}); //=> undefined\n     */\n    var prop = _curry2(function prop(p, obj) {\n        return obj[p];\n    });\n\n    /**\n     * If the given, non-null object has an own property with the specified name,\n     * returns the value of that property.\n     * Otherwise returns the provided default value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.6.0\n     * @category Object\n     * @sig a -> String -> Object -> a\n     * @param {*} val The default value.\n     * @param {String} p The name of the property to return.\n     * @param {Object} obj The object to query.\n     * @return {*} The value of given property of the supplied object or the default value.\n     * @example\n     *\n     *      var alice = {\n     *        name: 'ALICE',\n     *        age: 101\n     *      };\n     *      var favorite = R.prop('favoriteLibrary');\n     *      var favoriteWithDefault = R.propOr('Ramda', 'favoriteLibrary');\n     *\n     *      favorite(alice);  //=> undefined\n     *      favoriteWithDefault(alice);  //=> 'Ramda'\n     */\n    var propOr = _curry3(function propOr(val, p, obj) {\n        return obj != null && _has(p, obj) ? obj[p] : val;\n    });\n\n    /**\n     * Returns `true` if the specified object property satisfies the given\n     * predicate; `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Logic\n     * @sig (a -> Boolean) -> String -> {String: a} -> Boolean\n     * @param {Function} pred\n     * @param {String} name\n     * @param {*} obj\n     * @return {Boolean}\n     * @see R.propEq\n     * @see R.propIs\n     * @example\n     *\n     *      R.propSatisfies(x => x > 0, 'x', {x: 1, y: 2}); //=> true\n     */\n    var propSatisfies = _curry3(function propSatisfies(pred, name, obj) {\n        return pred(obj[name]);\n    });\n\n    /**\n     * Acts as multiple `prop`: array of keys in, array of values out. Preserves order.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig [k] -> {k: v} -> [v]\n     * @param {Array} ps The property names to fetch\n     * @param {Object} obj The object to query\n     * @return {Array} The corresponding values or partially applied function.\n     * @example\n     *\n     *      R.props(['x', 'y'], {x: 1, y: 2}); //=> [1, 2]\n     *      R.props(['c', 'a', 'b'], {b: 2, a: 1}); //=> [undefined, 1, 2]\n     *\n     *      var fullName = R.compose(R.join(' '), R.props(['first', 'last']));\n     *      fullName({last: 'Bullet-Tooth', age: 33, first: 'Tony'}); //=> 'Tony Bullet-Tooth'\n     */\n    var props = _curry2(function props(ps, obj) {\n        var len = ps.length;\n        var out = [];\n        var idx = 0;\n        while (idx < len) {\n            out[idx] = obj[ps[idx]];\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns a list of numbers from `from` (inclusive) to `to`\n     * (exclusive).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Number -> Number -> [Number]\n     * @param {Number} from The first number in the list.\n     * @param {Number} to One more than the last number in the list.\n     * @return {Array} The list of numbers in tthe set `[a, b)`.\n     * @example\n     *\n     *      R.range(1, 5);    //=> [1, 2, 3, 4]\n     *      R.range(50, 53);  //=> [50, 51, 52]\n     */\n    var range = _curry2(function range(from, to) {\n        if (!(_isNumber(from) && _isNumber(to))) {\n            throw new TypeError('Both arguments to range must be numbers');\n        }\n        var result = [];\n        var n = from;\n        while (n < to) {\n            result.push(n);\n            n += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Returns a single item by iterating through the list, successively calling the iterator\n     * function and passing it an accumulator value and the current value from the array, and\n     * then passing the result to the next call.\n     *\n     * Similar to `reduce`, except moves through the input list from the right to the left.\n     *\n     * The iterator function receives two values: *(acc, value)*\n     *\n     * Note: `R.reduceRight` does not skip deleted or unassigned indices (sparse arrays), unlike\n     * the native `Array.prototype.reduce` method. For more details on this behavior, see:\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight#Description\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a,b -> a) -> a -> [b] -> a\n     * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n     *        current element from the array.\n     * @param {*} acc The accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var pairs = [ ['a', 1], ['b', 2], ['c', 3] ];\n     *      var flattenPairs = (acc, pair) => acc.concat(pair);\n     *\n     *      R.reduceRight(flattenPairs, [], pairs); //=> [ 'c', 3, 'b', 2, 'a', 1 ]\n     */\n    var reduceRight = _curry3(function reduceRight(fn, acc, list) {\n        var idx = list.length - 1;\n        while (idx >= 0) {\n            acc = fn(acc, list[idx]);\n            idx -= 1;\n        }\n        return acc;\n    });\n\n    /**\n     * Returns a value wrapped to indicate that it is the final value of the\n     * reduce and transduce functions.  The returned value\n     * should be considered a black box: the internal structure is not\n     * guaranteed to be stable.\n     *\n     * Note: this optimization is unavailable to functions not explicitly listed\n     * above.  For instance, it is not currently supported by reduceIndexed,\n     * reduceRight, or reduceRightIndexed.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.15.0\n     * @category List\n     * @see R.reduce, R.transduce\n     * @sig a -> *\n     * @param {*} x The final value of the reduce.\n     * @return {*} The wrapped value.\n     * @example\n     *\n     *      R.reduce(\n     *        R.pipe(R.add, R.when(R.gte(R.__, 10), R.reduced)),\n     *        0,\n     *        [1, 2, 3, 4, 5]) // 10\n     */\n    var reduced = _curry1(_reduced);\n\n    /**\n     * Removes the sub-list of `list` starting at index `start` and containing\n     * `count` elements.  _Note that this is not destructive_: it returns a\n     * copy of the list with the changes.\n     * <small>No lists have been harmed in the application of this function.</small>\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.2\n     * @category List\n     * @sig Number -> Number -> [a] -> [a]\n     * @param {Number} start The position to start removing elements\n     * @param {Number} count The number of elements to remove\n     * @param {Array} list The list to remove from\n     * @return {Array} A new Array with `count` elements from `start` removed.\n     * @example\n     *\n     *      R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=> [1,2,6,7,8]\n     */\n    var remove = _curry3(function remove(start, count, list) {\n        return _concat(_slice(list, 0, Math.min(start, list.length)), _slice(list, Math.min(list.length, start + count)));\n    });\n\n    /**\n     * Replace a substring or regex match in a string with a replacement.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category String\n     * @sig RegExp|String -> String -> String -> String\n     * @param {RegExp|String} pattern A regular expression or a substring to match.\n     * @param {String} replacement The string to replace the matches with.\n     * @param {String} str The String to do the search and replacement in.\n     * @return {String} The result.\n     * @example\n     *\n     *      R.replace('foo', 'bar', 'foo foo foo'); //=> 'bar foo foo'\n     *      R.replace(/foo/, 'bar', 'foo foo foo'); //=> 'bar foo foo'\n     *\n     *      // Use the \"g\" (global) flag to replace all occurrences:\n     *      R.replace(/foo/g, 'bar', 'foo foo foo'); //=> 'bar bar bar'\n     */\n    var replace = _curry3(function replace(regex, replacement, str) {\n        return str.replace(regex, replacement);\n    });\n\n    /**\n     * Returns a new list or string with the elements or characters in reverse\n     * order.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [a]\n     * @sig String -> String\n     * @param {Array|String} list\n     * @return {Array|String}\n     * @example\n     *\n     *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]\n     *      R.reverse([1, 2]);     //=> [2, 1]\n     *      R.reverse([1]);        //=> [1]\n     *      R.reverse([]);         //=> []\n     *\n     *      R.reverse('abc');      //=> 'cba'\n     *      R.reverse('ab');       //=> 'ba'\n     *      R.reverse('a');        //=> 'a'\n     *      R.reverse('');         //=> ''\n     */\n    var reverse = _curry1(function reverse(list) {\n        return _isString(list) ? list.split('').reverse().join('') : _slice(list).reverse();\n    });\n\n    /**\n     * Scan is similar to reduce, but returns a list of successively reduced values from the left\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category List\n     * @sig (a,b -> a) -> a -> [b] -> [a]\n     * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n     *        current element from the array\n     * @param {*} acc The accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {Array} A list of all intermediately reduced values.\n     * @example\n     *\n     *      var numbers = [1, 2, 3, 4];\n     *      var factorials = R.scan(R.multiply, 1, numbers); //=> [1, 1, 2, 6, 24]\n     */\n    var scan = _curry3(function scan(fn, acc, list) {\n        var idx = 0, len = list.length, result = [acc];\n        while (idx < len) {\n            acc = fn(acc, list[idx]);\n            result[idx + 1] = acc;\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Returns the result of \"setting\" the portion of the given data structure\n     * focused by the given lens to the given value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Lens s a -> a -> s -> s\n     * @param {Lens} lens\n     * @param {*} v\n     * @param {*} x\n     * @return {*}\n     * @see R.prop, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      var xLens = R.lensProp('x');\n     *\n     *      R.set(xLens, 4, {x: 1, y: 2});  //=> {x: 4, y: 2}\n     *      R.set(xLens, 8, {x: 1, y: 2});  //=> {x: 8, y: 2}\n     */\n    var set = _curry3(function set(lens, v, x) {\n        return over(lens, always(v), x);\n    });\n\n    /**\n     * Returns a copy of the list, sorted according to the comparator function, which should accept two values at a\n     * time and return a negative number if the first value is smaller, a positive number if it's larger, and zero\n     * if they are equal.  Please note that this is a **copy** of the list.  It does not modify the original.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a,a -> Number) -> [a] -> [a]\n     * @param {Function} comparator A sorting function :: a -> b -> Int\n     * @param {Array} list The list to sort\n     * @return {Array} a new array with its elements sorted by the comparator function.\n     * @example\n     *\n     *      var diff = function(a, b) { return a - b; };\n     *      R.sort(diff, [4,2,7,5]); //=> [2, 4, 5, 7]\n     */\n    var sort = _curry2(function sort(comparator, list) {\n        return _slice(list).sort(comparator);\n    });\n\n    /**\n     * Sorts the list according to the supplied function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig Ord b => (a -> b) -> [a] -> [a]\n     * @param {Function} fn\n     * @param {Array} list The list to sort.\n     * @return {Array} A new list sorted by the keys generated by `fn`.\n     * @example\n     *\n     *      var sortByFirstItem = R.sortBy(R.prop(0));\n     *      var sortByNameCaseInsensitive = R.sortBy(R.compose(R.toLower, R.prop('name')));\n     *      var pairs = [[-1, 1], [-2, 2], [-3, 3]];\n     *      sortByFirstItem(pairs); //=> [[-3, 3], [-2, 2], [-1, 1]]\n     *      var alice = {\n     *        name: 'ALICE',\n     *        age: 101\n     *      };\n     *      var bob = {\n     *        name: 'Bob',\n     *        age: -10\n     *      };\n     *      var clara = {\n     *        name: 'clara',\n     *        age: 314.159\n     *      };\n     *      var people = [clara, bob, alice];\n     *      sortByNameCaseInsensitive(people); //=> [alice, bob, clara]\n     */\n    var sortBy = _curry2(function sortBy(fn, list) {\n        return _slice(list).sort(function (a, b) {\n            var aa = fn(a);\n            var bb = fn(b);\n            return aa < bb ? -1 : aa > bb ? 1 : 0;\n        });\n    });\n\n    /**\n     * Subtracts two numbers. Equivalent to `a - b` but curried.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig Number -> Number -> Number\n     * @param {Number} a The first value.\n     * @param {Number} b The second value.\n     * @return {Number} The result of `a - b`.\n     * @see R.add\n     * @example\n     *\n     *      R.subtract(10, 8); //=> 2\n     *\n     *      var minus5 = R.subtract(R.__, 5);\n     *      minus5(17); //=> 12\n     *\n     *      var complementaryAngle = R.subtract(90);\n     *      complementaryAngle(30); //=> 60\n     *      complementaryAngle(72); //=> 18\n     */\n    var subtract = _curry2(function subtract(a, b) {\n        return a - b;\n    });\n\n    /**\n     * Returns a new list containing the last `n` elements of a given list, passing each value\n     * to the supplied predicate function, and terminating when the predicate function returns\n     * `false`. Excludes the element that caused the predicate function to fail. The predicate\n     * function is passed one argument: *(value)*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} A new array.\n     * @see R.dropLastWhile\n     * @example\n     *\n     *      var isNotOne = x => x !== 1;\n     *\n     *      R.takeLastWhile(isNotOne, [1, 2, 3, 4]); //=> [2, 3, 4]\n     */\n    var takeLastWhile = _curry2(function takeLastWhile(fn, list) {\n        var idx = list.length - 1;\n        while (idx >= 0 && fn(list[idx])) {\n            idx -= 1;\n        }\n        return _slice(list, idx + 1, Infinity);\n    });\n\n    /**\n     * Runs the given function with the supplied object, then returns the object.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (a -> *) -> a -> a\n     * @param {Function} fn The function to call with `x`. The return value of `fn` will be thrown away.\n     * @param {*} x\n     * @return {*} `x`.\n     * @example\n     *\n     *      var sayX = x => console.log('x is ' + x);\n     *      R.tap(sayX, 100); //=> 100\n     *      //-> 'x is 100'\n     */\n    var tap = _curry2(function tap(fn, x) {\n        fn(x);\n        return x;\n    });\n\n    /**\n     * Calls an input function `n` times, returning an array containing the results of those\n     * function calls.\n     *\n     * `fn` is passed one argument: The current value of `n`, which begins at `0` and is\n     * gradually incremented to `n - 1`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.3\n     * @category List\n     * @sig (i -> a) -> i -> [a]\n     * @param {Function} fn The function to invoke. Passed one argument, the current value of `n`.\n     * @param {Number} n A value between `0` and `n - 1`. Increments after each function call.\n     * @return {Array} An array containing the return values of all calls to `fn`.\n     * @example\n     *\n     *      R.times(R.identity, 5); //=> [0, 1, 2, 3, 4]\n     */\n    var times = _curry2(function times(fn, n) {\n        var len = Number(n);\n        var list = new Array(len);\n        var idx = 0;\n        while (idx < len) {\n            list[idx] = fn(idx);\n            idx += 1;\n        }\n        return list;\n    });\n\n    /**\n     * Converts an object into an array of key, value arrays.\n     * Only the object's own properties are used.\n     * Note that the order of the output array is not guaranteed to be\n     * consistent across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.0\n     * @category Object\n     * @sig {String: *} -> [[String,*]]\n     * @param {Object} obj The object to extract from\n     * @return {Array} An array of key, value arrays from the object's own properties.\n     * @see R.fromPairs\n     * @example\n     *\n     *      R.toPairs({a: 1, b: 2, c: 3}); //=> [['a', 1], ['b', 2], ['c', 3]]\n     */\n    var toPairs = _curry1(function toPairs(obj) {\n        var pairs = [];\n        for (var prop in obj) {\n            if (_has(prop, obj)) {\n                pairs[pairs.length] = [\n                    prop,\n                    obj[prop]\n                ];\n            }\n        }\n        return pairs;\n    });\n\n    /**\n     * Converts an object into an array of key, value arrays.\n     * The object's own properties and prototype properties are used.\n     * Note that the order of the output array is not guaranteed to be\n     * consistent across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.0\n     * @category Object\n     * @sig {String: *} -> [[String,*]]\n     * @param {Object} obj The object to extract from\n     * @return {Array} An array of key, value arrays from the object's own\n     *         and prototype properties.\n     * @example\n     *\n     *      var F = function() { this.x = 'X'; };\n     *      F.prototype.y = 'Y';\n     *      var f = new F();\n     *      R.toPairsIn(f); //=> [['x','X'], ['y','Y']]\n     */\n    var toPairsIn = _curry1(function toPairsIn(obj) {\n        var pairs = [];\n        for (var prop in obj) {\n            pairs[pairs.length] = [\n                prop,\n                obj[prop]\n            ];\n        }\n        return pairs;\n    });\n\n    /**\n     * Removes (strips) whitespace from both ends of the string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.6.0\n     * @category String\n     * @sig String -> String\n     * @param {String} str The string to trim.\n     * @return {String} Trimmed version of `str`.\n     * @example\n     *\n     *      R.trim('   xyz  '); //=> 'xyz'\n     *      R.map(R.trim, R.split(',', 'x, y, z')); //=> ['x', 'y', 'z']\n     */\n    var trim = function () {\n        var ws = '\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' + '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' + '\\u2029\\uFEFF';\n        var zeroWidth = '\\u200B';\n        var hasProtoTrim = typeof String.prototype.trim === 'function';\n        if (!hasProtoTrim || (ws.trim() || !zeroWidth.trim())) {\n            return _curry1(function trim(str) {\n                var beginRx = new RegExp('^[' + ws + '][' + ws + ']*');\n                var endRx = new RegExp('[' + ws + '][' + ws + ']*$');\n                return str.replace(beginRx, '').replace(endRx, '');\n            });\n        } else {\n            return _curry1(function trim(str) {\n                return str.trim();\n            });\n        }\n    }();\n\n    /**\n     * Gives a single-word string description of the (native) type of a value, returning such\n     * answers as 'Object', 'Number', 'Array', or 'Null'.  Does not attempt to distinguish user\n     * Object types any further, reporting them all as 'Object'.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Type\n     * @sig (* -> {*}) -> String\n     * @param {*} val The value to test\n     * @return {String}\n     * @example\n     *\n     *      R.type({}); //=> \"Object\"\n     *      R.type(1); //=> \"Number\"\n     *      R.type(false); //=> \"Boolean\"\n     *      R.type('s'); //=> \"String\"\n     *      R.type(null); //=> \"Null\"\n     *      R.type([]); //=> \"Array\"\n     *      R.type(/[A-z]/); //=> \"RegExp\"\n     */\n    var type = _curry1(function type(val) {\n        return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n    });\n\n    /**\n     * Takes a function `fn`, which takes a single array argument, and returns\n     * a function which:\n     *\n     *   - takes any number of positional arguments;\n     *   - passes these arguments to `fn` as an array; and\n     *   - returns the result.\n     *\n     * In other words, R.unapply derives a variadic function from a function\n     * which takes an array. R.unapply is the inverse of R.apply.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Function\n     * @sig ([*...] -> a) -> (*... -> a)\n     * @param {Function} fn\n     * @return {Function}\n     * @see R.apply\n     * @example\n     *\n     *      R.unapply(JSON.stringify)(1, 2, 3); //=> '[1,2,3]'\n     */\n    var unapply = _curry1(function unapply(fn) {\n        return function () {\n            return fn(_slice(arguments));\n        };\n    });\n\n    /**\n     * Wraps a function of any arity (including nullary) in a function that accepts exactly 1\n     * parameter. Any extraneous parameters will not be passed to the supplied function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Function\n     * @sig (* -> b) -> (a -> b)\n     * @param {Function} fn The function to wrap.\n     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n     *         arity 1.\n     * @example\n     *\n     *      var takesTwoArgs = function(a, b) {\n     *        return [a, b];\n     *      };\n     *      takesTwoArgs.length; //=> 2\n     *      takesTwoArgs(1, 2); //=> [1, 2]\n     *\n     *      var takesOneArg = R.unary(takesTwoArgs);\n     *      takesOneArg.length; //=> 1\n     *      // Only 1 argument is passed to the wrapped function\n     *      takesOneArg(1, 2); //=> [1, undefined]\n     */\n    var unary = _curry1(function unary(fn) {\n        return nAry(1, fn);\n    });\n\n    /**\n     * Returns a function of arity `n` from a (manually) curried function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Function\n     * @sig Number -> (a -> b) -> (a -> c)\n     * @param {Number} length The arity for the returned function.\n     * @param {Function} fn The function to uncurry.\n     * @return {Function} A new function.\n     * @see R.curry\n     * @example\n     *\n     *      var addFour = a => b => c => d => a + b + c + d;\n     *\n     *      var uncurriedAddFour = R.uncurryN(4, addFour);\n     *      uncurriedAddFour(1, 2, 3, 4); //=> 10\n     */\n    var uncurryN = _curry2(function uncurryN(depth, fn) {\n        return curryN(depth, function () {\n            var currentDepth = 1;\n            var value = fn;\n            var idx = 0;\n            var endIdx;\n            while (currentDepth <= depth && typeof value === 'function') {\n                endIdx = currentDepth === depth ? arguments.length : idx + value.length;\n                value = value.apply(this, _slice(arguments, idx, endIdx));\n                currentDepth += 1;\n                idx = endIdx;\n            }\n            return value;\n        });\n    });\n\n    /**\n     * Builds a list from a seed value. Accepts an iterator function, which returns either false\n     * to stop iteration or an array of length 2 containing the value to add to the resulting\n     * list and the seed to be used in the next call to the iterator function.\n     *\n     * The iterator function receives one argument: *(seed)*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category List\n     * @sig (a -> [b]) -> * -> [b]\n     * @param {Function} fn The iterator function. receives one argument, `seed`, and returns\n     *        either false to quit iteration or an array of length two to proceed. The element\n     *        at index 0 of this array will be added to the resulting array, and the element\n     *        at index 1 will be passed to the next call to `fn`.\n     * @param {*} seed The seed value.\n     * @return {Array} The final list.\n     * @example\n     *\n     *      var f = n => n > 50 ? false : [-n, n + 10];\n     *      R.unfold(f, 10); //=> [-10, -20, -30, -40, -50]\n     */\n    var unfold = _curry2(function unfold(fn, seed) {\n        var pair = fn(seed);\n        var result = [];\n        while (pair && pair.length) {\n            result[result.length] = pair[0];\n            pair = fn(pair[1]);\n        }\n        return result;\n    });\n\n    /**\n     * Returns a new list containing only one copy of each element in the original list, based\n     * upon the value returned by applying the supplied predicate to two list elements. Prefers\n     * the first item if two items compare equal based on the predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category List\n     * @sig (a, a -> Boolean) -> [a] -> [a]\n     * @param {Function} pred A predicate used to test whether two items are equal.\n     * @param {Array} list The array to consider.\n     * @return {Array} The list of unique items.\n     * @example\n     *\n     *      var strEq = R.eqBy(String);\n     *      R.uniqWith(strEq)([1, '1', 2, 1]); //=> [1, 2]\n     *      R.uniqWith(strEq)([{}, {}]);       //=> [{}]\n     *      R.uniqWith(strEq)([1, '1', 1]);    //=> [1]\n     *      R.uniqWith(strEq)(['1', 1, 1]);    //=> ['1']\n     */\n    var uniqWith = _curry2(function uniqWith(pred, list) {\n        var idx = 0, len = list.length;\n        var result = [], item;\n        while (idx < len) {\n            item = list[idx];\n            if (!_containsWith(pred, item, result)) {\n                result[result.length] = item;\n            }\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Tests the final argument by passing it to the given predicate function.\n     * If the predicate is not satisfied, the function will return the\n     * result of calling the `whenFalseFn` function with the same argument. If the\n     * predicate is satisfied, the argument is returned as is.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category Logic\n     * @see R.ifElse, R.when\n     * @sig (a -> Boolean) -> (a -> a) -> a -> a\n     * @param {Function} pred        A predicate function\n     * @param {Function} whenFalseFn A function to invoke when the `pred` evaluates\n     *                               to a falsy value.\n     * @param {*}        x           An object to test with the `pred` function and\n     *                               pass to `whenFalseFn` if necessary.\n     * @return {*} Either `x` or the result of applying `x` to `whenFalseFn`.\n     * @example\n     *\n     *      // coerceArray :: (a|[a]) -> [a]\n     *      var coerceArray = R.unless(R.isArrayLike, R.of);\n     *      coerceArray([1, 2, 3]); //=> [1, 2, 3]\n     *      coerceArray(1);         //=> [1]\n     */\n    var unless = _curry3(function unless(pred, whenFalseFn, x) {\n        return pred(x) ? x : whenFalseFn(x);\n    });\n\n    /**\n     * Returns a new copy of the array with the element at the\n     * provided index replaced with the given value.\n     * @see R.adjust\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category List\n     * @sig Number -> a -> [a] -> [a]\n     * @param {Number} idx The index to update.\n     * @param {*} x The value to exist at the given index of the returned array.\n     * @param {Array|Arguments} list The source array-like object to be updated.\n     * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.\n     * @example\n     *\n     *      R.update(1, 11, [0, 1, 2]);     //=> [0, 11, 2]\n     *      R.update(1)(11)([0, 1, 2]);     //=> [0, 11, 2]\n     */\n    var update = _curry3(function update(idx, x, list) {\n        return adjust(always(x), idx, list);\n    });\n\n    /**\n     * Returns a list of all the enumerable own properties of the supplied object.\n     * Note that the order of the output array is not guaranteed across\n     * different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {k: v} -> [v]\n     * @param {Object} obj The object to extract values from\n     * @return {Array} An array of the values of the object's own properties.\n     * @example\n     *\n     *      R.values({a: 1, b: 2, c: 3}); //=> [1, 2, 3]\n     */\n    var values = _curry1(function values(obj) {\n        var props = keys(obj);\n        var len = props.length;\n        var vals = [];\n        var idx = 0;\n        while (idx < len) {\n            vals[idx] = obj[props[idx]];\n            idx += 1;\n        }\n        return vals;\n    });\n\n    /**\n     * Returns a list of all the properties, including prototype properties,\n     * of the supplied object.\n     * Note that the order of the output array is not guaranteed to be\n     * consistent across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Object\n     * @sig {k: v} -> [v]\n     * @param {Object} obj The object to extract values from\n     * @return {Array} An array of the values of the object's own and prototype properties.\n     * @example\n     *\n     *      var F = function() { this.x = 'X'; };\n     *      F.prototype.y = 'Y';\n     *      var f = new F();\n     *      R.valuesIn(f); //=> ['X', 'Y']\n     */\n    var valuesIn = _curry1(function valuesIn(obj) {\n        var prop, vs = [];\n        for (prop in obj) {\n            vs[vs.length] = obj[prop];\n        }\n        return vs;\n    });\n\n    /**\n     * Returns a \"view\" of the given data structure, determined by the given lens.\n     * The lens's focus determines which portion of the data structure is visible.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Lens s a -> s -> a\n     * @param {Lens} lens\n     * @param {*} x\n     * @return {*}\n     * @see R.prop, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      var xLens = R.lensProp('x');\n     *\n     *      R.view(xLens, {x: 1, y: 2});  //=> 1\n     *      R.view(xLens, {x: 4, y: 2});  //=> 4\n     */\n    var view = function () {\n        var Const = function (x) {\n            return {\n                value: x,\n                map: function () {\n                    return this;\n                }\n            };\n        };\n        return _curry2(function view(lens, x) {\n            return lens(Const)(x).value;\n        });\n    }();\n\n    /**\n     * Tests the final argument by passing it to the given predicate function.\n     * If the predicate is satisfied, the function will return the result\n     * of calling the `whenTrueFn` function with the same argument. If the predicate\n     * is not satisfied, the argument is returned as is.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category Logic\n     * @see R.ifElse, R.unless\n     * @sig (a -> Boolean) -> (a -> a) -> a -> a\n     * @param {Function} pred       A predicate function\n     * @param {Function} whenTrueFn A function to invoke when the `condition`\n     *                              evaluates to a truthy value.\n     * @param {*}        x          An object to test with the `pred` function and\n     *                              pass to `whenTrueFn` if necessary.\n     * @return {*} Either `x` or the result of applying `x` to `whenTrueFn`.\n     * @example\n     *\n     *      // truncate :: String -> String\n     *      var truncate = R.when(\n     *        R.propSatisfies(R.gt(R.__, 10), 'length'),\n     *        R.pipe(R.take(10), R.append(''), R.join(''))\n     *      );\n     *      truncate('12345');         //=> '12345'\n     *      truncate('0123456789ABC'); //=> '0123456789'\n     */\n    var when = _curry3(function when(pred, whenTrueFn, x) {\n        return pred(x) ? whenTrueFn(x) : x;\n    });\n\n    /**\n     * Takes a spec object and a test object; returns true if the test satisfies\n     * the spec. Each of the spec's own properties must be a predicate function.\n     * Each predicate is applied to the value of the corresponding property of\n     * the test object. `where` returns true if all the predicates return true,\n     * false otherwise.\n     *\n     * `where` is well suited to declaratively expressing constraints for other\n     * functions such as `filter` and `find`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category Object\n     * @sig {String: (* -> Boolean)} -> {String: *} -> Boolean\n     * @param {Object} spec\n     * @param {Object} testObj\n     * @return {Boolean}\n     * @example\n     *\n     *      // pred :: Object -> Boolean\n     *      var pred = R.where({\n     *        a: R.equals('foo'),\n     *        b: R.complement(R.equals('bar')),\n     *        x: R.gt(_, 10),\n     *        y: R.lt(_, 20)\n     *      });\n     *\n     *      pred({a: 'foo', b: 'xxx', x: 11, y: 19}); //=> true\n     *      pred({a: 'xxx', b: 'xxx', x: 11, y: 19}); //=> false\n     *      pred({a: 'foo', b: 'bar', x: 11, y: 19}); //=> false\n     *      pred({a: 'foo', b: 'xxx', x: 10, y: 19}); //=> false\n     *      pred({a: 'foo', b: 'xxx', x: 11, y: 20}); //=> false\n     */\n    var where = _curry2(function where(spec, testObj) {\n        for (var prop in spec) {\n            if (_has(prop, spec) && !spec[prop](testObj[prop])) {\n                return false;\n            }\n        }\n        return true;\n    });\n\n    /**\n     * Wrap a function inside another to allow you to make adjustments to the parameters, or do\n     * other processing either before the internal function is called or with its results.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (a... -> b) -> ((a... -> b) -> a... -> c) -> (a... -> c)\n     * @param {Function} fn The function to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @return {Function} The wrapped function.\n     * @example\n     *\n     *      var greet = name => 'Hello ' + name;\n     *\n     *      var shoutedGreet = R.wrap(greet, (gr, name) => gr(name).toUpperCase());\n     *\n     *      shoutedGreet(\"Kathy\"); //=> \"HELLO KATHY\"\n     *\n     *      var shortenedGreet = R.wrap(greet, function(gr, name) {\n     *        return gr(name.substring(0, 3));\n     *      });\n     *      shortenedGreet(\"Robert\"); //=> \"Hello Rob\"\n     */\n    var wrap = _curry2(function wrap(fn, wrapper) {\n        return curryN(fn.length, function () {\n            return wrapper.apply(this, _concat([fn], arguments));\n        });\n    });\n\n    /**\n     * Creates a new list out of the two supplied by creating each possible\n     * pair from the lists.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [b] -> [[a,b]]\n     * @param {Array} as The first list.\n     * @param {Array} bs The second list.\n     * @return {Array} The list made by combining each possible pair from\n     *         `as` and `bs` into pairs (`[a, b]`).\n     * @example\n     *\n     *      R.xprod([1, 2], ['a', 'b']); //=> [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]\n     */\n    // = xprodWith(prepend); (takes about 3 times as long...)\n    var xprod = _curry2(function xprod(a, b) {\n        // = xprodWith(prepend); (takes about 3 times as long...)\n        var idx = 0;\n        var ilen = a.length;\n        var j;\n        var jlen = b.length;\n        var result = [];\n        while (idx < ilen) {\n            j = 0;\n            while (j < jlen) {\n                result[result.length] = [\n                    a[idx],\n                    b[j]\n                ];\n                j += 1;\n            }\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * Creates a new list out of the two supplied by pairing up\n     * equally-positioned items from both lists.  The returned list is\n     * truncated to the length of the shorter of the two input lists.\n     * Note: `zip` is equivalent to `zipWith(function(a, b) { return [a, b] })`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [b] -> [[a,b]]\n     * @param {Array} list1 The first array to consider.\n     * @param {Array} list2 The second array to consider.\n     * @return {Array} The list made by pairing up same-indexed elements of `list1` and `list2`.\n     * @example\n     *\n     *      R.zip([1, 2, 3], ['a', 'b', 'c']); //=> [[1, 'a'], [2, 'b'], [3, 'c']]\n     */\n    var zip = _curry2(function zip(a, b) {\n        var rv = [];\n        var idx = 0;\n        var len = Math.min(a.length, b.length);\n        while (idx < len) {\n            rv[idx] = [\n                a[idx],\n                b[idx]\n            ];\n            idx += 1;\n        }\n        return rv;\n    });\n\n    /**\n     * Creates a new object out of a list of keys and a list of values.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category List\n     * @sig [String] -> [*] -> {String: *}\n     * @param {Array} keys The array that will be properties on the output object.\n     * @param {Array} values The list of values on the output object.\n     * @return {Object} The object made by pairing up same-indexed elements of `keys` and `values`.\n     * @example\n     *\n     *      R.zipObj(['a', 'b', 'c'], [1, 2, 3]); //=> {a: 1, b: 2, c: 3}\n     */\n    var zipObj = _curry2(function zipObj(keys, values) {\n        var idx = 0, len = keys.length, out = {};\n        while (idx < len) {\n            out[keys[idx]] = values[idx];\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Creates a new list out of the two supplied by applying the function to\n     * each equally-positioned pair in the lists. The returned list is\n     * truncated to the length of the shorter of the two input lists.\n     *\n     * @function\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a,b -> c) -> [a] -> [b] -> [c]\n     * @param {Function} fn The function used to combine the two elements into one value.\n     * @param {Array} list1 The first array to consider.\n     * @param {Array} list2 The second array to consider.\n     * @return {Array} The list made by combining same-indexed elements of `list1` and `list2`\n     *         using `fn`.\n     * @example\n     *\n     *      var f = (x, y) => {\n     *        // ...\n     *      };\n     *      R.zipWith(f, [1, 2, 3], ['a', 'b', 'c']);\n     *      //=> [f(1, 'a'), f(2, 'b'), f(3, 'c')]\n     */\n    var zipWith = _curry3(function zipWith(fn, a, b) {\n        var rv = [], idx = 0, len = Math.min(a.length, b.length);\n        while (idx < len) {\n            rv[idx] = fn(a[idx], b[idx]);\n            idx += 1;\n        }\n        return rv;\n    });\n\n    /**\n     * A function that always returns `false`. Any passed in parameters are ignored.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Function\n     * @sig * -> Boolean\n     * @param {*}\n     * @return {Boolean}\n     * @see R.always, R.T\n     * @example\n     *\n     *      R.F(); //=> false\n     */\n    var F = always(false);\n\n    /**\n     * A function that always returns `true`. Any passed in parameters are ignored.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Function\n     * @sig * -> Boolean\n     * @param {*}\n     * @return {Boolean}\n     * @see R.always, R.F\n     * @example\n     *\n     *      R.T(); //=> true\n     */\n    var T = always(true);\n\n    var _aperture = function _aperture(n, list) {\n        var idx = 0;\n        var limit = list.length - (n - 1);\n        var acc = new Array(limit >= 0 ? limit : 0);\n        while (idx < limit) {\n            acc[idx] = _slice(list, idx, idx + n);\n            idx += 1;\n        }\n        return acc;\n    };\n\n    /**\n     * Similar to hasMethod, this checks whether a function has a [methodname]\n     * function. If it isn't an array it will execute that function otherwise it will\n     * default to the ramda implementation.\n     *\n     * @private\n     * @param {Function} fn ramda implemtation\n     * @param {String} methodname property to check for a custom implementation\n     * @return {Object} Whatever the return value of the method is.\n     */\n    var _checkForMethod = function _checkForMethod(methodname, fn) {\n        return function () {\n            var length = arguments.length;\n            if (length === 0) {\n                return fn();\n            }\n            var obj = arguments[length - 1];\n            return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n        };\n    };\n\n    /**\n     * Copies an object.\n     *\n     * @private\n     * @param {*} value The value to be copied\n     * @param {Array} refFrom Array containing the source references\n     * @param {Array} refTo Array containing the copied source references\n     * @return {*} The copied value.\n     */\n    var _clone = function _clone(value, refFrom, refTo) {\n        var copy = function copy(copiedValue) {\n            var len = refFrom.length;\n            var idx = 0;\n            while (idx < len) {\n                if (value === refFrom[idx]) {\n                    return refTo[idx];\n                }\n                idx += 1;\n            }\n            refFrom[idx + 1] = value;\n            refTo[idx + 1] = copiedValue;\n            for (var key in value) {\n                copiedValue[key] = _clone(value[key], refFrom, refTo);\n            }\n            return copiedValue;\n        };\n        switch (type(value)) {\n        case 'Object':\n            return copy({});\n        case 'Array':\n            return copy([]);\n        case 'Date':\n            return new Date(value);\n        case 'RegExp':\n            return _cloneRegExp(value);\n        default:\n            return value;\n        }\n    };\n\n    var _createPartialApplicator = function _createPartialApplicator(concat) {\n        return _curry2(function (fn, args) {\n            return _arity(Math.max(0, fn.length - args.length), function () {\n                return fn.apply(this, concat(args, arguments));\n            });\n        });\n    };\n\n    /**\n     * Returns a function that dispatches with different strategies based on the\n     * object in list position (last argument). If it is an array, executes [fn].\n     * Otherwise, if it has a  function with [methodname], it will execute that\n     * function (functor case). Otherwise, if it is a transformer, uses transducer\n     * [xf] to return a new transformer (transducer case). Otherwise, it will\n     * default to executing [fn].\n     *\n     * @private\n     * @param {String} methodname property to check for a custom implementation\n     * @param {Function} xf transducer to initialize if object is transformer\n     * @param {Function} fn default ramda implementation\n     * @return {Function} A function that dispatches on object in list position\n     */\n    var _dispatchable = function _dispatchable(methodname, xf, fn) {\n        return function () {\n            var length = arguments.length;\n            if (length === 0) {\n                return fn();\n            }\n            var obj = arguments[length - 1];\n            if (!_isArray(obj)) {\n                var args = _slice(arguments, 0, length - 1);\n                if (typeof obj[methodname] === 'function') {\n                    return obj[methodname].apply(obj, args);\n                }\n                if (_isTransformer(obj)) {\n                    var transducer = xf.apply(null, args);\n                    return transducer(obj);\n                }\n            }\n            return fn.apply(this, arguments);\n        };\n    };\n\n    // Values of other types are only equal if identical.\n    var _equals = function _equals(a, b, stackA, stackB) {\n        if (identical(a, b)) {\n            return true;\n        }\n        if (type(a) !== type(b)) {\n            return false;\n        }\n        if (a == null || b == null) {\n            return false;\n        }\n        if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n            return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n        }\n        switch (type(a)) {\n        case 'Arguments':\n        case 'Array':\n        case 'Object':\n            break;\n        case 'Boolean':\n        case 'Number':\n        case 'String':\n            if (!(typeof a === typeof b && identical(a.valueOf(), b.valueOf()))) {\n                return false;\n            }\n            break;\n        case 'Date':\n            if (!identical(a.valueOf(), b.valueOf())) {\n                return false;\n            }\n            break;\n        case 'RegExp':\n            if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n                return false;\n            }\n            break;\n        case 'Map':\n        case 'Set':\n            if (!_equals(_arrayFromIterator(a.entries()), _arrayFromIterator(b.entries()), stackA, stackB)) {\n                return false;\n            }\n            break;\n        case 'Int8Array':\n        case 'Uint8Array':\n        case 'Uint8ClampedArray':\n        case 'Int16Array':\n        case 'Uint16Array':\n        case 'Int32Array':\n        case 'Uint32Array':\n        case 'Float32Array':\n        case 'Float64Array':\n            break;\n        case 'ArrayBuffer':\n            break;\n        default:\n            // Values of other types are only equal if identical.\n            return false;\n        }\n        var keysA = keys(a);\n        if (keysA.length !== keys(b).length) {\n            return false;\n        }\n        var idx = stackA.length - 1;\n        while (idx >= 0) {\n            if (stackA[idx] === a) {\n                return stackB[idx] === b;\n            }\n            idx -= 1;\n        }\n        stackA.push(a);\n        stackB.push(b);\n        idx = keysA.length - 1;\n        while (idx >= 0) {\n            var key = keysA[idx];\n            if (!(_has(key, b) && _equals(b[key], a[key], stackA, stackB))) {\n                return false;\n            }\n            idx -= 1;\n        }\n        stackA.pop();\n        stackB.pop();\n        return true;\n    };\n\n    /**\n     * `_makeFlat` is a helper function that returns a one-level or fully recursive function\n     * based on the flag passed in.\n     *\n     * @private\n     */\n    var _makeFlat = function _makeFlat(recursive) {\n        return function flatt(list) {\n            var value, result = [], idx = 0, j, ilen = list.length, jlen;\n            while (idx < ilen) {\n                if (isArrayLike(list[idx])) {\n                    value = recursive ? flatt(list[idx]) : list[idx];\n                    j = 0;\n                    jlen = value.length;\n                    while (j < jlen) {\n                        result[result.length] = value[j];\n                        j += 1;\n                    }\n                } else {\n                    result[result.length] = list[idx];\n                }\n                idx += 1;\n            }\n            return result;\n        };\n    };\n\n    var _reduce = function () {\n        function _arrayReduce(xf, acc, list) {\n            var idx = 0, len = list.length;\n            while (idx < len) {\n                acc = xf['@@transducer/step'](acc, list[idx]);\n                if (acc && acc['@@transducer/reduced']) {\n                    acc = acc['@@transducer/value'];\n                    break;\n                }\n                idx += 1;\n            }\n            return xf['@@transducer/result'](acc);\n        }\n        function _iterableReduce(xf, acc, iter) {\n            var step = iter.next();\n            while (!step.done) {\n                acc = xf['@@transducer/step'](acc, step.value);\n                if (acc && acc['@@transducer/reduced']) {\n                    acc = acc['@@transducer/value'];\n                    break;\n                }\n                step = iter.next();\n            }\n            return xf['@@transducer/result'](acc);\n        }\n        function _methodReduce(xf, acc, obj) {\n            return xf['@@transducer/result'](obj.reduce(bind(xf['@@transducer/step'], xf), acc));\n        }\n        var symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\n        return function _reduce(fn, acc, list) {\n            if (typeof fn === 'function') {\n                fn = _xwrap(fn);\n            }\n            if (isArrayLike(list)) {\n                return _arrayReduce(fn, acc, list);\n            }\n            if (typeof list.reduce === 'function') {\n                return _methodReduce(fn, acc, list);\n            }\n            if (list[symIterator] != null) {\n                return _iterableReduce(fn, acc, list[symIterator]());\n            }\n            if (typeof list.next === 'function') {\n                return _iterableReduce(fn, acc, list);\n            }\n            throw new TypeError('reduce: list must be array or iterable');\n        };\n    }();\n\n    var _xall = function () {\n        function XAll(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.all = true;\n        }\n        XAll.prototype['@@transducer/init'] = _xfBase.init;\n        XAll.prototype['@@transducer/result'] = function (result) {\n            if (this.all) {\n                result = this.xf['@@transducer/step'](result, true);\n            }\n            return this.xf['@@transducer/result'](result);\n        };\n        XAll.prototype['@@transducer/step'] = function (result, input) {\n            if (!this.f(input)) {\n                this.all = false;\n                result = _reduced(this.xf['@@transducer/step'](result, false));\n            }\n            return result;\n        };\n        return _curry2(function _xall(f, xf) {\n            return new XAll(f, xf);\n        });\n    }();\n\n    var _xany = function () {\n        function XAny(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.any = false;\n        }\n        XAny.prototype['@@transducer/init'] = _xfBase.init;\n        XAny.prototype['@@transducer/result'] = function (result) {\n            if (!this.any) {\n                result = this.xf['@@transducer/step'](result, false);\n            }\n            return this.xf['@@transducer/result'](result);\n        };\n        XAny.prototype['@@transducer/step'] = function (result, input) {\n            if (this.f(input)) {\n                this.any = true;\n                result = _reduced(this.xf['@@transducer/step'](result, true));\n            }\n            return result;\n        };\n        return _curry2(function _xany(f, xf) {\n            return new XAny(f, xf);\n        });\n    }();\n\n    var _xaperture = function () {\n        function XAperture(n, xf) {\n            this.xf = xf;\n            this.pos = 0;\n            this.full = false;\n            this.acc = new Array(n);\n        }\n        XAperture.prototype['@@transducer/init'] = _xfBase.init;\n        XAperture.prototype['@@transducer/result'] = _xfBase.result;\n        XAperture.prototype['@@transducer/step'] = function (result, input) {\n            this.store(input);\n            return this.full ? this.xf['@@transducer/step'](result, this.getCopy()) : result;\n        };\n        XAperture.prototype.store = function (input) {\n            this.acc[this.pos] = input;\n            this.pos += 1;\n            if (this.pos === this.acc.length) {\n                this.pos = 0;\n                this.full = true;\n            }\n        };\n        XAperture.prototype.getCopy = function () {\n            return _concat(_slice(this.acc, this.pos), _slice(this.acc, 0, this.pos));\n        };\n        return _curry2(function _xaperture(n, xf) {\n            return new XAperture(n, xf);\n        });\n    }();\n\n    var _xdrop = function () {\n        function XDrop(n, xf) {\n            this.xf = xf;\n            this.n = n;\n        }\n        XDrop.prototype['@@transducer/init'] = _xfBase.init;\n        XDrop.prototype['@@transducer/result'] = _xfBase.result;\n        XDrop.prototype['@@transducer/step'] = function (result, input) {\n            if (this.n > 0) {\n                this.n -= 1;\n                return result;\n            }\n            return this.xf['@@transducer/step'](result, input);\n        };\n        return _curry2(function _xdrop(n, xf) {\n            return new XDrop(n, xf);\n        });\n    }();\n\n    var _xdropWhile = function () {\n        function XDropWhile(f, xf) {\n            this.xf = xf;\n            this.f = f;\n        }\n        XDropWhile.prototype['@@transducer/init'] = _xfBase.init;\n        XDropWhile.prototype['@@transducer/result'] = _xfBase.result;\n        XDropWhile.prototype['@@transducer/step'] = function (result, input) {\n            if (this.f) {\n                if (this.f(input)) {\n                    return result;\n                }\n                this.f = null;\n            }\n            return this.xf['@@transducer/step'](result, input);\n        };\n        return _curry2(function _xdropWhile(f, xf) {\n            return new XDropWhile(f, xf);\n        });\n    }();\n\n    var _xgroupBy = function () {\n        function XGroupBy(f, xf) {\n            this.xf = xf;\n            this.f = f;\n            this.inputs = {};\n        }\n        XGroupBy.prototype['@@transducer/init'] = _xfBase.init;\n        XGroupBy.prototype['@@transducer/result'] = function (result) {\n            var key;\n            for (key in this.inputs) {\n                if (_has(key, this.inputs)) {\n                    result = this.xf['@@transducer/step'](result, this.inputs[key]);\n                    if (result['@@transducer/reduced']) {\n                        result = result['@@transducer/value'];\n                        break;\n                    }\n                }\n            }\n            return this.xf['@@transducer/result'](result);\n        };\n        XGroupBy.prototype['@@transducer/step'] = function (result, input) {\n            var key = this.f(input);\n            this.inputs[key] = this.inputs[key] || [\n                key,\n                []\n            ];\n            this.inputs[key][1] = append(input, this.inputs[key][1]);\n            return result;\n        };\n        return _curry2(function _xgroupBy(f, xf) {\n            return new XGroupBy(f, xf);\n        });\n    }();\n\n    /**\n     * Creates a new list iteration function from an existing one by adding two new parameters\n     * to its callback function: the current index, and the entire list.\n     *\n     * This would turn, for instance, Ramda's simple `map` function into one that more closely\n     * resembles `Array.prototype.map`.  Note that this will only work for functions in which\n     * the iteration callback function is the first parameter, and where the list is the last\n     * parameter.  (This latter might be unimportant if the list parameter is not used.)\n     *\n     * @func\n     * @memberOf R\n     * @since v0.15.0\n     * @category Function\n     * @category List\n     * @sig ((a ... -> b) ... -> [a] -> *) -> (a ..., Int, [a] -> b) ... -> [a] -> *)\n     * @param {Function} fn A list iteration function that does not pass index or list to its callback\n     * @return {Function} An altered list iteration function that passes (item, index, list) to its callback\n     * @example\n     *\n     *      var mapIndexed = R.addIndex(R.map);\n     *      mapIndexed((val, idx) => idx + '-' + val, ['f', 'o', 'o', 'b', 'a', 'r']);\n     *      //=> ['0-f', '1-o', '2-o', '3-b', '4-a', '5-r']\n     */\n    var addIndex = _curry1(function addIndex(fn) {\n        return curryN(fn.length, function () {\n            var idx = 0;\n            var origFn = arguments[0];\n            var list = arguments[arguments.length - 1];\n            var args = _slice(arguments);\n            args[0] = function () {\n                var result = origFn.apply(this, _concat(arguments, [\n                    idx,\n                    list\n                ]));\n                idx += 1;\n                return result;\n            };\n            return fn.apply(this, args);\n        });\n    });\n\n    /**\n     * Returns `true` if all elements of the list match the predicate, `false` if there are any\n     * that don't.\n     *\n     * Dispatches to the `all` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> Boolean\n     * @param {Function} fn The predicate function.\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if the predicate is satisfied by every element, `false`\n     *         otherwise.\n     * @see R.any, R.none\n     * @example\n     *\n     *      var lessThan2 = R.flip(R.lt)(2);\n     *      var lessThan3 = R.flip(R.lt)(3);\n     *      R.all(lessThan2)([1, 2]); //=> false\n     *      R.all(lessThan3)([1, 2]); //=> true\n     */\n    var all = _curry2(_dispatchable('all', _xall, function all(fn, list) {\n        var idx = 0;\n        while (idx < list.length) {\n            if (!fn(list[idx])) {\n                return false;\n            }\n            idx += 1;\n        }\n        return true;\n    }));\n\n    /**\n     * Returns `true` if at least one of elements of the list match the predicate, `false`\n     * otherwise.\n     *\n     * Dispatches to the `any` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> Boolean\n     * @param {Function} fn The predicate function.\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if the predicate is satisfied by at least one element, `false`\n     *         otherwise.\n     * @see R.all, R.none\n     * @example\n     *\n     *      var lessThan0 = R.flip(R.lt)(0);\n     *      var lessThan2 = R.flip(R.lt)(2);\n     *      R.any(lessThan0)([1, 2]); //=> false\n     *      R.any(lessThan2)([1, 2]); //=> true\n     */\n    var any = _curry2(_dispatchable('any', _xany, function any(fn, list) {\n        var idx = 0;\n        while (idx < list.length) {\n            if (fn(list[idx])) {\n                return true;\n            }\n            idx += 1;\n        }\n        return false;\n    }));\n\n    /**\n     * Returns a new list, composed of n-tuples of consecutive elements\n     * If `n` is greater than the length of the list, an empty list is returned.\n     *\n     * Dispatches to the `aperture` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category List\n     * @sig Number -> [a] -> [[a]]\n     * @param {Number} n The size of the tuples to create\n     * @param {Array} list The list to split into `n`-tuples\n     * @return {Array} The new list.\n     * @example\n     *\n     *      R.aperture(2, [1, 2, 3, 4, 5]); //=> [[1, 2], [2, 3], [3, 4], [4, 5]]\n     *      R.aperture(3, [1, 2, 3, 4, 5]); //=> [[1, 2, 3], [2, 3, 4], [3, 4, 5]]\n     *      R.aperture(7, [1, 2, 3, 4, 5]); //=> []\n     */\n    var aperture = _curry2(_dispatchable('aperture', _xaperture, _aperture));\n\n    /**\n     * Wraps a function of any arity (including nullary) in a function that accepts exactly 2\n     * parameters. Any extraneous parameters will not be passed to the supplied function.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Function\n     * @sig (* -> c) -> (a, b -> c)\n     * @param {Function} fn The function to wrap.\n     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n     *         arity 2.\n     * @example\n     *\n     *      var takesThreeArgs = function(a, b, c) {\n     *        return [a, b, c];\n     *      };\n     *      takesThreeArgs.length; //=> 3\n     *      takesThreeArgs(1, 2, 3); //=> [1, 2, 3]\n     *\n     *      var takesTwoArgs = R.binary(takesThreeArgs);\n     *      takesTwoArgs.length; //=> 2\n     *      // Only 2 arguments are passed to the wrapped function\n     *      takesTwoArgs(1, 2, 3); //=> [1, 2, undefined]\n     */\n    var binary = _curry1(function binary(fn) {\n        return nAry(2, fn);\n    });\n\n    /**\n     * Creates a deep copy of the value which may contain (nested) `Array`s and `Object`s, `Number`s,\n     * `String`s, `Boolean`s and `Date`s. `Function`s are not copied, but assigned by their\n     * reference. Dispatches to a `clone` method if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {*} -> {*}\n     * @param {*} value The object or array to clone\n     * @return {*} A new object or array.\n     * @example\n     *\n     *      var objects = [{}, {}, {}];\n     *      var objectsClone = R.clone(objects);\n     *      objects[0] === objectsClone[0]; //=> false\n     */\n    var clone = _curry1(function clone(value) {\n        return value != null && typeof value.clone === 'function' ? value.clone() : _clone(value, [], []);\n    });\n\n    /**\n     * Creates an object containing a single key:value pair.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category Object\n     * @sig String -> a -> {String:a}\n     * @param {String} key\n     * @param {*} val\n     * @return {Object}\n     * @see R.pair, R.objOf\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      var matchPhrases = R.compose(\n     *        R.createMapEntry('must'),\n     *        R.map(R.createMapEntry('match_phrase'))\n     *      );\n     *      matchPhrases(['foo', 'bar', 'baz']); //=> {must: [{match_phrase: 'foo'}, {match_phrase: 'bar'}, {match_phrase: 'baz'}]}\n     */\n    var createMapEntry = objOf;\n\n    /**\n     * Returns a curried equivalent of the provided function. The curried\n     * function has two unusual capabilities. First, its arguments needn't\n     * be provided one at a time. If `f` is a ternary function and `g` is\n     * `R.curry(f)`, the following are equivalent:\n     *\n     *   - `g(1)(2)(3)`\n     *   - `g(1)(2, 3)`\n     *   - `g(1, 2)(3)`\n     *   - `g(1, 2, 3)`\n     *\n     * Secondly, the special placeholder value `R.__` may be used to specify\n     * \"gaps\", allowing partial application of any combination of arguments,\n     * regardless of their positions. If `g` is as above and `_` is `R.__`,\n     * the following are equivalent:\n     *\n     *   - `g(1, 2, 3)`\n     *   - `g(_, 2, 3)(1)`\n     *   - `g(_, _, 3)(1)(2)`\n     *   - `g(_, _, 3)(1, 2)`\n     *   - `g(_, 2)(1)(3)`\n     *   - `g(_, 2)(1, 3)`\n     *   - `g(_, 2)(_, 3)(1)`\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (* -> a) -> (* -> a)\n     * @param {Function} fn The function to curry.\n     * @return {Function} A new, curried function.\n     * @see R.curryN\n     * @example\n     *\n     *      var addFourNumbers = (a, b, c, d) => a + b + c + d;\n     *\n     *      var curriedAddFourNumbers = R.curry(addFourNumbers);\n     *      var f = curriedAddFourNumbers(1, 2);\n     *      var g = f(3);\n     *      g(4); //=> 10\n     */\n    var curry = _curry1(function curry(fn) {\n        return curryN(fn.length, fn);\n    });\n\n    /**\n     * Returns a new list containing the last `n` elements of a given list, passing each value\n     * to the supplied predicate function, skipping elements while the predicate function returns\n     * `true`. The predicate function is passed one argument: *(value)*.\n     *\n     * Dispatches to the `dropWhile` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} A new array.\n     * @see R.takeWhile\n     * @example\n     *\n     *      var lteTwo = x => x <= 2;\n     *\n     *      R.dropWhile(lteTwo, [1, 2, 3, 4, 3, 2, 1]); //=> [3, 4, 3, 2, 1]\n     */\n    var dropWhile = _curry2(_dispatchable('dropWhile', _xdropWhile, function dropWhile(pred, list) {\n        var idx = 0, len = list.length;\n        while (idx < len && pred(list[idx])) {\n            idx += 1;\n        }\n        return _slice(list, idx);\n    }));\n\n    /**\n     * Returns `true` if its arguments are equivalent, `false` otherwise.\n     * Dispatches to an `equals` method if present. Handles cyclical data\n     * structures.\n     *\n     * Dispatches to the `equals` method of both arguments, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.15.0\n     * @category Relation\n     * @sig a -> b -> Boolean\n     * @param {*} a\n     * @param {*} b\n     * @return {Boolean}\n     * @example\n     *\n     *      R.equals(1, 1); //=> true\n     *      R.equals(1, '1'); //=> false\n     *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n     *\n     *      var a = {}; a.v = a;\n     *      var b = {}; b.v = b;\n     *      R.equals(a, b); //=> true\n     */\n    var equals = _curry2(function equals(a, b) {\n        return _equals(a, b, [], []);\n    });\n\n    /**\n     * Returns a new list containing only those items that match a given predicate function.\n     * The predicate function is passed one argument: *(value)*.\n     *\n     * Note that `R.filter` does not skip deleted or unassigned indices, unlike the native\n     * `Array.prototype.filter` method. For more details on this behavior, see:\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter#Description\n     *\n     * Dispatches to the `filter` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} The new filtered array.\n     * @see R.reject\n     * @example\n     *\n     *      var isEven = n => n % 2 === 0;\n     *\n     *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n     */\n    var filter = _curry2(_dispatchable('filter', _xfilter, _filter));\n\n    /**\n     * Returns the first element of the list which matches the predicate, or `undefined` if no\n     * element matches.\n     *\n     * Dispatches to the `find` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> a | undefined\n     * @param {Function} fn The predicate function used to determine if the element is the\n     *        desired one.\n     * @param {Array} list The array to consider.\n     * @return {Object} The element found, or `undefined`.\n     * @example\n     *\n     *      var xs = [{a: 1}, {a: 2}, {a: 3}];\n     *      R.find(R.propEq('a', 2))(xs); //=> {a: 2}\n     *      R.find(R.propEq('a', 4))(xs); //=> undefined\n     */\n    var find = _curry2(_dispatchable('find', _xfind, function find(fn, list) {\n        var idx = 0;\n        var len = list.length;\n        while (idx < len) {\n            if (fn(list[idx])) {\n                return list[idx];\n            }\n            idx += 1;\n        }\n    }));\n\n    /**\n     * Returns the index of the first element of the list which matches the predicate, or `-1`\n     * if no element matches.\n     *\n     * Dispatches to the `findIndex` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> Number\n     * @param {Function} fn The predicate function used to determine if the element is the\n     * desired one.\n     * @param {Array} list The array to consider.\n     * @return {Number} The index of the element found, or `-1`.\n     * @example\n     *\n     *      var xs = [{a: 1}, {a: 2}, {a: 3}];\n     *      R.findIndex(R.propEq('a', 2))(xs); //=> 1\n     *      R.findIndex(R.propEq('a', 4))(xs); //=> -1\n     */\n    var findIndex = _curry2(_dispatchable('findIndex', _xfindIndex, function findIndex(fn, list) {\n        var idx = 0;\n        var len = list.length;\n        while (idx < len) {\n            if (fn(list[idx])) {\n                return idx;\n            }\n            idx += 1;\n        }\n        return -1;\n    }));\n\n    /**\n     * Returns the last element of the list which matches the predicate, or `undefined` if no\n     * element matches.\n     *\n     * Dispatches to the `findLast` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> a | undefined\n     * @param {Function} fn The predicate function used to determine if the element is the\n     * desired one.\n     * @param {Array} list The array to consider.\n     * @return {Object} The element found, or `undefined`.\n     * @example\n     *\n     *      var xs = [{a: 1, b: 0}, {a:1, b: 1}];\n     *      R.findLast(R.propEq('a', 1))(xs); //=> {a: 1, b: 1}\n     *      R.findLast(R.propEq('a', 4))(xs); //=> undefined\n     */\n    var findLast = _curry2(_dispatchable('findLast', _xfindLast, function findLast(fn, list) {\n        var idx = list.length - 1;\n        while (idx >= 0) {\n            if (fn(list[idx])) {\n                return list[idx];\n            }\n            idx -= 1;\n        }\n    }));\n\n    /**\n     * Returns the index of the last element of the list which matches the predicate, or\n     * `-1` if no element matches.\n     *\n     * Dispatches to the `findLastIndex` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> Number\n     * @param {Function} fn The predicate function used to determine if the element is the\n     * desired one.\n     * @param {Array} list The array to consider.\n     * @return {Number} The index of the element found, or `-1`.\n     * @example\n     *\n     *      var xs = [{a: 1, b: 0}, {a:1, b: 1}];\n     *      R.findLastIndex(R.propEq('a', 1))(xs); //=> 1\n     *      R.findLastIndex(R.propEq('a', 4))(xs); //=> -1\n     */\n    var findLastIndex = _curry2(_dispatchable('findLastIndex', _xfindLastIndex, function findLastIndex(fn, list) {\n        var idx = list.length - 1;\n        while (idx >= 0) {\n            if (fn(list[idx])) {\n                return idx;\n            }\n            idx -= 1;\n        }\n        return -1;\n    }));\n\n    /**\n     * Returns a new list by pulling every item out of it (and all its sub-arrays) and putting\n     * them in a new array, depth-first.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [b]\n     * @param {Array} list The array to consider.\n     * @return {Array} The flattened list.\n     * @see R.unnest\n     * @example\n     *\n     *      R.flatten([1, 2, [3, 4], 5, [6, [7, 8, [9, [10, 11], 12]]]]);\n     *      //=> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n     */\n    var flatten = _curry1(_makeFlat(true));\n\n    /**\n     * Returns a new function much like the supplied one, except that the first two arguments'\n     * order is reversed.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (a -> b -> c -> ... -> z) -> (b -> a -> c -> ... -> z)\n     * @param {Function} fn The function to invoke with its first two parameters reversed.\n     * @return {*} The result of invoking `fn` with its first two parameters' order reversed.\n     * @example\n     *\n     *      var mergeThree = (a, b, c) => [].concat(a, b, c);\n     *\n     *      mergeThree(1, 2, 3); //=> [1, 2, 3]\n     *\n     *      R.flip(mergeThree)(1, 2, 3); //=> [2, 1, 3]\n     */\n    var flip = _curry1(function flip(fn) {\n        return curry(function (a, b) {\n            var args = _slice(arguments);\n            args[0] = b;\n            args[1] = a;\n            return fn.apply(this, args);\n        });\n    });\n\n    /**\n     * Iterate over an input `list`, calling a provided function `fn` for each element in the\n     * list.\n     *\n     * `fn` receives one argument: *(value)*.\n     *\n     * Note: `R.forEach` does not skip deleted or unassigned indices (sparse arrays), unlike\n     * the native `Array.prototype.forEach` method. For more details on this behavior, see:\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Description\n     *\n     * Also note that, unlike `Array.prototype.forEach`, Ramda's `forEach` returns the original\n     * array. In some libraries this function is named `each`.\n     *\n     * Dispatches to the `forEach` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig (a -> *) -> [a] -> [a]\n     * @param {Function} fn The function to invoke. Receives one argument, `value`.\n     * @param {Array} list The list to iterate over.\n     * @return {Array} The original list.\n     * @example\n     *\n     *      var printXPlusFive = x => console.log(x + 5);\n     *      R.forEach(printXPlusFive, [1, 2, 3]); //=> [1, 2, 3]\n     *      //-> 6\n     *      //-> 7\n     *      //-> 8\n     */\n    var forEach = _curry2(_checkForMethod('forEach', function forEach(fn, list) {\n        var len = list.length;\n        var idx = 0;\n        while (idx < len) {\n            fn(list[idx]);\n            idx += 1;\n        }\n        return list;\n    }));\n\n    /**\n     * Returns a list of function names of object's own functions\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.0\n     * @category Object\n     * @sig {*} -> [String]\n     * @param {Object} obj The objects with functions in it\n     * @return {Array} A list of the object's own properties that map to functions.\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      R.functions(R); // returns list of ramda's own function names\n     *\n     *      var F = function() { this.x = function(){}; this.y = 1; }\n     *      F.prototype.z = function() {};\n     *      F.prototype.a = 100;\n     *      R.functions(new F()); //=> [\"x\"]\n     */\n    var functions = _curry1(_functionsWith(keys));\n\n    /**\n     * Returns a list of function names of object's own and prototype functions\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.0\n     * @category Object\n     * @sig {*} -> [String]\n     * @param {Object} obj The objects with functions in it\n     * @return {Array} A list of the object's own properties and prototype\n     *         properties that map to functions.\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      R.functionsIn(R); // returns list of ramda's own and prototype function names\n     *\n     *      var F = function() { this.x = function(){}; this.y = 1; }\n     *      F.prototype.z = function() {};\n     *      F.prototype.a = 100;\n     *      R.functionsIn(new F()); //=> [\"x\", \"z\"]\n     */\n    var functionsIn = _curry1(_functionsWith(keysIn));\n\n    /**\n     * Splits a list into sub-lists stored in an object, based on the result of calling a String-returning function\n     * on each element, and grouping the results according to values returned.\n     *\n     * Dispatches to the `groupBy` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> String) -> [a] -> {String: [a]}\n     * @param {Function} fn Function :: a -> String\n     * @param {Array} list The array to group\n     * @return {Object} An object with the output of `fn` for keys, mapped to arrays of elements\n     *         that produced that key when passed to `fn`.\n     * @example\n     *\n     *      var byGrade = R.groupBy(function(student) {\n     *        var score = student.score;\n     *        return score < 65 ? 'F' :\n     *               score < 70 ? 'D' :\n     *               score < 80 ? 'C' :\n     *               score < 90 ? 'B' : 'A';\n     *      });\n     *      var students = [{name: 'Abby', score: 84},\n     *                      {name: 'Eddy', score: 58},\n     *                      // ...\n     *                      {name: 'Jack', score: 69}];\n     *      byGrade(students);\n     *      // {\n     *      //   'A': [{name: 'Dianne', score: 99}],\n     *      //   'B': [{name: 'Abby', score: 84}]\n     *      //   // ...,\n     *      //   'F': [{name: 'Eddy', score: 58}]\n     *      // }\n     */\n    var groupBy = _curry2(_dispatchable('groupBy', _xgroupBy, function groupBy(fn, list) {\n        return _reduce(function (acc, elt) {\n            var key = fn(elt);\n            acc[key] = append(elt, acc[key] || (acc[key] = []));\n            return acc;\n        }, {}, list);\n    }));\n\n    /**\n     * Returns the first element of the given list or string. In some libraries\n     * this function is named `first`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @see R.tail, R.init, R.last\n     * @sig [a] -> a | Undefined\n     * @sig String -> String\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      R.head(['fi', 'fo', 'fum']); //=> 'fi'\n     *      R.head([]); //=> undefined\n     *\n     *      R.head('abc'); //=> 'a'\n     *      R.head(''); //=> ''\n     */\n    var head = nth(0);\n\n    /**\n     * Combines two lists into a set (i.e. no duplicates) composed of those\n     * elements common to both lists.  Duplication is determined according\n     * to the value returned by applying the supplied predicate to two list\n     * elements.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]\n     * @param {Function} pred A predicate function that determines whether\n     *        the two supplied elements are equal.\n     * @param {Array} list1 One list of items to compare\n     * @param {Array} list2 A second list of items to compare\n     * @see R.intersection\n     * @return {Array} A new list containing those elements common to both lists.\n     * @example\n     *\n     *      var buffaloSpringfield = [\n     *        {id: 824, name: 'Richie Furay'},\n     *        {id: 956, name: 'Dewey Martin'},\n     *        {id: 313, name: 'Bruce Palmer'},\n     *        {id: 456, name: 'Stephen Stills'},\n     *        {id: 177, name: 'Neil Young'}\n     *      ];\n     *      var csny = [\n     *        {id: 204, name: 'David Crosby'},\n     *        {id: 456, name: 'Stephen Stills'},\n     *        {id: 539, name: 'Graham Nash'},\n     *        {id: 177, name: 'Neil Young'}\n     *      ];\n     *\n     *      R.intersectionWith(R.eqBy(R.prop('id')), buffaloSpringfield, csny);\n     *      //=> [{id: 456, name: 'Stephen Stills'}, {id: 177, name: 'Neil Young'}]\n     */\n    var intersectionWith = _curry3(function intersectionWith(pred, list1, list2) {\n        var results = [], idx = 0;\n        while (idx < list1.length) {\n            if (_containsWith(pred, list1[idx], list2)) {\n                results[results.length] = list1[idx];\n            }\n            idx += 1;\n        }\n        return uniqWith(pred, results);\n    });\n\n    /**\n     * Creates a new list with the separator interposed between elements.\n     *\n     * Dispatches to the `intersperse` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category List\n     * @sig a -> [a] -> [a]\n     * @param {*} separator The element to add to the list.\n     * @param {Array} list The list to be interposed.\n     * @return {Array} The new list.\n     * @example\n     *\n     *      R.intersperse('n', ['ba', 'a', 'a']); //=> ['ba', 'n', 'a', 'n', 'a']\n     */\n    var intersperse = _curry2(_checkForMethod('intersperse', function intersperse(separator, list) {\n        var out = [];\n        var idx = 0;\n        var length = list.length;\n        while (idx < length) {\n            if (idx === length - 1) {\n                out.push(list[idx]);\n            } else {\n                out.push(list[idx], separator);\n            }\n            idx += 1;\n        }\n        return out;\n    }));\n\n    /**\n     * Same as R.invertObj, however this accounts for objects\n     * with duplicate values by putting the values into an\n     * array.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Object\n     * @sig {s: x} -> {x: [ s, ... ]}\n     * @param {Object} obj The object or array to invert\n     * @return {Object} out A new object with keys\n     * in an array.\n     * @example\n     *\n     *      var raceResultsByFirstName = {\n     *        first: 'alice',\n     *        second: 'jake',\n     *        third: 'alice',\n     *      };\n     *      R.invert(raceResultsByFirstName);\n     *      //=> { 'alice': ['first', 'third'], 'jake':['second'] }\n     */\n    var invert = _curry1(function invert(obj) {\n        var props = keys(obj);\n        var len = props.length;\n        var idx = 0;\n        var out = {};\n        while (idx < len) {\n            var key = props[idx];\n            var val = obj[key];\n            var list = _has(val, out) ? out[val] : out[val] = [];\n            list[list.length] = key;\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns a new object with the keys of the given object\n     * as values, and the values of the given object, which are\n     * coerced to strings, as keys.\n     * Note that the last key found is preferred when handling\n     * the same value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Object\n     * @sig {s: x} -> {x: s}\n     * @param {Object} obj The object or array to invert\n     * @return {Object} out A new object\n     * @example\n     *\n     *      var raceResults = {\n     *        first: 'alice',\n     *        second: 'jake'\n     *      };\n     *      R.invertObj(raceResults);\n     *      //=> { 'alice': 'first', 'jake':'second' }\n     *\n     *      // Alternatively:\n     *      var raceResults = ['alice', 'jake'];\n     *      R.invertObj(raceResults);\n     *      //=> { 'alice': '0', 'jake':'1' }\n     */\n    var invertObj = _curry1(function invertObj(obj) {\n        var props = keys(obj);\n        var len = props.length;\n        var idx = 0;\n        var out = {};\n        while (idx < len) {\n            var key = props[idx];\n            out[obj[key]] = key;\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns `true` if the given value is its type's empty value; `false`\n     * otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Logic\n     * @sig a -> Boolean\n     * @param {*} x\n     * @return {Boolean}\n     * @see R.empty\n     * @example\n     *\n     *      R.isEmpty([1, 2, 3]);   //=> false\n     *      R.isEmpty([]);          //=> true\n     *      R.isEmpty('');          //=> true\n     *      R.isEmpty(null);        //=> false\n     *      R.isEmpty({});          //=> true\n     *      R.isEmpty({length: 0}); //=> false\n     */\n    var isEmpty = _curry1(function isEmpty(x) {\n        return x != null && equals(x, empty(x));\n    });\n\n    /**\n     * Returns the last element of the given list or string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.4\n     * @category List\n     * @see R.init, R.head, R.tail\n     * @sig [a] -> a | Undefined\n     * @sig String -> String\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      R.last(['fi', 'fo', 'fum']); //=> 'fum'\n     *      R.last([]); //=> undefined\n     *\n     *      R.last('abc'); //=> 'c'\n     *      R.last(''); //=> ''\n     */\n    var last = nth(-1);\n\n    /**\n     * Returns the position of the last occurrence of an item in\n     * an array, or -1 if the item is not included in the array.\n     * `R.equals` is used to determine equality.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig a -> [a] -> Number\n     * @param {*} target The item to find.\n     * @param {Array} xs The array to search in.\n     * @return {Number} the index of the target, or -1 if the target is not found.\n     * @see R.indexOf\n     * @example\n     *\n     *      R.lastIndexOf(3, [-1,3,3,0,1,2,3,4]); //=> 6\n     *      R.lastIndexOf(10, [1,2,3,4]); //=> -1\n     */\n    var lastIndexOf = _curry2(function lastIndexOf(target, xs) {\n        if (typeof xs.lastIndexOf === 'function' && !_isArray(xs)) {\n            return xs.lastIndexOf(target);\n        } else {\n            var idx = xs.length - 1;\n            while (idx >= 0) {\n                if (equals(xs[idx], target)) {\n                    return idx;\n                }\n                idx -= 1;\n            }\n            return -1;\n        }\n    });\n\n    /**\n     * Returns a new list, constructed by applying the supplied function to every element of the\n     * supplied list.\n     *\n     * Note: `R.map` does not skip deleted or unassigned indices (sparse arrays), unlike the\n     * native `Array.prototype.map` method. For more details on this behavior, see:\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description\n     *\n     * Dispatches to the `map` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * Map treats also treats functions as functors and will compose them together.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Functor f => (a -> b) -> f a -> f b\n     * @param {Function} fn The function to be called on every element of the input `list`.\n     * @param {Array} list The list to be iterated over.\n     * @return {Array} The new list.\n     * @example\n     *\n     *      var double = x => x * 2;\n     *\n     *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n     *\n     *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n     */\n    var map = _curry2(_dispatchable('map', _xmap, function map(fn, functor) {\n        switch (Object.prototype.toString.call(functor)) {\n        case '[object Function]':\n            return curryN(functor.length, function () {\n                return fn.call(this, functor.apply(this, arguments));\n            });\n        case '[object Object]':\n            return _reduce(function (acc, key) {\n                acc[key] = fn(functor[key]);\n                return acc;\n            }, {}, keys(functor));\n        default:\n            return _map(fn, functor);\n        }\n    }));\n\n    /**\n     * Map, but for objects. Creates an object with the same keys as `obj` and values\n     * generated by running each property of `obj` through `fn`. `fn` is passed one argument:\n     * *(value)*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.4\n     * @category Object\n     * @sig (v -> v) -> {k: v} -> {k: v}\n     * @param {Function} fn A function called for each property in `obj`. Its return value will\n     * become a new property on the return object.\n     * @param {Object} obj The object to iterate over.\n     * @return {Object} A new object with the same keys as `obj` and values that are the result\n     *         of running each property through `fn`.\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      var values = { x: 1, y: 2, z: 3 };\n     *      var double = num => num * 2;\n     *\n     *      R.mapObj(double, values); //=> { x: 2, y: 4, z: 6 }\n     */\n    var mapObj = _curry2(function mapObj(fn, obj) {\n        return _reduce(function (acc, key) {\n            acc[key] = fn(obj[key]);\n            return acc;\n        }, {}, keys(obj));\n    });\n\n    /**\n     * Like `mapObj`, but passes additional arguments to the predicate function. The\n     * predicate function is passed three arguments: *(value, key, obj)*.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Object\n     * @sig (v, k, {k: v} -> v) -> {k: v} -> {k: v}\n     * @param {Function} fn A function called for each property in `obj`. Its return value will\n     *        become a new property on the return object.\n     * @param {Object} obj The object to iterate over.\n     * @return {Object} A new object with the same keys as `obj` and values that are the result\n     *         of running each property through `fn`.\n     * @example\n     *\n     *      var values = { x: 1, y: 2, z: 3 };\n     *      var prependKeyAndDouble = (num, key, obj) => key + (num * 2);\n     *\n     *      R.mapObjIndexed(prependKeyAndDouble, values); //=> { x: 'x2', y: 'y4', z: 'z6' }\n     */\n    var mapObjIndexed = _curry2(function mapObjIndexed(fn, obj) {\n        return _reduce(function (acc, key) {\n            acc[key] = fn(obj[key], key, obj);\n            return acc;\n        }, {}, keys(obj));\n    });\n\n    /**\n     * Returns `true` if no elements of the list match the predicate,\n     * `false` otherwise.\n     *\n     * Dispatches to the `any` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> Boolean\n     * @param {Function} fn The predicate function.\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if the predicate is not satisfied by every element, `false` otherwise.\n     * @see R.all, R.any\n     * @example\n     *\n     *      R.none(R.isNaN, [1, 2, 3]); //=> true\n     *      R.none(R.isNaN, [1, 2, 3, NaN]); //=> false\n     */\n    var none = _curry2(_complement(_dispatchable('any', _xany, any)));\n\n    /**\n     * Takes a function `f` and a list of arguments, and returns a function `g`.\n     * When applied, `g` returns the result of applying `f` to the arguments\n     * provided initially followed by the arguments provided to `g`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Function\n     * @sig ((a, b, c, ..., n) -> x) -> [a, b, c, ...] -> ((d, e, f, ..., n) -> x)\n     * @param {Function} f\n     * @param {Array} args\n     * @return {Function}\n     * @see R.partialRight\n     * @example\n     *\n     *      var multiply = (a, b) => a * b;\n     *      var double = R.partial(multiply, [2]);\n     *      double(2); //=> 4\n     *\n     *      var greet = (salutation, title, firstName, lastName) =>\n     *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n     *\n     *      var sayHello = R.partial(greet, ['Hello']);\n     *      var sayHelloToMs = R.partial(sayHello, ['Ms.']);\n     *      sayHelloToMs('Jane', 'Jones'); //=> 'Hello, Ms. Jane Jones!'\n     */\n    var partial = _createPartialApplicator(_concat);\n\n    /**\n     * Takes a function `f` and a list of arguments, and returns a function `g`.\n     * When applied, `g` returns the result of applying `f` to the arguments\n     * provided to `g` followed by the arguments provided initially.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Function\n     * @sig ((a, b, c, ..., n) -> x) -> [d, e, f, ..., n] -> ((a, b, c, ...) -> x)\n     * @param {Function} f\n     * @param {Array} args\n     * @return {Function}\n     * @see R.partial\n     * @example\n     *\n     *      var greet = (salutation, title, firstName, lastName) =>\n     *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n     *\n     *      var greetMsJaneJones = R.partialRight(greet, ['Ms.', 'Jane', 'Jones']);\n     *\n     *      greetMsJaneJones('Hello'); //=> 'Hello, Ms. Jane Jones!'\n     */\n    var partialRight = _createPartialApplicator(flip(_concat));\n\n    /**\n     * Takes a predicate and a list and returns the pair of lists of\n     * elements which do and do not satisfy the predicate, respectively.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.4\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [[a],[a]]\n     * @param {Function} pred A predicate to determine which array the element belongs to.\n     * @param {Array} list The array to partition.\n     * @return {Array} A nested array, containing first an array of elements that satisfied the predicate,\n     *         and second an array of elements that did not satisfy.\n     * @example\n     *\n     *      R.partition(R.contains('s'), ['sss', 'ttt', 'foo', 'bars']);\n     *      //=> [ [ 'sss', 'bars' ],  [ 'ttt', 'foo' ] ]\n     */\n    var partition = _curry2(function partition(pred, list) {\n        return _reduce(function (acc, elt) {\n            var xs = acc[pred(elt) ? 0 : 1];\n            xs[xs.length] = elt;\n            return acc;\n        }, [\n            [],\n            []\n        ], list);\n    });\n\n    /**\n     * Determines whether a nested path on an object has a specific value,\n     * in `R.equals` terms. Most likely used to filter a list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @category Relation\n     * @sig [String] -> * -> {String: *} -> Boolean\n     * @param {Array} path The path of the nested property to use\n     * @param {*} val The value to compare the nested property with\n     * @param {Object} obj The object to check the nested property in\n     * @return {Boolean} `true` if the value equals the nested object property,\n     *         `false` otherwise.\n     * @example\n     *\n     *      var user1 = { address: { zipCode: 90210 } };\n     *      var user2 = { address: { zipCode: 55555 } };\n     *      var user3 = { name: 'Bob' };\n     *      var users = [ user1, user2, user3 ];\n     *      var isFamous = R.pathEq(['address', 'zipCode'], 90210);\n     *      R.filter(isFamous, users); //=> [ user1 ]\n     */\n    var pathEq = _curry3(function pathEq(_path, val, obj) {\n        return equals(path(_path, obj), val);\n    });\n\n    /**\n     * Returns a new list by plucking the same named property off all objects in the list supplied.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig k -> [{k: v}] -> [v]\n     * @param {Number|String} key The key name to pluck off of each object.\n     * @param {Array} list The array to consider.\n     * @return {Array} The list of values for the given key.\n     * @see R.props\n     * @example\n     *\n     *      R.pluck('a')([{a: 1}, {a: 2}]); //=> [1, 2]\n     *      R.pluck(0)([[1, 2], [3, 4]]);   //=> [1, 3]\n     */\n    var pluck = _curry2(function pluck(p, list) {\n        return map(prop(p), list);\n    });\n\n    /**\n     * Returns `true` if the specified object property is equal, in `R.equals`\n     * terms, to the given value; `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig String -> a -> Object -> Boolean\n     * @param {String} name\n     * @param {*} val\n     * @param {*} obj\n     * @return {Boolean}\n     * @see R.equals, R.propSatisfies\n     * @example\n     *\n     *      var abby = {name: 'Abby', age: 7, hair: 'blond'};\n     *      var fred = {name: 'Fred', age: 12, hair: 'brown'};\n     *      var rusty = {name: 'Rusty', age: 10, hair: 'brown'};\n     *      var alois = {name: 'Alois', age: 15, disposition: 'surly'};\n     *      var kids = [abby, fred, rusty, alois];\n     *      var hasBrownHair = R.propEq('hair', 'brown');\n     *      R.filter(hasBrownHair, kids); //=> [fred, rusty]\n     */\n    var propEq = _curry3(function propEq(name, val, obj) {\n        return propSatisfies(equals(val), name, obj);\n    });\n\n    /**\n     * Returns `true` if the specified object property is of the given type;\n     * `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Type\n     * @sig Type -> String -> Object -> Boolean\n     * @param {Function} type\n     * @param {String} name\n     * @param {*} obj\n     * @return {Boolean}\n     * @see R.is\n     * @see R.propSatisfies\n     * @example\n     *\n     *      R.propIs(Number, 'x', {x: 1, y: 2});  //=> true\n     *      R.propIs(Number, 'x', {x: 'foo'});    //=> false\n     *      R.propIs(Number, 'x', {});            //=> false\n     */\n    var propIs = _curry3(function propIs(type, name, obj) {\n        return propSatisfies(is(type), name, obj);\n    });\n\n    /**\n     * Returns a single item by iterating through the list, successively calling the iterator\n     * function and passing it an accumulator value and the current value from the array, and\n     * then passing the result to the next call.\n     *\n     * The iterator function receives two values: *(acc, value)*.  It may use `R.reduced` to\n     * shortcut the iteration.\n     *\n     * Note: `R.reduce` does not skip deleted or unassigned indices (sparse arrays), unlike\n     * the native `Array.prototype.reduce` method. For more details on this behavior, see:\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n     * @see R.reduced\n     *\n     * Dispatches to the `reduce` method of the third argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a,b -> a) -> a -> [b] -> a\n     * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n     *        current element from the array.\n     * @param {*} acc The accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var numbers = [1, 2, 3];\n     *      var add = (a, b) => a + b;\n     *\n     *      R.reduce(add, 10, numbers); //=> 16\n     */\n    var reduce = _curry3(_reduce);\n\n    /**\n     * Similar to `filter`, except that it keeps only values for which the given predicate\n     * function returns falsy. The predicate function is passed one argument: *(value)*.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} The new filtered array.\n     * @see R.filter\n     * @example\n     *\n     *      var isOdd = (n) => n % 2 === 1;\n     *\n     *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n     */\n    var reject = _curry2(function reject(fn, list) {\n        return filter(_complement(fn), list);\n    });\n\n    /**\n     * Returns a fixed list of size `n` containing a specified identical value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig a -> n -> [a]\n     * @param {*} value The value to repeat.\n     * @param {Number} n The desired size of the output list.\n     * @return {Array} A new array containing `n` `value`s.\n     * @example\n     *\n     *      R.repeat('hi', 5); //=> ['hi', 'hi', 'hi', 'hi', 'hi']\n     *\n     *      var obj = {};\n     *      var repeatedObjs = R.repeat(obj, 5); //=> [{}, {}, {}, {}, {}]\n     *      repeatedObjs[0] === repeatedObjs[1]; //=> true\n     */\n    var repeat = _curry2(function repeat(value, n) {\n        return times(always(value), n);\n    });\n\n    /**\n     * Returns the elements of the given list or string (or object with a `slice`\n     * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n     *\n     * Dispatches to the `slice` method of the third argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.4\n     * @category List\n     * @sig Number -> Number -> [a] -> [a]\n     * @sig Number -> Number -> String -> String\n     * @param {Number} fromIndex The start index (inclusive).\n     * @param {Number} toIndex The end index (exclusive).\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n     *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n     *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n     *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n     *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n     */\n    var slice = _curry3(_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n        return Array.prototype.slice.call(list, fromIndex, toIndex);\n    }));\n\n    /**\n     * Splits a collection into slices of the specified length.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig Number -> [a] -> [[a]]\n     * @sig Number -> String -> [String]\n     * @param {Number} n\n     * @param {Array} list\n     * @return {Array}\n     * @example\n     *\n     *      R.splitEvery(3, [1, 2, 3, 4, 5, 6, 7]); //=> [[1, 2, 3], [4, 5, 6], [7]]\n     *      R.splitEvery(3, 'foobarbaz'); //=> ['foo', 'bar', 'baz']\n     */\n    var splitEvery = _curry2(function splitEvery(n, list) {\n        if (n <= 0) {\n            throw new Error('First argument to splitEvery must be a positive integer');\n        }\n        var result = [];\n        var idx = 0;\n        while (idx < list.length) {\n            result.push(slice(idx, idx += n, list));\n        }\n        return result;\n    });\n\n    /**\n     * Adds together all the elements of a list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig [Number] -> Number\n     * @param {Array} list An array of numbers\n     * @return {Number} The sum of all the numbers in the list.\n     * @see R.reduce\n     * @example\n     *\n     *      R.sum([2,4,6,8,100,1]); //=> 121\n     */\n    var sum = reduce(add, 0);\n\n    /**\n     * Returns all but the first element of the given list or string (or object\n     * with a `tail` method).\n     *\n     * Dispatches to the `slice` method of the first argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @see R.head, R.init, R.last\n     * @sig [a] -> [a]\n     * @sig String -> String\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      R.tail([1, 2, 3]);  //=> [2, 3]\n     *      R.tail([1, 2]);     //=> [2]\n     *      R.tail([1]);        //=> []\n     *      R.tail([]);         //=> []\n     *\n     *      R.tail('abc');  //=> 'bc'\n     *      R.tail('ab');   //=> 'b'\n     *      R.tail('a');    //=> ''\n     *      R.tail('');     //=> ''\n     */\n    var tail = _checkForMethod('tail', slice(1, Infinity));\n\n    /**\n     * Returns the first `n` elements of the given list, string, or\n     * transducer/transformer (or object with a `take` method).\n     *\n     * Dispatches to the `take` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Number -> [a] -> [a]\n     * @sig Number -> String -> String\n     * @param {Number} n\n     * @param {*} list\n     * @return {*}\n     * @see R.drop\n     * @example\n     *\n     *      R.take(1, ['foo', 'bar', 'baz']); //=> ['foo']\n     *      R.take(2, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']\n     *      R.take(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n     *      R.take(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n     *      R.take(3, 'ramda');               //=> 'ram'\n     *\n     *      var personnel = [\n     *        'Dave Brubeck',\n     *        'Paul Desmond',\n     *        'Eugene Wright',\n     *        'Joe Morello',\n     *        'Gerry Mulligan',\n     *        'Bob Bates',\n     *        'Joe Dodge',\n     *        'Ron Crotty'\n     *      ];\n     *\n     *      var takeFive = R.take(5);\n     *      takeFive(personnel);\n     *      //=> ['Dave Brubeck', 'Paul Desmond', 'Eugene Wright', 'Joe Morello', 'Gerry Mulligan']\n     */\n    var take = _curry2(_dispatchable('take', _xtake, function take(n, xs) {\n        return slice(0, n < 0 ? Infinity : n, xs);\n    }));\n\n    /**\n     * Returns a new list containing the first `n` elements of a given list, passing each value\n     * to the supplied predicate function, and terminating when the predicate function returns\n     * `false`. Excludes the element that caused the predicate function to fail. The predicate\n     * function is passed one argument: *(value)*.\n     *\n     * Dispatches to the `takeWhile` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig (a -> Boolean) -> [a] -> [a]\n     * @param {Function} fn The function called per iteration.\n     * @param {Array} list The collection to iterate over.\n     * @return {Array} A new array.\n     * @see R.dropWhile\n     * @example\n     *\n     *      var isNotFour = x => x !== 4;\n     *\n     *      R.takeWhile(isNotFour, [1, 2, 3, 4]); //=> [1, 2, 3]\n     */\n    var takeWhile = _curry2(_dispatchable('takeWhile', _xtakeWhile, function takeWhile(fn, list) {\n        var idx = 0, len = list.length;\n        while (idx < len && fn(list[idx])) {\n            idx += 1;\n        }\n        return _slice(list, 0, idx);\n    }));\n\n    /**\n     * Initializes a transducer using supplied iterator function. Returns a single item by\n     * iterating through the list, successively calling the transformed iterator function and\n     * passing it an accumulator value and the current value from the array, and then passing\n     * the result to the next call.\n     *\n     * The iterator function receives two values: *(acc, value)*. It will be wrapped as a\n     * transformer to initialize the transducer. A transformer can be passed directly in place\n     * of an iterator function.  In both cases, iteration may be stopped early with the\n     * `R.reduced` function.\n     *\n     * A transducer is a function that accepts a transformer and returns a transformer and can\n     * be composed directly.\n     *\n     * A transformer is an an object that provides a 2-arity reducing iterator function, step,\n     * 0-arity initial value function, init, and 1-arity result extraction function, result.\n     * The step function is used as the iterator function in reduce. The result function is used\n     * to convert the final accumulator into the return type and in most cases is R.identity.\n     * The init function can be used to provide an initial accumulator, but is ignored by transduce.\n     *\n     * The iteration is performed with R.reduce after initializing the transducer.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category List\n     * @see R.reduce, R.reduced, R.into\n     * @sig (c -> c) -> (a,b -> a) -> a -> [b] -> a\n     * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.\n     * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n     *        current element from the array. Wrapped as transformer, if necessary, and used to\n     *        initialize the transducer\n     * @param {*} acc The initial accumulator value.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var numbers = [1, 2, 3, 4];\n     *      var transducer = R.compose(R.map(R.add(1)), R.take(2));\n     *\n     *      R.transduce(transducer, R.flip(R.append), [], numbers); //=> [2, 3]\n     */\n    var transduce = curryN(4, function transduce(xf, fn, acc, list) {\n        return _reduce(xf(typeof fn === 'function' ? _xwrap(fn) : fn), acc, list);\n    });\n\n    /**\n     * Combines two lists into a set (i.e. no duplicates) composed of the elements of each list.  Duplication is\n     * determined according to the value returned by applying the supplied predicate to two list elements.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]\n     * @param {Function} pred A predicate used to test whether two items are equal.\n     * @param {Array} list1 The first list.\n     * @param {Array} list2 The second list.\n     * @return {Array} The first and second lists concatenated, with\n     *         duplicates removed.\n     * @see R.union\n     * @example\n     *\n     *      var l1 = [{a: 1}, {a: 2}];\n     *      var l2 = [{a: 1}, {a: 4}];\n     *      R.unionWith(R.eqBy(R.prop('a')), l1, l2); //=> [{a: 1}, {a: 2}, {a: 4}]\n     */\n    var unionWith = _curry3(function unionWith(pred, list1, list2) {\n        return uniqWith(pred, _concat(list1, list2));\n    });\n\n    /**\n     * Returns a new list containing only one copy of each element in the original list.\n     * `R.equals` is used to determine equality.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [a]\n     * @param {Array} list The array to consider.\n     * @return {Array} The list of unique items.\n     * @example\n     *\n     *      R.uniq([1, 1, 2, 1]); //=> [1, 2]\n     *      R.uniq([1, '1']);     //=> [1, '1']\n     *      R.uniq([[42], [42]]); //=> [[42]]\n     */\n    var uniq = uniqWith(equals);\n\n    /**\n     * Accepts a function `fn` and a list of transformer functions and returns a new curried\n     * function. When the new function is invoked, it calls the function `fn` with parameters\n     * consisting of the result of calling each supplied handler on successive arguments to the\n     * new function.\n     *\n     * If more arguments are passed to the returned function than transformer functions, those\n     * arguments are passed directly to `fn` as additional parameters. If you expect additional\n     * arguments that don't need to be transformed, although you can ignore them, it's best to\n     * pass an identity function so that the new function reports the correct arity.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (x1 -> x2 -> ... -> z) -> [(a -> x1), (b -> x2), ...] -> (a -> b -> ... -> z)\n     * @param {Function} fn The function to wrap.\n     * @param {Array} transformers A list of transformer functions\n     * @return {Function} The wrapped function.\n     * @example\n     *\n     *      R.useWith(Math.pow, [R.identity, R.identity])(3, 4); //=> 81\n     *      R.useWith(Math.pow, [R.identity, R.identity])(3)(4); //=> 81\n     *      R.useWith(Math.pow, [R.dec, R.inc])(3, 4); //=> 32\n     *      R.useWith(Math.pow, [R.dec, R.inc])(3)(4); //=> 32\n     */\n    var useWith = _curry2(function useWith(fn, transformers) {\n        return curry(_arity(transformers.length, function () {\n            var args = [], idx = 0;\n            while (idx < transformers.length) {\n                args.push(transformers[idx].call(this, arguments[idx]));\n                idx += 1;\n            }\n            return fn.apply(this, args.concat(_slice(arguments, transformers.length)));\n        }));\n    });\n\n    /**\n     * Takes a spec object and a test object; returns true if the test satisfies\n     * the spec, false otherwise. An object satisfies the spec if, for each of the\n     * spec's own properties, accessing that property of the object gives the same\n     * value (in `R.equals` terms) as accessing that property of the spec.\n     *\n     * `whereEq` is a specialization of [`where`](#where).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Object\n     * @sig {String: *} -> {String: *} -> Boolean\n     * @param {Object} spec\n     * @param {Object} testObj\n     * @return {Boolean}\n     * @see R.where\n     * @example\n     *\n     *      // pred :: Object -> Boolean\n     *      var pred = R.whereEq({a: 1, b: 2});\n     *\n     *      pred({a: 1});              //=> false\n     *      pred({a: 1, b: 2});        //=> true\n     *      pred({a: 1, b: 2, c: 3});  //=> true\n     *      pred({a: 1, b: 1});        //=> false\n     */\n    var whereEq = _curry2(function whereEq(spec, testObj) {\n        return where(mapObj(equals, spec), testObj);\n    });\n\n    var _flatCat = function () {\n        var preservingReduced = function (xf) {\n            return {\n                '@@transducer/init': _xfBase.init,\n                '@@transducer/result': function (result) {\n                    return xf['@@transducer/result'](result);\n                },\n                '@@transducer/step': function (result, input) {\n                    var ret = xf['@@transducer/step'](result, input);\n                    return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;\n                }\n            };\n        };\n        return function _xcat(xf) {\n            var rxf = preservingReduced(xf);\n            return {\n                '@@transducer/init': _xfBase.init,\n                '@@transducer/result': function (result) {\n                    return rxf['@@transducer/result'](result);\n                },\n                '@@transducer/step': function (result, input) {\n                    return !isArrayLike(input) ? _reduce(rxf, result, [input]) : _reduce(rxf, result, input);\n                }\n            };\n        };\n    }();\n\n    var _indexOf = function _indexOf(list, item, from) {\n        var idx = from;\n        while (idx < list.length) {\n            if (equals(list[idx], item)) {\n                return idx;\n            }\n            idx += 1;\n        }\n        return -1;\n    };\n\n    var _stepCat = function () {\n        var _stepCatArray = {\n            '@@transducer/init': Array,\n            '@@transducer/step': function (xs, x) {\n                return _concat(xs, [x]);\n            },\n            '@@transducer/result': _identity\n        };\n        var _stepCatString = {\n            '@@transducer/init': String,\n            '@@transducer/step': function (a, b) {\n                return a + b;\n            },\n            '@@transducer/result': _identity\n        };\n        var _stepCatObject = {\n            '@@transducer/init': Object,\n            '@@transducer/step': function (result, input) {\n                return merge(result, isArrayLike(input) ? createMapEntry(input[0], input[1]) : input);\n            },\n            '@@transducer/result': _identity\n        };\n        return function _stepCat(obj) {\n            if (_isTransformer(obj)) {\n                return obj;\n            }\n            if (isArrayLike(obj)) {\n                return _stepCatArray;\n            }\n            if (typeof obj === 'string') {\n                return _stepCatString;\n            }\n            if (typeof obj === 'object') {\n                return _stepCatObject;\n            }\n            throw new Error('Cannot create transformer for ' + obj);\n        };\n    }();\n\n    var _xchain = _curry2(function _xchain(f, xf) {\n        return map(f, _flatCat(xf));\n    });\n\n    /**\n     * Takes a list of predicates and returns a predicate that returns true\n     * for a given list of arguments if every one of the provided predicates\n     * is satisfied by those arguments.\n     *\n     * The function returned is a curried function whose arity matches that of\n     * the highest-arity predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Logic\n     * @sig [(*... -> Boolean)] -> (*... -> Boolean)\n     * @param {Array} preds\n     * @return {Function}\n     * @see R.anyPass\n     * @example\n     *\n     *      var isQueen = R.propEq('rank', 'Q');\n     *      var isSpade = R.propEq('suit', '');\n     *      var isQueenOfSpades = R.allPass([isQueen, isSpade]);\n     *\n     *      isQueenOfSpades({rank: 'Q', suit: ''}); //=> false\n     *      isQueenOfSpades({rank: 'Q', suit: ''}); //=> true\n     */\n    var allPass = _curry1(function allPass(preds) {\n        return curryN(reduce(max, 0, pluck('length', preds)), function () {\n            var idx = 0;\n            var len = preds.length;\n            while (idx < len) {\n                if (!preds[idx].apply(this, arguments)) {\n                    return false;\n                }\n                idx += 1;\n            }\n            return true;\n        });\n    });\n\n    /**\n     * Returns `true` if all elements are unique, in `R.equals` terms,\n     * otherwise `false`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category List\n     * @sig [a] -> Boolean\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if all elements are unique, else `false`.\n     * @example\n     *\n     *      R.allUniq(['1', 1]); //=> true\n     *      R.allUniq([1, 1]);   //=> false\n     *      R.allUniq([[42], [42]]); //=> false\n     */\n    var allUniq = _curry1(function allUniq(list) {\n        var len = list.length;\n        var idx = 0;\n        while (idx < len) {\n            if (_indexOf(list, list[idx], idx + 1) >= 0) {\n                return false;\n            }\n            idx += 1;\n        }\n        return true;\n    });\n\n    /**\n     * Takes a list of predicates and returns a predicate that returns true for\n     * a given list of arguments if at least one of the provided predicates is\n     * satisfied by those arguments.\n     *\n     * The function returned is a curried function whose arity matches that of\n     * the highest-arity predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Logic\n     * @sig [(*... -> Boolean)] -> (*... -> Boolean)\n     * @param {Array} preds\n     * @return {Function}\n     * @see R.allPass\n     * @example\n     *\n     *      var gte = R.anyPass([R.gt, R.equals]);\n     *\n     *      gte(3, 2); //=> true\n     *      gte(2, 2); //=> true\n     *      gte(2, 3); //=> false\n     */\n    var anyPass = _curry1(function anyPass(preds) {\n        return curryN(reduce(max, 0, pluck('length', preds)), function () {\n            var idx = 0;\n            var len = preds.length;\n            while (idx < len) {\n                if (preds[idx].apply(this, arguments)) {\n                    return true;\n                }\n                idx += 1;\n            }\n            return false;\n        });\n    });\n\n    /**\n     * ap applies a list of functions to a list of values.\n     *\n     * Dispatches to the `ap` method of the second argument, if present. Also treats\n     * functions as applicatives.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category Function\n     * @sig [f] -> [a] -> [f a]\n     * @param {Array} fns An array of functions\n     * @param {Array} vs An array of values\n     * @return {Array} An array of results of applying each of `fns` to all of `vs` in turn.\n     * @example\n     *\n     *      R.ap([R.multiply(2), R.add(3)], [1,2,3]); //=> [2, 4, 6, 4, 5, 6]\n     */\n    // else\n    var ap = _curry2(function ap(applicative, fn) {\n        return typeof applicative.ap === 'function' ? applicative.ap(fn) : typeof applicative === 'function' ? curryN(Math.max(applicative.length, fn.length), function () {\n            return applicative.apply(this, arguments)(fn.apply(this, arguments));\n        }) : // else\n        _reduce(function (acc, f) {\n            return _concat(acc, map(f, fn));\n        }, [], applicative);\n    });\n\n    /**\n     * Returns the result of calling its first argument with the remaining\n     * arguments. This is occasionally useful as a converging function for\n     * `R.converge`: the left branch can produce a function while the right\n     * branch produces a value to be passed to that function as an argument.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category Function\n     * @sig (*... -> a),*... -> a\n     * @param {Function} fn The function to apply to the remaining arguments.\n     * @param {...*} args Any number of positional arguments.\n     * @return {*}\n     * @see R.apply\n     * @example\n     *\n     *      var indentN = R.pipe(R.times(R.always(' ')),\n     *                           R.join(''),\n     *                           R.replace(/^(?!$)/gm));\n     *\n     *      var format = R.converge(R.call,\n     *                              R.pipe(R.prop('indent'), indentN),\n     *                              R.prop('value'));\n     *\n     *      format({indent: 2, value: 'foo\\nbar\\nbaz\\n'}); //=> '  foo\\n  bar\\n  baz\\n'\n     */\n    var call = curry(function call(fn) {\n        return fn.apply(this, _slice(arguments, 1));\n    });\n\n    /**\n     * `chain` maps a function over a list and concatenates the results.\n     * `chain` is also known as `flatMap` in some libraries\n     *\n     * Dispatches to the `chain` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category List\n     * @sig (a -> [b]) -> [a] -> [b]\n     * @param {Function} fn\n     * @param {Array} list\n     * @return {Array}\n     * @example\n     *\n     *      var duplicate = n => [n, n];\n     *      R.chain(duplicate, [1, 2, 3]); //=> [1, 1, 2, 2, 3, 3]\n     */\n    var chain = _curry2(_dispatchable('chain', _xchain, function chain(fn, monad) {\n        if (typeof monad === 'function') {\n            return function () {\n                return monad.call(this, fn.apply(this, arguments)).apply(this, arguments);\n            };\n        }\n        return _makeFlat(false)(map(fn, monad));\n    }));\n\n    /**\n     * Turns a list of Functors into a Functor of a list, applying\n     * a mapping function to the elements of the list along the way.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category List\n     * @see R.commute\n     * @sig Functor f => (a -> f b) -> (x -> f x) -> [a] -> f [b]\n     * @param {Function} fn The transformation function\n     * @param {Function} of A function that returns the data type to return\n     * @param {Array} list An array of functors of the same type\n     * @return {*}\n     * @example\n     *\n     *      var add10 = R.map(R.add(10));\n     *      R.commuteMap(add10, R.of, [[1], [2, 3]]);   //=> [[11, 12], [11, 13]]\n     *      R.commuteMap(add10, R.of, [[1, 2], [3]]);   //=> [[11, 13], [12, 13]]\n     *      R.commuteMap(add10, R.of, [[1], [2], [3]]); //=> [[11, 12, 13]]\n     *      R.commuteMap(add10, Maybe.of, [Just(1), Just(2), Just(3)]);   //=> Just([11, 12, 13])\n     *      R.commuteMap(add10, Maybe.of, [Just(1), Just(2), Nothing()]); //=> Nothing()\n     *\n     *      var fetch = url => Future((rej, res) => http.get(url, res).on('error', rej));\n     *      R.commuteMap(fetch, Future.of, [\n     *        'http://ramdajs.com',\n     *        'http://github.com/ramda'\n     *      ]); //=> Future([IncomingMessage, IncomingMessage])\n     */\n    var commuteMap = _curry3(function commuteMap(fn, of, list) {\n        function consF(acc, x) {\n            return ap(map(prepend, fn(x)), acc);\n        }\n        return reduceRight(consF, of([]), list);\n    });\n\n    /**\n     * Wraps a constructor function inside a curried function that can be called with the same\n     * arguments and returns the same type. The arity of the function returned is specified\n     * to allow using variadic constructor functions.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.0\n     * @category Function\n     * @sig Number -> (* -> {*}) -> (* -> {*})\n     * @param {Number} n The arity of the constructor function.\n     * @param {Function} Fn The constructor function to wrap.\n     * @return {Function} A wrapped, curried constructor function.\n     * @example\n     *\n     *      // Variadic constructor function\n     *      var Widget = () => {\n     *        this.children = Array.prototype.slice.call(arguments);\n     *        // ...\n     *      };\n     *      Widget.prototype = {\n     *        // ...\n     *      };\n     *      var allConfigs = [\n     *        // ...\n     *      ];\n     *      R.map(R.constructN(1, Widget), allConfigs); // a list of Widgets\n     */\n    var constructN = _curry2(function constructN(n, Fn) {\n        if (n > 10) {\n            throw new Error('Constructor with greater than ten arguments');\n        }\n        if (n === 0) {\n            return function () {\n                return new Fn();\n            };\n        }\n        return curry(nAry(n, function ($0, $1, $2, $3, $4, $5, $6, $7, $8, $9) {\n            switch (arguments.length) {\n            case 1:\n                return new Fn($0);\n            case 2:\n                return new Fn($0, $1);\n            case 3:\n                return new Fn($0, $1, $2);\n            case 4:\n                return new Fn($0, $1, $2, $3);\n            case 5:\n                return new Fn($0, $1, $2, $3, $4);\n            case 6:\n                return new Fn($0, $1, $2, $3, $4, $5);\n            case 7:\n                return new Fn($0, $1, $2, $3, $4, $5, $6);\n            case 8:\n                return new Fn($0, $1, $2, $3, $4, $5, $6, $7);\n            case 9:\n                return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8);\n            case 10:\n                return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8, $9);\n            }\n        }));\n    });\n\n    /**\n     * Accepts a converging function and a list of branching functions and returns a new function.\n     * When invoked, this new function is applied to some arguments, each branching\n     * function is applied to those same arguments. The results of each branching\n     * function are passed as arguments to the converging function to produce the return value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.4.2\n     * @category Function\n     * @sig (x1 -> x2 -> ... -> z) -> [(a -> b -> ... -> x1), (a -> b -> ... -> x2), ...] -> (a -> b -> ... -> z)\n     * @param {Function} after A function. `after` will be invoked with the return values of\n     *        `fn1` and `fn2` as its arguments.\n     * @param {Array} functions A list of functions.\n     * @return {Function} A new function.\n     * @example\n     *\n     *      var add = (a, b) => a + b;\n     *      var multiply = (a, b) => a * b;\n     *      var subtract = (a, b) => a - b;\n     *\n     *      // multiply( add(1, 2), subtract(1, 2) );\n     *      R.converge(multiply, [add, subtract])(1, 2); //=> -3\n     *\n     *      var add3 = (a, b, c) => a + b + c;\n     *      R.converge(add3, [multiply, add, subtract])(1, 2); //=> 4\n     */\n    var converge = _curry2(function converge(after, fns) {\n        return curryN(Math.max.apply(Math, pluck('length', fns)), function () {\n            var args = arguments;\n            var context = this;\n            return after.apply(context, _map(function (fn) {\n                return fn.apply(context, args);\n            }, fns));\n        });\n    });\n\n    /**\n     * Returns all but the first `n` elements of the given list, string, or\n     * transducer/transformer (or object with a `drop` method).\n     *\n     * Dispatches to the `drop` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @see R.transduce\n     * @sig Number -> [a] -> [a]\n     * @sig Number -> String -> String\n     * @param {Number} n\n     * @param {*} list\n     * @return {*}\n     * @see R.take\n     * @example\n     *\n     *      R.drop(1, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']\n     *      R.drop(2, ['foo', 'bar', 'baz']); //=> ['baz']\n     *      R.drop(3, ['foo', 'bar', 'baz']); //=> []\n     *      R.drop(4, ['foo', 'bar', 'baz']); //=> []\n     *      R.drop(3, 'ramda');               //=> 'da'\n     */\n    var drop = _curry2(_dispatchable('drop', _xdrop, function drop(n, xs) {\n        return slice(Math.max(0, n), Infinity, xs);\n    }));\n\n    /**\n     * Returns a list containing all but the last `n` elements of the given `list`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig Number -> [a] -> [a]\n     * @sig Number -> String -> String\n     * @param {Number} n The number of elements of `xs` to skip.\n     * @param {Array} xs The collection to consider.\n     * @return {Array}\n     * @see R.takeLast\n     * @example\n     *\n     *      R.dropLast(1, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']\n     *      R.dropLast(2, ['foo', 'bar', 'baz']); //=> ['foo']\n     *      R.dropLast(3, ['foo', 'bar', 'baz']); //=> []\n     *      R.dropLast(4, ['foo', 'bar', 'baz']); //=> []\n     *      R.dropLast(3, 'ramda');               //=> 'ra'\n     */\n    var dropLast = _curry2(function dropLast(n, xs) {\n        return take(n < xs.length ? xs.length - n : 0, xs);\n    });\n\n    /**\n     * Returns a new list without any consecutively repeating elements. Equality is\n     * determined by applying the supplied predicate two consecutive elements.\n     * The first element in a series of equal element is the one being preserved.\n     *\n     * Dispatches to the `dropRepeatsWith` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category List\n     * @sig (a, a -> Boolean) -> [a] -> [a]\n     * @param {Function} pred A predicate used to test whether two items are equal.\n     * @param {Array} list The array to consider.\n     * @return {Array} `list` without repeating elements.\n     * @example\n     *\n     *      var lengthEq = (x, y) => Math.abs(x) === Math.abs(y);\n     *      var l = [1, -1, 1, 3, 4, -4, -4, -5, 5, 3, 3];\n     *      R.dropRepeatsWith(R.eqBy(Math.abs), l); //=> [1, 3, 4, -5, 3]\n     */\n    var dropRepeatsWith = _curry2(_dispatchable('dropRepeatsWith', _xdropRepeatsWith, function dropRepeatsWith(pred, list) {\n        var result = [];\n        var idx = 1;\n        var len = list.length;\n        if (len !== 0) {\n            result[0] = list[0];\n            while (idx < len) {\n                if (!pred(last(result), list[idx])) {\n                    result[result.length] = list[idx];\n                }\n                idx += 1;\n            }\n        }\n        return result;\n    }));\n\n    /**\n     * Takes a function and two values in its domain and returns `true` if\n     * the values map to the same value in the codomain; `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.18.0\n     * @category Relation\n     * @sig (a -> b) -> a -> a -> Boolean\n     * @param {Function} f\n     * @param {*} x\n     * @param {*} y\n     * @return {Boolean}\n     * @example\n     *\n     *      R.eqBy(Math.abs, 5, -5); //=> true\n     */\n    var eqBy = _curry3(function eqBy(f, x, y) {\n        return equals(f(x), f(y));\n    });\n\n    /**\n     * Reports whether two objects have the same value, in `R.equals` terms,\n     * for the specified property. Useful as a curried predicate.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig k -> {k: v} -> {k: v} -> Boolean\n     * @param {String} prop The name of the property to compare\n     * @param {Object} obj1\n     * @param {Object} obj2\n     * @return {Boolean}\n     *\n     * @example\n     *\n     *      var o1 = { a: 1, b: 2, c: 3, d: 4 };\n     *      var o2 = { a: 10, b: 20, c: 3, d: 40 };\n     *      R.eqProps('a', o1, o2); //=> false\n     *      R.eqProps('c', o1, o2); //=> true\n     */\n    var eqProps = _curry3(function eqProps(prop, obj1, obj2) {\n        return equals(obj1[prop], obj2[prop]);\n    });\n\n    /**\n     * Returns the position of the first occurrence of an item in an array,\n     * or -1 if the item is not included in the array. `R.equals` is used to\n     * determine equality.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig a -> [a] -> Number\n     * @param {*} target The item to find.\n     * @param {Array} xs The array to search in.\n     * @return {Number} the index of the target, or -1 if the target is not found.\n     * @see R.lastIndexOf\n     * @example\n     *\n     *      R.indexOf(3, [1,2,3,4]); //=> 2\n     *      R.indexOf(10, [1,2,3,4]); //=> -1\n     */\n    var indexOf = _curry2(function indexOf(target, xs) {\n        return typeof xs.indexOf === 'function' && !_isArray(xs) ? xs.indexOf(target) : _indexOf(xs, target, 0);\n    });\n\n    /**\n     * Returns all but the last element of the given list or string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category List\n     * @see R.last, R.head, R.tail\n     * @sig [a] -> [a]\n     * @sig String -> String\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      R.init([1, 2, 3]);  //=> [1, 2]\n     *      R.init([1, 2]);     //=> [1]\n     *      R.init([1]);        //=> []\n     *      R.init([]);         //=> []\n     *\n     *      R.init('abc');  //=> 'ab'\n     *      R.init('ab');   //=> 'a'\n     *      R.init('a');    //=> ''\n     *      R.init('');     //=> ''\n     */\n    var init = slice(0, -1);\n\n    /**\n     * Transforms the items of the list with the transducer and appends the transformed items to\n     * the accumulator using an appropriate iterator function based on the accumulator type.\n     *\n     * The accumulator can be an array, string, object or a transformer. Iterated items will\n     * be appended to arrays and concatenated to strings. Objects will be merged directly or 2-item\n     * arrays will be merged as key, value pairs.\n     *\n     * The accumulator can also be a transformer object that provides a 2-arity reducing iterator\n     * function, step, 0-arity initial value function, init, and 1-arity result extraction function\n     * result. The step function is used as the iterator function in reduce. The result function is\n     * used to convert the final accumulator into the return type and in most cases is R.identity.\n     * The init function is used to provide the initial accumulator.\n     *\n     * The iteration is performed with R.reduce after initializing the transducer.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category List\n     * @sig a -> (b -> b) -> [c] -> a\n     * @param {*} acc The initial accumulator value.\n     * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.\n     * @param {Array} list The list to iterate over.\n     * @return {*} The final, accumulated value.\n     * @example\n     *\n     *      var numbers = [1, 2, 3, 4];\n     *      var transducer = R.compose(R.map(R.add(1)), R.take(2));\n     *\n     *      R.into([], transducer, numbers); //=> [2, 3]\n     *\n     *      var intoArray = R.into([]);\n     *      intoArray(transducer, numbers); //=> [2, 3]\n     */\n    var into = _curry3(function into(acc, xf, list) {\n        return _isTransformer(acc) ? _reduce(xf(acc), acc['@@transducer/init'](), list) : _reduce(xf(_stepCat(acc)), acc, list);\n    });\n\n    /**\n     * Returns `true` if all elements are unique, in `R.equals` terms,\n     * otherwise `false`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.1\n     * @category List\n     * @sig [a] -> Boolean\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if all elements are unique, else `false`.\n     * @see R.allUniq\n     * @deprecated since v0.18.0\n     * @example\n     *\n     *      R.isSet(['1', 1]); //=> true\n     *      R.isSet([1, 1]);   //=> false\n     *      R.isSet([[42], [42]]); //=> false\n     */\n    var isSet = allUniq;\n\n    /**\n     * Returns a lens for the given getter and setter functions. The getter \"gets\"\n     * the value of the focus; the setter \"sets\" the value of the focus. The setter\n     * should not mutate the data structure.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig (s -> a) -> ((a, s) -> s) -> Lens s a\n     * @param {Function} getter\n     * @param {Function} setter\n     * @return {Lens}\n     * @see R.view, R.set, R.over, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      var xLens = R.lens(R.prop('x'), R.assoc('x'));\n     *\n     *      R.view(xLens, {x: 1, y: 2});            //=> 1\n     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n     */\n    var lens = _curry2(function lens(getter, setter) {\n        return function (f) {\n            return function (s) {\n                return map(function (v) {\n                    return setter(v, s);\n                }, f(getter(s)));\n            };\n        };\n    });\n\n    /**\n     * Returns a lens whose focus is the specified index.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Number -> Lens s a\n     * @param {Number} n\n     * @return {Lens}\n     * @see R.view, R.set, R.over\n     * @example\n     *\n     *      var headLens = R.lensIndex(0);\n     *\n     *      R.view(headLens, ['a', 'b', 'c']);            //=> 'a'\n     *      R.set(headLens, 'x', ['a', 'b', 'c']);        //=> ['x', 'b', 'c']\n     *      R.over(headLens, R.toUpper, ['a', 'b', 'c']); //=> ['A', 'b', 'c']\n     */\n    var lensIndex = _curry1(function lensIndex(n) {\n        return lens(nth(n), update(n));\n    });\n\n    /**\n     * Returns a lens whose focus is the specified property.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig String -> Lens s a\n     * @param {String} k\n     * @return {Lens}\n     * @see R.view, R.set, R.over\n     * @example\n     *\n     *      var xLens = R.lensProp('x');\n     *\n     *      R.view(xLens, {x: 1, y: 2});            //=> 1\n     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n     */\n    var lensProp = _curry1(function lensProp(k) {\n        return lens(prop(k), assoc(k));\n    });\n\n    /**\n     * \"lifts\" a function to be the specified arity, so that it may \"map over\" that many\n     * lists (or other Functors).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @see R.lift\n     * @category Function\n     * @sig Number -> (*... -> *) -> ([*]... -> [*])\n     * @param {Function} fn The function to lift into higher context\n     * @return {Function} The function `fn` applicable to mappable objects.\n     * @example\n     *\n     *      var madd3 = R.liftN(3, R.curryN(3, () => R.reduce(R.add, 0, arguments)));\n     *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]\n     */\n    var liftN = _curry2(function liftN(arity, fn) {\n        var lifted = curryN(arity, fn);\n        return curryN(arity, function () {\n            return _reduce(ap, map(lifted, arguments[0]), _slice(arguments, 1));\n        });\n    });\n\n    /**\n     * Returns the mean of the given list of numbers.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Math\n     * @sig [Number] -> Number\n     * @param {Array} list\n     * @return {Number}\n     * @example\n     *\n     *      R.mean([2, 7, 9]); //=> 6\n     *      R.mean([]); //=> NaN\n     */\n    var mean = _curry1(function mean(list) {\n        return sum(list) / list.length;\n    });\n\n    /**\n     * Returns the median of the given list of numbers.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Math\n     * @sig [Number] -> Number\n     * @param {Array} list\n     * @return {Number}\n     * @example\n     *\n     *      R.median([2, 9, 7]); //=> 7\n     *      R.median([7, 2, 10, 9]); //=> 8\n     *      R.median([]); //=> NaN\n     */\n    var median = _curry1(function median(list) {\n        var len = list.length;\n        if (len === 0) {\n            return NaN;\n        }\n        var width = 2 - len % 2;\n        var idx = (len - width) / 2;\n        return mean(_slice(list).sort(function (a, b) {\n            return a < b ? -1 : a > b ? 1 : 0;\n        }).slice(idx, idx + width));\n    });\n\n    /**\n     * Merges a list of objects together into one object.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category List\n     * @sig [{k: v}] -> {k: v}\n     * @param {Array} list An array of objects\n     * @return {Object} A merged object.\n     * @see R.reduce\n     * @example\n     *\n     *      R.mergeAll([{foo:1},{bar:2},{baz:3}]); //=> {foo:1,bar:2,baz:3}\n     *      R.mergeAll([{foo:1},{foo:2},{bar:2}]); //=> {foo:2,bar:2}\n     */\n    var mergeAll = _curry1(function mergeAll(list) {\n        return reduce(merge, {}, list);\n    });\n\n    /**\n     * Performs left-to-right function composition. The leftmost function may have\n     * any arity; the remaining functions must be unary.\n     *\n     * In some libraries this function is named `sequence`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n     * @param {...Function} functions\n     * @return {Function}\n     * @see R.compose\n     * @example\n     *\n     *      var f = R.pipe(Math.pow, R.negate, R.inc);\n     *\n     *      f(3, 4); // -(3^4) + 1\n     */\n    var pipe = function pipe() {\n        if (arguments.length === 0) {\n            throw new Error('pipe requires at least one argument');\n        }\n        return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n    };\n\n    /**\n     * Performs left-to-right composition of one or more Promise-returning\n     * functions. The leftmost function may have any arity; the remaining\n     * functions must be unary.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Function\n     * @sig ((a -> Promise b), (b -> Promise c), ..., (y -> Promise z)) -> (a -> Promise z)\n     * @param {...Function} functions\n     * @return {Function}\n     * @see R.composeP\n     * @example\n     *\n     *      //  followersForUser :: String -> Promise [User]\n     *      var followersForUser = R.pipeP(db.getUserById, db.getFollowers);\n     */\n    var pipeP = function pipeP() {\n        if (arguments.length === 0) {\n            throw new Error('pipeP requires at least one argument');\n        }\n        return _arity(arguments[0].length, reduce(_pipeP, arguments[0], tail(arguments)));\n    };\n\n    /**\n     * Multiplies together all the elements of a list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Math\n     * @sig [Number] -> Number\n     * @param {Array} list An array of numbers\n     * @return {Number} The product of all the numbers in the list.\n     * @see R.reduce\n     * @example\n     *\n     *      R.product([2,4,6,8,100,1]); //=> 38400\n     */\n    var product = reduce(multiply, 1);\n\n    /**\n     * Reasonable analog to SQL `select` statement.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @category Relation\n     * @sig [k] -> [{k: v}] -> [{k: v}]\n     * @param {Array} props The property names to project\n     * @param {Array} objs The objects to query\n     * @return {Array} An array of objects with just the `props` properties.\n     * @example\n     *\n     *      var abby = {name: 'Abby', age: 7, hair: 'blond', grade: 2};\n     *      var fred = {name: 'Fred', age: 12, hair: 'brown', grade: 7};\n     *      var kids = [abby, fred];\n     *      R.project(['name', 'grade'], kids); //=> [{name: 'Abby', grade: 2}, {name: 'Fred', grade: 7}]\n     */\n    // passing `identity` gives correct arity\n    var project = useWith(_map, [\n        pickAll,\n        identity\n    ]);\n\n    /**\n     * Returns a new list containing the last `n` elements of the given list.\n     * If `n > list.length`, returns a list of `list.length` elements.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig Number -> [a] -> [a]\n     * @sig Number -> String -> String\n     * @param {Number} n The number of elements to return.\n     * @param {Array} xs The collection to consider.\n     * @return {Array}\n     * @see R.dropLast\n     * @example\n     *\n     *      R.takeLast(1, ['foo', 'bar', 'baz']); //=> ['baz']\n     *      R.takeLast(2, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']\n     *      R.takeLast(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n     *      R.takeLast(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n     *      R.takeLast(3, 'ramda');               //=> 'mda'\n     */\n    var takeLast = _curry2(function takeLast(n, xs) {\n        return drop(n >= 0 ? xs.length - n : 0, xs);\n    });\n\n    /**\n     * Shorthand for `R.chain(R.identity)`, which removes one level of nesting\n     * from any [Chain](https://github.com/fantasyland/fantasy-land#chain).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.3.0\n     * @category List\n     * @sig Chain c => c (c a) -> c a\n     * @param {*} list\n     * @return {*}\n     * @see R.flatten, R.chain\n     * @example\n     *\n     *      R.unnest([1, [2], [[3]]]); //=> [1, 2, [3]]\n     *      R.unnest([[1, 2], [3, 4], [5, 6]]); //=> [1, 2, 3, 4, 5, 6]\n     */\n    var unnest = chain(_identity);\n\n    var _contains = function _contains(a, list) {\n        return _indexOf(list, a, 0) >= 0;\n    };\n\n    //  mapPairs :: (Object, [String]) -> [String]\n    // Function, RegExp, user-defined types\n    var _toString = function _toString(x, seen) {\n        var recur = function recur(y) {\n            var xs = seen.concat([x]);\n            return _contains(y, xs) ? '<Circular>' : _toString(y, xs);\n        };\n        //  mapPairs :: (Object, [String]) -> [String]\n        var mapPairs = function (obj, keys) {\n            return _map(function (k) {\n                return _quote(k) + ': ' + recur(obj[k]);\n            }, keys.slice().sort());\n        };\n        switch (Object.prototype.toString.call(x)) {\n        case '[object Arguments]':\n            return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';\n        case '[object Array]':\n            return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {\n                return /^\\d+$/.test(k);\n            }, keys(x)))).join(', ') + ']';\n        case '[object Boolean]':\n            return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();\n        case '[object Date]':\n            return 'new Date(' + _quote(_toISOString(x)) + ')';\n        case '[object Null]':\n            return 'null';\n        case '[object Number]':\n            return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);\n        case '[object String]':\n            return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);\n        case '[object Undefined]':\n            return 'undefined';\n        default:\n            return typeof x.constructor === 'function' && x.constructor.name !== 'Object' && typeof x.toString === 'function' && x.toString() !== '[object Object]' ? x.toString() : // Function, RegExp, user-defined types\n            '{' + mapPairs(x, keys(x)).join(', ') + '}';\n        }\n    };\n\n    /**\n     * Turns a list of Functors into a Functor of a list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category List\n     * @see R.commuteMap\n     * @sig Functor f => (x -> f x) -> [f a] -> f [a]\n     * @param {Function} of A function that returns the data type to return\n     * @param {Array} list An array of functors of the same type\n     * @return {*}\n     * @example\n     *\n     *      R.commute(R.of, [[1], [2, 3]]);   //=> [[1, 2], [1, 3]]\n     *      R.commute(R.of, [[1, 2], [3]]);   //=> [[1, 3], [2, 3]]\n     *      R.commute(R.of, [[1], [2], [3]]); //=> [[1, 2, 3]]\n     *      R.commute(Maybe.of, [Just(1), Just(2), Just(3)]);   //=> Just([1, 2, 3])\n     *      R.commute(Maybe.of, [Just(1), Just(2), Nothing()]); //=> Nothing()\n     */\n    var commute = commuteMap(identity);\n\n    /**\n     * Performs right-to-left function composition. The rightmost function may have\n     * any arity; the remaining functions must be unary.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig ((y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)) -> ((a, b, ..., n) -> z)\n     * @param {...Function} functions\n     * @return {Function}\n     * @see R.pipe\n     * @example\n     *\n     *      var f = R.compose(R.inc, R.negate, Math.pow);\n     *\n     *      f(3, 4); // -(3^4) + 1\n     */\n    var compose = function compose() {\n        if (arguments.length === 0) {\n            throw new Error('compose requires at least one argument');\n        }\n        return pipe.apply(this, reverse(arguments));\n    };\n\n    /**\n     * Returns the right-to-left Kleisli composition of the provided functions,\n     * each of which must return a value of a type supported by [`chain`](#chain).\n     *\n     * `R.composeK(h, g, f)` is equivalent to `R.compose(R.chain(h), R.chain(g), R.chain(f))`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Function\n     * @see R.pipeK\n     * @sig Chain m => ((y -> m z), (x -> m y), ..., (a -> m b)) -> (m a -> m z)\n     * @param {...Function}\n     * @return {Function}\n     * @example\n     *\n     *      //  parseJson :: String -> Maybe *\n     *      //  get :: String -> Object -> Maybe *\n     *\n     *      //  getStateCode :: Maybe String -> Maybe String\n     *      var getStateCode = R.composeK(\n     *        R.compose(Maybe.of, R.toUpper),\n     *        get('state'),\n     *        get('address'),\n     *        get('user'),\n     *        parseJson\n     *      );\n     *\n     *      getStateCode(Maybe.of('{\"user\":{\"address\":{\"state\":\"ny\"}}}'));\n     *      //=> Just('NY')\n     *      getStateCode(Maybe.of('[Invalid JSON]'));\n     *      //=> Nothing()\n     */\n    var composeK = function composeK() {\n        return compose.apply(this, prepend(identity, map(chain, arguments)));\n    };\n\n    /**\n     * Performs right-to-left composition of one or more Promise-returning\n     * functions. The rightmost function may have any arity; the remaining\n     * functions must be unary.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.10.0\n     * @category Function\n     * @sig ((y -> Promise z), (x -> Promise y), ..., (a -> Promise b)) -> (a -> Promise z)\n     * @param {...Function} functions\n     * @return {Function}\n     * @see R.pipeP\n     * @example\n     *\n     *      //  followersForUser :: String -> Promise [User]\n     *      var followersForUser = R.composeP(db.getFollowers, db.getUserById);\n     */\n    var composeP = function composeP() {\n        if (arguments.length === 0) {\n            throw new Error('composeP requires at least one argument');\n        }\n        return pipeP.apply(this, reverse(arguments));\n    };\n\n    /**\n     * Wraps a constructor function inside a curried function that can be called with the same\n     * arguments and returns the same type.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (* -> {*}) -> (* -> {*})\n     * @param {Function} Fn The constructor function to wrap.\n     * @return {Function} A wrapped, curried constructor function.\n     * @example\n     *\n     *      // Constructor function\n     *      var Widget = config => {\n     *        // ...\n     *      };\n     *      Widget.prototype = {\n     *        // ...\n     *      };\n     *      var allConfigs = [\n     *        // ...\n     *      ];\n     *      R.map(R.construct(Widget), allConfigs); // a list of Widgets\n     */\n    var construct = _curry1(function construct(Fn) {\n        return constructN(Fn.length, Fn);\n    });\n\n    /**\n     * Returns `true` if the specified value is equal, in `R.equals` terms,\n     * to at least one element of the given list; `false` otherwise.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig a -> [a] -> Boolean\n     * @param {Object} a The item to compare against.\n     * @param {Array} list The array to consider.\n     * @return {Boolean} `true` if the item is in the list, `false` otherwise.\n     * @see R.any\n     * @example\n     *\n     *      R.contains(3, [1, 2, 3]); //=> true\n     *      R.contains(4, [1, 2, 3]); //=> false\n     *      R.contains([42], [[42]]); //=> true\n     */\n    var contains = _curry2(_contains);\n\n    /**\n     * Finds the set (i.e. no duplicates) of all elements in the first list not contained in the second list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig [a] -> [a] -> [a]\n     * @param {Array} list1 The first list.\n     * @param {Array} list2 The second list.\n     * @return {Array} The elements in `list1` that are not in `list2`.\n     * @see R.differenceWith\n     * @example\n     *\n     *      R.difference([1,2,3,4], [7,6,5,4,3]); //=> [1,2]\n     *      R.difference([7,6,5,4,3], [1,2,3,4]); //=> [7,6,5]\n     */\n    var difference = _curry2(function difference(first, second) {\n        var out = [];\n        var idx = 0;\n        var firstLen = first.length;\n        while (idx < firstLen) {\n            if (!_contains(first[idx], second) && !_contains(first[idx], out)) {\n                out[out.length] = first[idx];\n            }\n            idx += 1;\n        }\n        return out;\n    });\n\n    /**\n     * Returns a new list without any consecutively repeating elements.\n     * `R.equals` is used to determine equality.\n     *\n     * Dispatches to the `dropRepeats` method of the first argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     * @see R.transduce\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category List\n     * @sig [a] -> [a]\n     * @param {Array} list The array to consider.\n     * @return {Array} `list` without repeating elements.\n     * @example\n     *\n     *     R.dropRepeats([1, 1, 1, 2, 3, 4, 4, 2, 2]); //=> [1, 2, 3, 4, 2]\n     */\n    var dropRepeats = _curry1(_dispatchable('dropRepeats', _xdropRepeatsWith(equals), dropRepeatsWith(equals)));\n\n    /**\n     * Combines two lists into a set (i.e. no duplicates) composed of those elements common to both lists.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig [a] -> [a] -> [a]\n     * @param {Array} list1 The first list.\n     * @param {Array} list2 The second list.\n     * @see R.intersectionWith\n     * @return {Array} The list of elements found in both `list1` and `list2`.\n     * @example\n     *\n     *      R.intersection([1,2,3,4], [7,6,5,4,3]); //=> [4, 3]\n     */\n    var intersection = _curry2(function intersection(list1, list2) {\n        return uniq(_filter(flip(_contains)(list1), list2));\n    });\n\n    /**\n     * \"lifts\" a function of arity > 1 so that it may \"map over\" an Array or\n     * other Functor.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.7.0\n     * @see R.liftN\n     * @category Function\n     * @sig (*... -> *) -> ([*]... -> [*])\n     * @param {Function} fn The function to lift into higher context\n     * @return {Function} The function `fn` applicable to mappable objects.\n     * @example\n     *\n     *      var madd3 = R.lift(R.curry((a, b, c) => a + b + c));\n     *\n     *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]\n     *\n     *      var madd5 = R.lift(R.curry((a, b, c, d, e) => a + b + c + d + e));\n     *\n     *      madd5([1,2], [3], [4, 5], [6], [7, 8]); //=> [21, 22, 22, 23, 22, 23, 23, 24]\n     */\n    var lift = _curry1(function lift(fn) {\n        return liftN(fn.length, fn);\n    });\n\n    /**\n     * Returns a partial copy of an object omitting the keys specified.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig [String] -> {String: *} -> {String: *}\n     * @param {Array} names an array of String property names to omit from the new object\n     * @param {Object} obj The object to copy from\n     * @return {Object} A new object with properties from `names` not on it.\n     * @see R.pick\n     * @example\n     *\n     *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}\n     */\n    var omit = _curry2(function omit(names, obj) {\n        var result = {};\n        for (var prop in obj) {\n            if (!_contains(prop, names)) {\n                result[prop] = obj[prop];\n            }\n        }\n        return result;\n    });\n\n    /**\n     * Returns the left-to-right Kleisli composition of the provided functions,\n     * each of which must return a value of a type supported by [`chain`](#chain).\n     *\n     * `R.pipeK(f, g, h)` is equivalent to `R.pipe(R.chain(f), R.chain(g), R.chain(h))`.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Function\n     * @see R.composeK\n     * @sig Chain m => ((a -> m b), (b -> m c), ..., (y -> m z)) -> (m a -> m z)\n     * @param {...Function}\n     * @return {Function}\n     * @example\n     *\n     *      //  parseJson :: String -> Maybe *\n     *      //  get :: String -> Object -> Maybe *\n     *\n     *      //  getStateCode :: Maybe String -> Maybe String\n     *      var getStateCode = R.pipeK(\n     *        parseJson,\n     *        get('user'),\n     *        get('address'),\n     *        get('state'),\n     *        R.compose(Maybe.of, R.toUpper)\n     *      );\n     *\n     *      getStateCode(Maybe.of('{\"user\":{\"address\":{\"state\":\"ny\"}}}'));\n     *      //=> Just('NY')\n     *      getStateCode(Maybe.of('[Invalid JSON]'));\n     *      //=> Nothing()\n     */\n    var pipeK = function pipeK() {\n        return composeK.apply(this, reverse(arguments));\n    };\n\n    /**\n     * Returns the string representation of the given value. `eval`'ing the output\n     * should result in a value equivalent to the input value. Many of the built-in\n     * `toString` methods do not satisfy this requirement.\n     *\n     * If the given value is an `[object Object]` with a `toString` method other\n     * than `Object.prototype.toString`, this method is invoked with no arguments\n     * to produce the return value. This means user-defined constructor functions\n     * can provide a suitable `toString` method. For example:\n     *\n     *     function Point(x, y) {\n     *       this.x = x;\n     *       this.y = y;\n     *     }\n     *\n     *     Point.prototype.toString = function() {\n     *       return 'new Point(' + this.x + ', ' + this.y + ')';\n     *     };\n     *\n     *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category String\n     * @sig * -> String\n     * @param {*} val\n     * @return {String}\n     * @example\n     *\n     *      R.toString(42); //=> '42'\n     *      R.toString('abc'); //=> '\"abc\"'\n     *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'\n     *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{\"bar\": 2, \"baz\": 3, \"foo\": 1}'\n     *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date(\"2001-02-03T04:05:06.000Z\")'\n     */\n    var toString = _curry1(function toString(val) {\n        return _toString(val, []);\n    });\n\n    /**\n     * Combines two lists into a set (i.e. no duplicates) composed of the\n     * elements of each list.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Relation\n     * @sig [a] -> [a] -> [a]\n     * @param {Array} as The first list.\n     * @param {Array} bs The second list.\n     * @return {Array} The first and second lists concatenated, with\n     *         duplicates removed.\n     * @example\n     *\n     *      R.union([1, 2, 3], [2, 3, 4]); //=> [1, 2, 3, 4]\n     */\n    var union = _curry2(compose(uniq, _concat));\n\n    /**\n     * Returns a new list containing only one copy of each element in the\n     * original list, based upon the value returned by applying the supplied\n     * function to each list element. Prefers the first item if the supplied\n     * function produces the same value on two items. `R.equals` is used for\n     * comparison.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category List\n     * @sig (a -> b) -> [a] -> [a]\n     * @param {Function} fn A function used to produce a value to use during comparisons.\n     * @param {Array} list The array to consider.\n     * @return {Array} The list of unique items.\n     * @example\n     *\n     *      R.uniqBy(Math.abs, [-1, -5, 2, 10, 1, 2]); //=> [-1, -5, 2, 10]\n     */\n    var uniqBy = _curry2(function uniqBy(fn, list) {\n        var idx = 0, applied = [], result = [], appliedItem, item;\n        while (idx < list.length) {\n            item = list[idx];\n            appliedItem = fn(item);\n            if (!_contains(appliedItem, applied)) {\n                result.push(item);\n                applied.push(appliedItem);\n            }\n            idx += 1;\n        }\n        return result;\n    });\n\n    /**\n     * A function wrapping calls to the two functions in an `&&` operation, returning the result of the first\n     * function if it is false-y and the result of the second function otherwise.\n     *\n     * `R.both` will work on all other applicatives as well.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category Logic\n     * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)\n     * @param {Function} f a predicate\n     * @param {Function} g another predicate\n     * @return {Function} a function that applies its arguments to `f` and `g` and `&&`s their outputs together.\n     * @see R.and\n     * @example\n     *\n     *      var gt10 = x => x > 10;\n     *      var even = x => x % 2 === 0;\n     *      var f = R.both(gt10, even);\n     *      f(100); //=> true\n     *      f(101); //=> false\n     */\n    var both = lift(and);\n\n    /**\n     * Takes a function `f` and returns a function `g` such that:\n     *\n     *   - applying `g` to zero or more arguments will give __true__ if applying\n     *     the same arguments to `f` gives a logical __false__ value; and\n     *\n     *   - applying `g` to zero or more arguments will give __false__ if applying\n     *     the same arguments to `f` gives a logical __true__ value.\n     *\n     * `R.complement` will work on all other functors as well.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category Logic\n     * @sig (*... -> *) -> (*... -> Boolean)\n     * @param {Function} f\n     * @return {Function}\n     * @see R.not\n     * @example\n     *\n     *      var isEven = n => n % 2 === 0;\n     *      var isOdd = R.complement(isEven);\n     *      isOdd(21); //=> true\n     *      isOdd(42); //=> false\n     */\n    var complement = lift(not);\n\n    /**\n     * A function wrapping calls to the two functions in an `||` operation, returning the result of the first\n     * function if it is truth-y and the result of the second function otherwise.\n     *\n     * `R.either` will work on all other applicatives as well.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @category Logic\n     * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)\n     * @param {Function} f a predicate\n     * @param {Function} g another predicate\n     * @return {Function} a function that applies its arguments to `f` and `g` and `||`s their outputs together.\n     * @see R.or\n     * @example\n     *\n     *      var gt10 = x => x > 10;\n     *      var even = x => x % 2 === 0;\n     *      var f = R.either(gt10, even);\n     *      f(101); //=> true\n     *      f(8); //=> true\n     */\n    var either = lift(or);\n\n    /**\n     * Turns a named method with a specified arity into a function\n     * that can be called directly supplied with arguments and a target object.\n     *\n     * The returned function is curried and accepts `arity + 1` parameters where\n     * the final parameter is the target object.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)\n     * @param {Number} arity Number of arguments the returned function should take\n     *        before the target object.\n     * @param {Function} method Name of the method to call.\n     * @return {Function} A new curried function.\n     * @example\n     *\n     *      var sliceFrom = R.invoker(1, 'slice');\n     *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'\n     *      var sliceFrom6 = R.invoker(2, 'slice')(6);\n     *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'\n     */\n    var invoker = _curry2(function invoker(arity, method) {\n        return curryN(arity + 1, function () {\n            var target = arguments[arity];\n            if (target != null && is(Function, target[method])) {\n                return target[method].apply(target, _slice(arguments, 0, arity));\n            }\n            throw new TypeError(toString(target) + ' does not have a method named \"' + method + '\"');\n        });\n    });\n\n    /**\n     * Returns a string made by inserting the `separator` between each\n     * element and concatenating all the elements into a single string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig String -> [a] -> String\n     * @param {Number|String} separator The string used to separate the elements.\n     * @param {Array} xs The elements to join into a string.\n     * @return {String} str The string made by concatenating `xs` with `separator`.\n     * @see R.split\n     * @example\n     *\n     *      var spacer = R.join(' ');\n     *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'\n     *      R.join('|', [1, 2, 3]);    //=> '1|2|3'\n     */\n    var join = invoker(1, 'join');\n\n    /**\n     * Creates a new function that, when invoked, caches the result of calling `fn` for a given\n     * argument set and returns the result. Subsequent calls to the memoized `fn` with the same\n     * argument set will not result in an additional call to `fn`; instead, the cached result\n     * for that set of arguments will be returned.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig (*... -> a) -> (*... -> a)\n     * @param {Function} fn The function to memoize.\n     * @return {Function} Memoized version of `fn`.\n     * @example\n     *\n     *      var count = 0;\n     *      var factorial = R.memoize(n => {\n     *        count += 1;\n     *        return R.product(R.range(1, n + 1));\n     *      });\n     *      factorial(5); //=> 120\n     *      factorial(5); //=> 120\n     *      factorial(5); //=> 120\n     *      count; //=> 1\n     */\n    var memoize = _curry1(function memoize(fn) {\n        var cache = {};\n        return function () {\n            var key = toString(arguments);\n            if (!_has(key, cache)) {\n                cache[key] = fn.apply(this, arguments);\n            }\n            return cache[key];\n        };\n    });\n\n    /**\n     * Splits a string into an array of strings based on the given\n     * separator.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category String\n     * @sig (String | RegExp) -> String -> [String]\n     * @param {String|RegExp} sep The pattern.\n     * @param {String} str The string to separate into an array.\n     * @return {Array} The array of strings from `str` separated by `str`.\n     * @see R.join\n     * @example\n     *\n     *      var pathComponents = R.split('/');\n     *      R.tail(pathComponents('/usr/local/bin/node')); //=> ['usr', 'local', 'bin', 'node']\n     *\n     *      R.split('.', 'a.b.c.xyz.d'); //=> ['a', 'b', 'c', 'xyz', 'd']\n     */\n    var split = invoker(1, 'split');\n\n    /**\n     * Determines whether a given string matches a given regular expression.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.12.0\n     * @see R.match\n     * @category String\n     * @sig RegExp -> String -> Boolean\n     * @param {RegExp} pattern\n     * @param {String} str\n     * @return {Boolean}\n     * @example\n     *\n     *      R.test(/^x/, 'xyz'); //=> true\n     *      R.test(/^y/, 'xyz'); //=> false\n     */\n    var test = _curry2(function test(pattern, str) {\n        if (!_isRegExp(pattern)) {\n            throw new TypeError('\\u2018test\\u2019 requires a value of type RegExp as its first argument; received ' + toString(pattern));\n        }\n        return _cloneRegExp(pattern).test(str);\n    });\n\n    /**\n     * The lower case version of a string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category String\n     * @sig String -> String\n     * @param {String} str The string to lower case.\n     * @return {String} The lower case version of `str`.\n     * @see R.toUpper\n     * @example\n     *\n     *      R.toLower('XYZ'); //=> 'xyz'\n     */\n    var toLower = invoker(0, 'toLowerCase');\n\n    /**\n     * The upper case version of a string.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.9.0\n     * @category String\n     * @sig String -> String\n     * @param {String} str The string to upper case.\n     * @return {String} The upper case version of `str`.\n     * @see R.toLower\n     * @example\n     *\n     *      R.toUpper('abc'); //=> 'ABC'\n     */\n    var toUpper = invoker(0, 'toUpperCase');\n\n    /**\n     * Returns the result of concatenating the given lists or strings.\n     *\n     * Dispatches to the `concat` method of the second argument, if present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig [a] -> [a] -> [a]\n     * @sig String -> String -> String\n     * @param {Array|String} a\n     * @param {Array|String} b\n     * @return {Array|String}\n     *\n     * @example\n     *\n     *      R.concat([], []); //=> []\n     *      R.concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n     *      R.concat('ABC', 'DEF'); // 'ABCDEF'\n     */\n    var concat = flip(invoker(1, 'concat'));\n\n    var R = {\n        F: F,\n        T: T,\n        __: __,\n        add: add,\n        addIndex: addIndex,\n        adjust: adjust,\n        all: all,\n        allPass: allPass,\n        allUniq: allUniq,\n        always: always,\n        and: and,\n        any: any,\n        anyPass: anyPass,\n        ap: ap,\n        aperture: aperture,\n        append: append,\n        apply: apply,\n        assoc: assoc,\n        assocPath: assocPath,\n        binary: binary,\n        bind: bind,\n        both: both,\n        call: call,\n        chain: chain,\n        clone: clone,\n        commute: commute,\n        commuteMap: commuteMap,\n        comparator: comparator,\n        complement: complement,\n        compose: compose,\n        composeK: composeK,\n        composeP: composeP,\n        concat: concat,\n        cond: cond,\n        construct: construct,\n        constructN: constructN,\n        contains: contains,\n        containsWith: containsWith,\n        converge: converge,\n        countBy: countBy,\n        createMapEntry: createMapEntry,\n        curry: curry,\n        curryN: curryN,\n        dec: dec,\n        defaultTo: defaultTo,\n        difference: difference,\n        differenceWith: differenceWith,\n        dissoc: dissoc,\n        dissocPath: dissocPath,\n        divide: divide,\n        drop: drop,\n        dropLast: dropLast,\n        dropLastWhile: dropLastWhile,\n        dropRepeats: dropRepeats,\n        dropRepeatsWith: dropRepeatsWith,\n        dropWhile: dropWhile,\n        either: either,\n        empty: empty,\n        eqBy: eqBy,\n        eqProps: eqProps,\n        equals: equals,\n        evolve: evolve,\n        filter: filter,\n        find: find,\n        findIndex: findIndex,\n        findLast: findLast,\n        findLastIndex: findLastIndex,\n        flatten: flatten,\n        flip: flip,\n        forEach: forEach,\n        fromPairs: fromPairs,\n        functions: functions,\n        functionsIn: functionsIn,\n        groupBy: groupBy,\n        gt: gt,\n        gte: gte,\n        has: has,\n        hasIn: hasIn,\n        head: head,\n        identical: identical,\n        identity: identity,\n        ifElse: ifElse,\n        inc: inc,\n        indexOf: indexOf,\n        init: init,\n        insert: insert,\n        insertAll: insertAll,\n        intersection: intersection,\n        intersectionWith: intersectionWith,\n        intersperse: intersperse,\n        into: into,\n        invert: invert,\n        invertObj: invertObj,\n        invoker: invoker,\n        is: is,\n        isArrayLike: isArrayLike,\n        isEmpty: isEmpty,\n        isNil: isNil,\n        isSet: isSet,\n        join: join,\n        keys: keys,\n        keysIn: keysIn,\n        last: last,\n        lastIndexOf: lastIndexOf,\n        length: length,\n        lens: lens,\n        lensIndex: lensIndex,\n        lensProp: lensProp,\n        lift: lift,\n        liftN: liftN,\n        lt: lt,\n        lte: lte,\n        map: map,\n        mapAccum: mapAccum,\n        mapAccumRight: mapAccumRight,\n        mapObj: mapObj,\n        mapObjIndexed: mapObjIndexed,\n        match: match,\n        mathMod: mathMod,\n        max: max,\n        maxBy: maxBy,\n        mean: mean,\n        median: median,\n        memoize: memoize,\n        merge: merge,\n        mergeAll: mergeAll,\n        min: min,\n        minBy: minBy,\n        modulo: modulo,\n        multiply: multiply,\n        nAry: nAry,\n        negate: negate,\n        none: none,\n        not: not,\n        nth: nth,\n        nthArg: nthArg,\n        objOf: objOf,\n        of: of,\n        omit: omit,\n        once: once,\n        or: or,\n        over: over,\n        pair: pair,\n        partial: partial,\n        partialRight: partialRight,\n        partition: partition,\n        path: path,\n        pathEq: pathEq,\n        pathOr: pathOr,\n        pick: pick,\n        pickAll: pickAll,\n        pickBy: pickBy,\n        pipe: pipe,\n        pipeK: pipeK,\n        pipeP: pipeP,\n        pluck: pluck,\n        prepend: prepend,\n        product: product,\n        project: project,\n        prop: prop,\n        propEq: propEq,\n        propIs: propIs,\n        propOr: propOr,\n        propSatisfies: propSatisfies,\n        props: props,\n        range: range,\n        reduce: reduce,\n        reduceRight: reduceRight,\n        reduced: reduced,\n        reject: reject,\n        remove: remove,\n        repeat: repeat,\n        replace: replace,\n        reverse: reverse,\n        scan: scan,\n        set: set,\n        slice: slice,\n        sort: sort,\n        sortBy: sortBy,\n        split: split,\n        splitEvery: splitEvery,\n        subtract: subtract,\n        sum: sum,\n        tail: tail,\n        take: take,\n        takeLast: takeLast,\n        takeLastWhile: takeLastWhile,\n        takeWhile: takeWhile,\n        tap: tap,\n        test: test,\n        times: times,\n        toLower: toLower,\n        toPairs: toPairs,\n        toPairsIn: toPairsIn,\n        toString: toString,\n        toUpper: toUpper,\n        transduce: transduce,\n        trim: trim,\n        type: type,\n        unapply: unapply,\n        unary: unary,\n        uncurryN: uncurryN,\n        unfold: unfold,\n        union: union,\n        unionWith: unionWith,\n        uniq: uniq,\n        uniqBy: uniqBy,\n        uniqWith: uniqWith,\n        unless: unless,\n        unnest: unnest,\n        update: update,\n        useWith: useWith,\n        values: values,\n        valuesIn: valuesIn,\n        view: view,\n        when: when,\n        where: where,\n        whereEq: whereEq,\n        wrap: wrap,\n        xprod: xprod,\n        zip: zip,\n        zipObj: zipObj,\n        zipWith: zipWith\n    };\n\n  /* TEST_ENTRY_POINT */\n\n  if (typeof exports === 'object') {\n    module.exports = R;\n  } else if (typeof define === 'function' && define.amd) {\n    define(function() { return R; });\n  } else {\n    this.R = R;\n  }\n\n}.call(this));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/dist/ramda.js\n **/","\r\nconst flyd = require('flyd')\r\n\r\nexport default function load() {\r\n  return {\r\n    attach: (vnode$) => {\r\n      flyd.on(f => {\r\n      \tf()\r\n      \tvnode$.end(true)\r\n      }, vnode$)\r\n    },\r\n    reattach: (vnode$) => {\r\n    },\r\n    dispose: () => {\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/load.js\n **/","const R = {\r\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\r\n}\r\nconst flyd = require('flyd')\r\n\r\n\r\n//// time driver module ----\r\nlet stateNames = ['pending', 'running', 'paused']\r\nlet timerPatch = (timeData, obj) => {\r\n  // TODO: Do a better implementation of this driver\r\n  let id = timeData.id\r\n  if (obj.periodic) {\r\n    if (obj.active && obj.active != timeData.active) {\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    } else if (!obj.active && obj.active != timeData.active) {\r\n      clearInterval(id)\r\n      id = null\r\n    } else if (obj.time != timeData.time) {\r\n      clearInterval(id)\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    } else if (id && obj.periodic != timeData.periodic) {\r\n      clearTimeout(id)\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    }\r\n  } else {\r\n    if (obj.active && obj.active != timeData.active) {\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    } else if (!obj.active && obj.active != timeData.active) {\r\n      clearTimeout(id)\r\n      id = null\r\n    } else if (obj.time != timeData.time) {\r\n      clearTimeout(id)\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    } else if (obj.periodic != timeData.periodic) {\r\n      clearInterval(id)\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    }\r\n  }\r\n  return {\r\n    id,\r\n    periodic: obj.periodic,\r\n    active: obj.active,\r\n    time: obj.time,\r\n    on: obj.on,\r\n    state: obj.state,\r\n  }\r\n}\r\n\r\nlet timerListPatch = (lastList, list) => {\r\n  // dispose removed timers\r\n  for (var name in lastList) {\r\n    if (!list[name]) {\r\n      if (lastList[name].periodic)\r\n        clearInterval(lastList[name].id)\r\n      else\r\n        clearTimeout(lastList[name].id)\r\n    }\r\n  }\r\n\r\n  return R.mapObjIndexed((obj, name) => timerPatch(lastList[name] || {}, obj), list)\r\n}\r\n\r\nexport default function time() {\r\n  // babel or JS bug the stack is deleted and listener$ in not accesible from attach\r\n  // solution use normal functions (not arrows) and merge listener$ in the object\r\n  // let listener$\r\n  return {\r\n    listener$: null,\r\n    attach: function (time$) {\r\n      this.listener$ = flyd.scan(timerListPatch, {}, time$)\r\n    },\r\n    reattach: function (time$) {\r\n      this.listener$ = flyd.scan(timerListPatch, {}, time$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/time.js\n **/","const flyd = require('flyd')\r\n\r\nexport default function localStorage(name) {\r\n  let listener$\r\n  return {\r\n    attach: (data$) => {\r\n      listener$ = flyd.on(data => {\r\n      \tlocalStorage.setItem(name, JSON.stringify(data))\r\n      }, data$)\r\n    },\r\n    reattach: (data$) => {\r\n      listener$.end(true)\r\n      listener$ = flyd.on(data => {\r\n        localStorage.setItem(name, JSON.stringify(data))\r\n      }, data$)\r\n    },\r\n    dispose: () => {\r\n      localStorage.removeItem(name)\r\n      listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/localStorage.js\n **/","const flyd = require('flyd')\r\nconst {screenInfo} = require('../../lib/utils/screenInfo')\r\n\r\n// difing is not necesary beacuse there is no use case in that the screen size has a bunch of changes\r\nexport default function screenInfoDriver() {\r\n  return {\r\n    listener$: null,\r\n    screenListener: null,\r\n    attach: function (screen$) {\r\n      this.listener$ = flyd.on(list => {\r\n        this.screenListener = () => {\r\n          let info = screenInfo()\r\n          for (let key in list) {\r\n            list[key].on(info)\r\n          }\r\n        }\r\n        window.addEventListener('resize', this.screenListener)\r\n      }, screen$)\r\n    },\r\n    reattach: function (screen$) {\r\n      this.listener$ = flyd.on(list => {\r\n        this.screenListener = () => {\r\n          let info = screenInfo()\r\n          for (let key in list) {\r\n            list[key].on(info)\r\n          }\r\n        }\r\n        window.addEventListener('resize', this.screenListener)\r\n      }, screen$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n      window.removeEventListener('resize', this.screenListener)\r\n      this.screenListener = null\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/screenInfo.js\n **/","// Helper functions taken from https://github.com/garth/snabbdom-material/tree/master/src/helpers\r\n\r\nlet screenSize = () => {\r\n  return {\r\n    width: (!!window && (window.innerWidth || document.body.clientWidth)) || 1024,\r\n    height: (!!window && (window.innerHeight || document.body.clientHeight)) || 768\r\n  }\r\n}\r\n\r\nconst types = [ 'xs', 'sm', 'md', 'lg' ]\r\n\r\nlet screenInfo = () => {\r\n  const { width, height } = screenSize()\r\n  const size = width >= 1200 ? 4 : width >= 992 ? 3 : width >= 768 ? 2 : 1\r\n\r\n  return {\r\n    size,\r\n    type: types[size - 1],\r\n    isLandscape: width >= height,\r\n    isPortrait: width < height\r\n  }\r\n}\r\n\r\nexport default {\r\n  screenSize,\r\n  screenInfo,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/screenInfo.js\n **/"],"sourceRoot":""}