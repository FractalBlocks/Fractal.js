{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 467eaba5551ca502dfe4","webpack:///./lib/index.js","webpack:///./lib/core.js","webpack:///./lib/utils/style.js","webpack:///./~/free-style/dist/free-style.js","webpack:///./~/process/browser.js","webpack:///./~/union-type/union-type.js","webpack:///./~/union-type/~/ramda/src/curryN.js","webpack:///./~/union-type/~/ramda/src/internal/_curry2.js","webpack:///./~/union-type/~/ramda/src/internal/_curry1.js","webpack:///./~/union-type/~/ramda/src/internal/_curryN.js","webpack:///./~/union-type/~/ramda/src/arity.js","webpack:///./lib/utils/composing.js","webpack:///./~/flyd/lib/index.js","webpack:///./~/flyd/~/ramda/src/curryN.js","webpack:///./~/flyd/~/ramda/src/internal/_arity.js","webpack:///./~/flyd/~/ramda/src/internal/_curry1.js","webpack:///./~/flyd/~/ramda/src/internal/_isPlaceholder.js","webpack:///./~/flyd/~/ramda/src/internal/_curry2.js","webpack:///./~/flyd/~/ramda/src/internal/_curryN.js","webpack:///./~/ramda/src/mapObjIndexed.js","webpack:///./~/ramda/src/internal/_curry2.js","webpack:///./~/ramda/src/internal/_curry1.js","webpack:///./~/ramda/src/internal/_reduce.js","webpack:///./~/ramda/src/internal/_xwrap.js","webpack:///./~/ramda/src/bind.js","webpack:///./~/ramda/src/internal/_arity.js","webpack:///./~/ramda/src/isArrayLike.js","webpack:///./~/ramda/src/internal/_isArray.js","webpack:///./~/ramda/src/keys.js","webpack:///./~/ramda/src/internal/_has.js","webpack:///./~/ramda/src/clone.js","webpack:///./~/ramda/src/internal/_clone.js","webpack:///./~/ramda/src/internal/_cloneRegExp.js","webpack:///./~/ramda/src/type.js","webpack:///./~/ramda/src/map.js","webpack:///./~/ramda/src/internal/_dispatchable.js","webpack:///./~/ramda/src/internal/_isTransformer.js","webpack:///./~/ramda/src/internal/_slice.js","webpack:///./~/ramda/src/internal/_map.js","webpack:///./~/ramda/src/internal/_xmap.js","webpack:///./~/ramda/src/internal/_xfBase.js","webpack:///./~/ramda/src/curryN.js","webpack:///./~/ramda/src/internal/_curryN.js","webpack:///./~/ramda/src/merge.js","webpack:///./~/ramda/src/equals.js","webpack:///./~/ramda/src/internal/_equals.js","webpack:///./~/ramda/src/internal/_arrayFromIterator.js","webpack:///./~/ramda/src/identical.js","webpack:///./~/ramda/src/dissoc.js","webpack:///./~/ramda/src/evolve.js","webpack:///./~/ramda/src/adjust.js","webpack:///./~/ramda/src/internal/_concat.js","webpack:///./~/ramda/src/internal/_curry3.js","webpack:///./~/ramda/src/append.js","webpack:///./~/ramda/src/remove.js","webpack:///./~/ramda/src/T.js","webpack:///./~/ramda/src/always.js","webpack:///./lib/engine.js","webpack:///./lib/utils/logdiff.js","webpack:///./~/deep-diff/index.js","webpack:///./lib/modules/timetravel.js","webpack:///./~/ramda/src/not.js","webpack:///./~/ramda/src/F.js","webpack:///./~/ramda/src/inc.js","webpack:///./~/ramda/src/add.js","webpack:///./~/ramda/src/ifElse.js","webpack:///./~/ramda/src/update.js","webpack:///./~/snabbdom/h.js","webpack:///./~/snabbdom/vnode.js","webpack:///./~/snabbdom/is.js","webpack:///./~/ramda/src/pipe.js","webpack:///./~/ramda/src/internal/_pipe.js","webpack:///./~/ramda/src/reduce.js","webpack:///./~/ramda/src/tail.js","webpack:///./~/ramda/src/internal/_checkForMethod.js","webpack:///./~/ramda/src/slice.js","webpack:///./lib/service.js","webpack:///./lib/utils/data.js","webpack:///./~/ramda/src/curry.js","webpack:///./lib/modules/noChildren.js","webpack:///./lib/utils/test.js","webpack:///./lib/tasks/view.js","webpack:///./lib/tasks/data.js","webpack:///./lib/tasks/value.js","webpack:///./lib/tasks/emitter.js","webpack:///./lib/tasks/fetch.js","webpack:///./lib/tasks/file.js","webpack:///./lib/drivers/view.js","webpack:///./~/snabbdom/snabbdom.js","webpack:///./~/snabbdom/htmldomapi.js","webpack:///./~/snabbdom/modules/class.js","webpack:///./~/snabbdom/modules/attributes.js","webpack:///./~/snabbdom/modules/props.js","webpack:///./~/snabbdom/modules/eventlisteners.js","webpack:///./~/snabbdom/modules/style.js","webpack:///./lib/drivers/event.js","webpack:///./lib/drivers/listenable.js","webpack:///./lib/drivers/load.js","webpack:///./lib/drivers/time.js","webpack:///./lib/drivers/localStorage.js","webpack:///./lib/drivers/screenInfo.js","webpack:///./lib/utils/screenInfo.js"],"names":["require","default","flyd","h","timetravel","service","noChildren","data","style","tasks","view","value","emitter","fetch","file","drivers","event","listenable","load","time","localStorage","screenInfo","R","clone","evolve","adjust","append","remove","T","def","mDef","moduleDef","name","hasOwnProperty","log","logAll","ns","animation","styles","styleInstance","createStyle","animations","registerAnimations","rs","dispose","Style","container","actions","_ChildAction","String","Array","update","a","m","_ChildActionScoped","scope","_DynamicChildAction","Number","idx","_DynamicChildAdd","initialState","_DynamicChildRemove","Action","actionName","caseOn","inputs","_action","ctx","length","_childAction","_childActionScoped","_dynamicChildAction","_dynamicChildAdd","_dynamicChildRemove","outputNames","i","loadAfter","md","modules","groupedModules","dynamicModules","wrappableInit","init","state","mergeModels","wrappableLoad","mds","mergeAll","root","FreeStyle","document","getElementById","createStylesContainer","target","id","createElement","appendChild","head","createModuleStylesContainer","console","warn","namespace","create","stringHash","s","setNamespace","r","styleName","styleObj","classHash","registerStyle","hasBaseObject","obj","key","moduleName","stylesObj","rs_func","classObj","styleElement","textContent","getStyles","animationsObj","registerKeyframes","noSelectable","absoluteCenter","display","alignItems","justifyContent","__extends","d","b","p","__","constructor","prototype","Object","instanceId","uniqueId","exports","IS_UNIQUE","CSS_NUMBER","_i","_a","prefix","_b","_c","keys","property","hyphenate","propertyName","replace","toLowerCase","isAtRule","charAt","isNestedStyle","isArray","str","charCodeAt","toString","styleToString","sortTuples","sort","parseUserStyles","hasNestedStyles","properties","nestedStyles","isUnique","push","trim","stringifyProperties","result","_loop_1","name_1","filter","x","map","join","properties_1","interpolate","selector","parent","indexOf","collectHashedStyles","userStyles","isStyle","displayName","stylize","cache","styleString","pid","hash","undefined","add","nestedStyles_1","name_2","rule","Rule","Cache","styles_1","cache_1","get","Selector","merge","registerUserStyles","registerUserRule","TypeError","nestedStyles_2","name_3","registerUserHashedRule","bucket","atRule","values","changeId","_children","_keys","_counts","_this","count","item","getIdentifier","splice","prevChangeId","unmerge","_super","call","debug","keyframes","registerRule","process","env","NODE_ENV","module","cachedSetTimeout","cachedClearTimeout","setTimeout","e","Error","clearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","fun","args","arguments","Item","array","apply","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","curryN","isString","isNumber","n","isObject","type","isFunction","f","mapConstrToFn","group","constr","Function","Constructor","validators","val","v","validator","of","rawCase","cases","action","arg","typeCase","Type","desc","case","_curry2","_curryN","arity","fn","_curry1","f2","f1","received","combined","argsIdx","left","combinedIdx","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","mapObjIndexed","equals","dissoc","connectInterface","connections","interfaces","mergeChilds","childs","interfaceName","objs","mergeChild","addModuleInfo","_moduleName","_log","_logAll","mDefinition","action$","stream","task$","dispatch$","forEach","t","_md","connectTasksToModules","connectTasks","task","subName","connectTasksToModules_func","mergeList","moduleNames","interfaceObj","rootModel","mergeGroup","groupName","mapObjToArray","arr","childDefs","connectionsFn","connectionsMiddleFn","_module","mergeDynamicList","interfaceFn","remove$","trueFn","toUpdate","inStream","order","orderNextIdx","flushing","initialValue","endStream","createDependentStream","createStream","end","fnArgs","listeners","combine","streams","deps","depEndStreams","depsChanged","addListeners","updateStream","isStream","immediate","depsMet","endsOn","endS","detachDeps","self","scan","acc","hasVal","s1","s2","changed","transduce","xform","source","StreamTransformer","res","boundMap","ap","streamToString","updateStreamValue","vals","queued","shouldUpdate","initialDepsNotMet","every","returnVal","flushUpdate","updateDeps","o","list","findDeps","shift","then","markListeners","lists","_arity","_isPlaceholder","_reduce","_xwrap","bind","isArrayLike","_arrayReduce","xf","_iterableReduce","iter","step","next","done","_methodReduce","reduce","symIterator","Symbol","iterator","XWrap","thisObj","_isArray","nodeType","_has","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","contains","prop","ks","nIdx","_clone","_cloneRegExp","refFrom","refTo","copy","copiedValue","Date","pattern","RegExp","global","ignoreCase","multiline","sticky","unicode","slice","_dispatchable","_map","_xmap","functor","_isTransformer","_slice","methodname","transducer","from","to","Math","max","min","_xfBase","XMap","input","_equals","_arrayFromIterator","identical","stackA","stackB","valueOf","entries","keysA","pop","transformations","object","transformation","_concat","_curry3","start","_idx","_list","set1","set2","len1","len2","f3","c","el","always","pipe","state$","driverStreams","middleUpdatesArr","middleware","engineDef","middleUpdates","attach","newState","_initial","actionInfo","serviceName","services","taskName","driverName","reattach","disposeConnections","reModule","prettyAction","prettyActionDetailed","actionModuleInfo","prettyParams","prettyDiff","logAction","displayFromDiff","diff","modulePath","lastAction","path","nested","params","paramString","param","diffArray","logs","getType","kind","index","lhs","rhs","factory","define","DeepDiff","$scope","conflict","conflictResolution","window","accumulateDiff","inherits","ctor","superCtor","super_","enumerable","writable","configurable","Diff","defineProperty","DiffEdit","origin","DiffNew","DiffDeleted","DiffArray","arrayRemove","rest","realTypeOf","subject","test","deepDiff","changes","prefilter","stack","currentPath","normalize","alt","ltype","rtype","akeys","pkeys","k","other","isNaN","accum","applyArrayChange","change","it","u","applyChange","last","revertArrayChange","revertChange","applyDiff","onChange","defineProperties","observableDiff","isConflict","noConflict","not","F","inc","ifElse","child","active","playing","frameTime","opened","history","timestamp","getTime","toggleTimeTravel","_","ToggleTimeTravel","setTime","SetTime","childAction","ChildAction","setActive","bool","SetActive","clearHistory","ClearHistory","play","Play","frame","Frame","createContext","validTime","nextState","evolveFn","width","height","overflow","toggleButton","click","base","controls","button","slider","props","parseInt","ev","timer","periodic","timers","fetches","position","minHeight","bottom","zIndex","flexWrap","float","condition","onTrue","onFalse","_ifElse","VNode","is","addNS","children","sel","text","primitive","elm","_pipe","tail","g","_checkForMethod","Infinity","fromIndex","toIndex","curry","defObj","isQueued","subscribed","serverName","store","_initialNotify","eventQueue","subscribers","events","notify","cbObj","connected","connect","subscriber","parts","split","subscribeAll","subs","_tasks","_drivers","connectionInfo","success","promises","Promise","resolve","reject","all","fetchObj","handled","status","response","error","statusText","url","options","catch","err","fetchAll","promiseArray","logVal","types","setFocused","addWindowListener","removeWindowListener","rootSelector","taskFn","elementSelector","focused","elements","querySelectorAll","focus","blur","eventName","subsfn","addEventListener","removeEventListener","emitData","send","sendValue","emt","channel","message","set","read","reader","FileReader","onload","contents","onerror","readAsText","patch","patchfn","lastContainer","renderer$","vnode$","querySelector","vnode","domApi","isUndef","isDef","emptyNode","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","hooks","api","j","cbs","emptyNodeAt","className","tagName","createRmCb","childElm","parentNode","removeChild","createElm","insertedVnodeQueue","hook","hashIdx","dotIdx","dot","tag","createElementNS","createTextNode","insert","addVnodes","parentElm","before","vnodes","startIdx","insertBefore","invokeDestroyHook","destroy","removeVnodes","rm","ch","updateChildren","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","patchVnode","nextSibling","oldVnode","prepatch","setTextContent","postpatch","pre","post","namespaceURI","qualifiedName","newNode","referenceNode","node","parentElement","updateClass","cur","oldClass","class","klass","classList","NamespaceURIs","booleanAttrs","booleanAttrsDict","updateAttrs","old","oldAttrs","attrs","namespaceSplit","removeAttribute","setAttributeNS","setAttribute","updateProps","oldProps","invokeHandler","handler","handleEvent","createListener","updateEventListeners","oldOn","oldListener","listener","oldElm","raf","requestAnimationFrame","nextFrame","setNextFrame","updateStyle","oldStyle","oldHasDel","delayed","applyDestroyStyle","applyRemoveStyle","maxDur","compStyle","amount","applied","getComputedStyle","cb","listener$","event$","l","setSubscribers","setListeners","listenerName","listenerArr","stateNames","timerPatch","timeData","setInterval","clearInterval","timerListPatch","lastList","time$","data$","setItem","JSON","stringify","removeItem","screenInfoDriver","screenListener","screen$","info","screenSize","innerWidth","body","clientWidth","innerHeight","clientHeight","size","isLandscape","isPortrait"],"mappings":"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","file":"fractal.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fractal\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fractal\"] = factory();\n\telse\n\t\troot[\"fractal\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 467eaba5551ca502dfe4\n **/","'use strict'\n\nexport default {\n  ...require('./core').default,\n  ...require('./engine').default,\n  ...require('./utils/composing').default,\n  flyd: require('flyd'),\n  h: require('snabbdom/h'),\n  timetravel: require('./modules/timetravel').default,\n  service: require('./service').default,\n  noChildren: require('./modules/noChildren').default,\n  // serviceTest: require('./serviceTest').default, (Drafted)\n  // router: require('./router').default,\n  ...require('./utils/test').default,\n  data: require('./utils/data').default,\n  style: require('./utils/style').default,\n  tasks: {\n    view: require('./tasks/view').default,\n    data: require('./tasks/data').default,\n    value: require('./tasks/value').default,\n    emitter: require('./tasks/emitter').default,\n    fetch: require('./tasks/fetch').default,\n    file: require('./tasks/file').default,\n  },\n  drivers: {\n    view: require('./drivers/view').default,\n    event: require('./drivers/event').default,\n    listenable: require('./drivers/listenable').default,\n    load: require('./drivers/load').default,\n    time: require('./drivers/time').default, // NEEDS REVIEW!! (maybe depreecated.default)\n    localStorage: require('./drivers/localStorage').default,\n    screenInfo: require('./drivers/screenInfo').default,\n  },\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.js\n **/","import style from './utils/style'\r\nimport Type from 'union-type'\r\nimport F from './utils/composing'\r\n\r\nconst R = {\r\n  clone: require('ramda/src/clone'),\r\n  evolve: require('ramda/src/evolve'),\r\n  adjust: require('ramda/src/adjust'),\r\n  append: require('ramda/src/append'),\r\n  remove: require('ramda/src/remove'),\r\n  T: require('ramda/src/T'),\r\n}\r\n\r\n\r\nlet def = moduleDef => {\r\n  let mDef = R.clone(moduleDef)\r\n  mDef.name = (mDef.hasOwnProperty('name')) ? mDef.name : 'UnamedModule'\r\n  mDef.log = (mDef.hasOwnProperty('log')) ? mDef.log : false\r\n  mDef.logAll = (mDef.hasOwnProperty('logAll')) ? mDef.logAll : false\r\n\r\n  // 'ns' is the namespace for keyFrames and may be other stuff\r\n  let ns = { animation: {} }\r\n  if (mDef.styles) {\r\n    mDef.styleInstance = style.createStyle(style.styles, mDef.name)\r\n  }\r\n  if (mDef.animations) {\r\n    ns.animations = style.registerAnimations(mDef.name, mDef.styleInstance, mDef.animations)\r\n  }\r\n  if (mDef.styles) {\r\n    mDef.styles = style.rs(mDef.name, mDef.styleInstance, (typeof(mDef.styles) === 'function') ? mDef.styles(ns) : mDef.styles)\r\n    mDef.dispose = () => {\r\n      mDef.styleInstance.Style.remove(mDef.styleInstance.Style)\r\n      mDef.styleInstance.container.remove()\r\n    }\r\n  } else {\r\n    mDef.styles = {}\r\n    mDef.dispose = () => 0\r\n  }\r\n\r\n  if (!mDef.actions) {\r\n    mDef.actions = {}\r\n  }\r\n  // default actions\r\n  mDef.actions._ChildAction = [[String, R.T, Array], (name, update, a, m) => R.evolve({[name]: update(a)}, m)]\r\n  mDef.actions._ChildActionScoped = [[String, String, R.T, Array], (scope, name, update, a, m) => R.evolve({[scope]: R.evolve({ [name]: update(a) })}, m)]\r\n  mDef.actions._DynamicChildAction = [[String, R.T, Number, Array], (scope, update, idx, a, m) => R.evolve({[scope]: R.adjust(update(a), idx)}, m)]\r\n  mDef.actions._DynamicChildAdd = [[String, R.T], (scope, initialState, m) => R.evolve({[scope]: R.append(initialState)}, m)]\r\n  mDef.actions._DynamicChildRemove = [[String, Number], (scope, idx, m) => R.evolve({[scope]: R.remove(idx, 1)}, m)]\r\n  mDef.Action = {}\r\n  mDef.update = {}\r\n  for (let actionName in mDef.actions) {\r\n    mDef.Action[actionName] = mDef.actions[actionName][0]\r\n    mDef.update[actionName] = mDef.actions[actionName][1]\r\n  }\r\n  mDef.Action = Type(mDef.Action)\r\n  mDef.update = mDef.Action.caseOn(mDef.update)\r\n  if (!mDef.inputs) {\r\n    mDef.inputs = {}\r\n  }\r\n  // -- default inputs\r\n  // static inputs\r\n  mDef.inputs._action = (ctx, Action, name, data) => (Action[name].length > 0) ? Action[name](data) : Action[name]()\r\n  mDef.inputs._childAction = (ctx, Action, name, update, a) => Action._ChildAction(name, update, a)\r\n  mDef.inputs._childActionScoped = (ctx, Action, scope, name, update, a) => Action._ChildActionScoped(scope, name, update, a)\r\n  // dynamic inputs\r\n  mDef.inputs._dynamicChildAction = (ctx, Action, scope, update, idx, a) => Action._DynamicChildAction(scope, update, idx, a)\r\n  mDef.inputs._dynamicChildAdd = (ctx, Action, scope, initialState) => Action._DynamicChildAdd(scope, initialState)\r\n  mDef.inputs._dynamicChildRemove = (ctx, Action, scope, idx) => Action._DynamicChildRemove(scope, idx)\r\n  if (!mDef.outputNames) {\r\n    mDef.outputNames = []\r\n  }\r\n  if (!mDef.load) {\r\n    mDef.load = (ctx, i, Action) => ({})\r\n  }\r\n  if (!mDef.loadAfter) {\r\n    mDef.loadAfter = (ctx, i, Action, md) => md({})\r\n  }\r\n  // Composition\r\n  if (mDef.modules || mDef.groupedModules || mDef.dynamicModules) {\r\n    let wrappableInit = mDef.init\r\n    mDef.init = (...args) => {\r\n      let state = ({\r\n        ...wrappableInit(...args),\r\n        ...(mDef.modules) ? F.mergeModels(mDef.modules): {},\r\n      })\r\n      if (mDef.groupedModules) {\r\n        for (let scope in mDef.groupedModules) {\r\n          state[scope] = F.mergeModels(mDef.groupedModules[scope])\r\n        }\r\n      }\r\n      if (mDef.dynamicModules) {\r\n        for (let scope in mDef.dynamicModules) {\r\n          if (!state[scope]) {\r\n            state[scope] = []\r\n          }\r\n        }\r\n      }\r\n      return state\r\n    }\r\n    let wrappableLoad = mDef.load\r\n    mDef.load = (ctx, i, Action) => {\r\n      let mds = ({\r\n        ...wrappableLoad(ctx, i, Action),\r\n        ...(mDef.modules) ? F.mergeAll(mDef.modules, i): {},\r\n      })\r\n      if (mDef.groupedModules) {\r\n        for (let scope in mDef.groupedModules) {\r\n          mds[scope] = F.mergeAll(mDef.groupedModules[scope], i, scope)\r\n        }\r\n      }\r\n      if (mDef.dynamicModules) {\r\n        mds.dynamicModules = {}\r\n        for (let scope in mDef.dynamicModules) {\r\n          mds.dynamicModules[scope] = (mDef.dynamicModules[scope].root) ? mDef.dynamicModules[scope].root : mDef.dynamicModules[scope]\r\n        }\r\n      }\r\n      return mds\r\n    }\r\n  }\r\n  mDef.mDef = moduleDef\r\n  return mDef\r\n}\r\n\r\nexport default {\r\n  def,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/core.js\n **/","// A set of css useful function helpers\nconst FreeStyle = require('free-style')\n\n// the div element for injecting styles\nlet styles = document.getElementById('F-app-styles')\n\nfunction createStylesContainer(target, id) {\n  let styles = document.createElement('div')\n  styles.id = id\n  target.appendChild(styles)\n  return styles\n}\n\nif (!styles) {\n  styles = createStylesContainer(document.head, 'F-app-styles')\n}\n\nfunction createModuleStylesContainer(styles, name, scope = '') {\n  let container = document.createElement('div')\n  if (document.getElementById('fractalModuleStyles_' + scope + name)) {\n    console.warn('WARNING!!! there are a duplicated module definition name!!: ' + scope + name)\n  }\n  container.id = scope + name\n  styles.appendChild(container)\n  return container\n}\n\nfunction createStyle(styles, name, scope = '') {\n  let namespace = ''\n  return {\n    Style: FreeStyle.create(s => `_${namespace}__${FreeStyle.stringHash(s)}`),\n    container: createModuleStylesContainer(styles, name, scope),\n    setNamespace: ns => namespace = ns,\n  }\n}\n\n\nfunction r(styleInstance, styleName, styleObj) {\n  styleInstance.setNamespace(styleName)\n  let classHash = styleInstance.Style.registerStyle(styleObj)\n  return classHash\n}\n\nfunction hasBaseObject(obj) {\n  for (let key in obj) {\n    if (obj[key] !== null && typeof obj[key] === 'object' && key == 'base') {\n      return true\n    }\n  }\n  return false\n}\n\nfunction rs(moduleName, styleInstance, stylesObj) {\n  function rs_func(styleName, stylesObj) {\n    if (!hasBaseObject(stylesObj)) {\n      return r(styleInstance, styleName, stylesObj)\n    }\n    let classObj = {}\n    for (let key in stylesObj) {\n      if (hasBaseObject(stylesObj[key])) {\n        classObj[key] = rs_func(`${styleName}_${key}`, stylesObj[key])\n      } else if (stylesObj[key] != null && typeof stylesObj[key] === 'object') {\n        classObj[key] = r(styleInstance, `${styleName}_${key}`, stylesObj[key])\n      } else { // function\n        classObj[key] = stylesObj[key]\n      }\n    }\n    return classObj\n  }\n\n  let classObj = rs_func(moduleName, stylesObj)\n\n  let styleElement = document.createElement('style')\n  styleElement.textContent = styleInstance.Style.getStyles()\n  styleInstance.container.appendChild(styleElement)\n\n  return classObj\n}\n\nfunction registerAnimations(moduleName, styleInstance, animationsObj) {\n  let animations = {}\n  for (let key in animationsObj) {\n    styleInstance.setNamespace(`${moduleName}-${key}`)\n    animations[key] = styleInstance.Style.registerKeyframes(animationsObj[key])\n  }\n  return animations\n}\n\nlet noSelectable = {\n  '-webkit-touch-callout': 'none', /* iOS Safari */\n  '-webkit-user-select': 'none',   /* Chrome/Safari/Opera */\n  '-khtml-user-select': 'none',    /* Konqueror */\n  '-moz-user-select': 'none',      /* Firefox */\n  '-ms-user-select': 'none',       /* Internet Explorer/Edge */\n  'user-select': 'none',\n}\n\nlet absoluteCenter = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n}\n\nexport default {\n  styles,\n  r,\n  rs,\n  registerAnimations,\n  createStyle,\n  createStylesContainer,\n  createModuleStylesContainer,\n  hasBaseObject,\n  // helpers\n  absoluteCenter,\n  noSelectable,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/style.js\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * Increment through IDs for FreeStyle, which can't generate hashed IDs.\n */\nvar instanceId = 0;\n/**\n * The unique id is used to get a unique hash on styles (no merging).\n */\nvar uniqueId = 0;\n/**\n * Tag styles with this string to get unique hash outputs.\n */\nexports.IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__';\n/**\n * CSS properties that are valid unit-less numbers.\n */\nvar CSS_NUMBER = {\n    'animation-iteration-count': true,\n    'box-flex': true,\n    'box-flex-group': true,\n    'column-count': true,\n    'counter-increment': true,\n    'counter-reset': true,\n    'flex': true,\n    'flex-grow': true,\n    'flex-positive': true,\n    'flex-shrink': true,\n    'flex-negative': true,\n    'font-weight': true,\n    'line-clamp': true,\n    'line-height': true,\n    'opacity': true,\n    'order': true,\n    'orphans': true,\n    'tab-size': true,\n    'widows': true,\n    'z-index': true,\n    'zoom': true,\n    // SVG properties.\n    'fill-opacity': true,\n    'stroke-dashoffset': true,\n    'stroke-opacity': true,\n    'stroke-width': true\n};\n// Add vendor prefixes to all unit-less properties.\nfor (var _i = 0, _a = ['-webkit-', '-ms-', '-moz-', '-o-']; _i < _a.length; _i++) {\n    var prefix = _a[_i];\n    for (var _b = 0, _c = Object.keys(CSS_NUMBER); _b < _c.length; _b++) {\n        var property = _c[_b];\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(/([A-Z])/g, '-$1')\n        .replace(/^ms-/, '-ms-') // Internet Explorer vendor prefix.\n        .toLowerCase();\n}\n/**\n * Check if a property name should pop to the top level of CSS.\n */\nfunction isAtRule(propertyName) {\n    return propertyName.charAt(0) === '@';\n}\n/**\n * Check if a value is a nested style definition.\n */\nfunction isNestedStyle(value) {\n    return value != null && typeof value === 'object' && !Array.isArray(value);\n}\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    var value = 5381;\n    var i = str.length;\n    while (i) {\n        value = (value * 33) ^ str.charCodeAt(--i);\n    }\n    return (value >>> 0).toString(36);\n}\nexports.stringHash = stringHash;\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(name, value) {\n    if (typeof value === 'number' && value !== 0 && !CSS_NUMBER[name]) {\n        value = value + \"px\";\n    }\n    return name + \":\" + String(value).replace(/([\\{\\}\\[\\]])/g, '\\\\$1');\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort(function (a, b) { return a[0] > b[0] ? 1 : -1; });\n}\n/**\n * Categorize user styles.\n */\nfunction parseUserStyles(styles, hasNestedStyles) {\n    var properties = [];\n    var nestedStyles = [];\n    var isUnique = false;\n    // Sort keys before adding to styles.\n    for (var _i = 0, _a = Object.keys(styles); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = styles[key];\n        if (key === exports.IS_UNIQUE) {\n            isUnique = !!value;\n        }\n        else if (isNestedStyle(value)) {\n            nestedStyles.push([key.trim(), value]);\n        }\n        else {\n            properties.push([hyphenate(key.trim()), value]);\n        }\n    }\n    return {\n        properties: sortTuples(properties),\n        nestedStyles: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: isUnique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    var result = [];\n    var _loop_1 = function (name_1, value) {\n        if (value != null) {\n            if (Array.isArray(value)) {\n                result.push(value.filter(function (x) { return x != null; }).map(function (x) { return styleToString(name_1, x); }).join(';'));\n            }\n            else {\n                result.push(styleToString(name_1, value));\n            }\n        }\n    };\n    for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n        var _a = properties_1[_i], name_1 = _a[0], value = _a[1];\n        _loop_1(name_1, value);\n    }\n    return result.join(';');\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf('&') > -1) {\n        return selector.replace(/&/g, parent);\n    }\n    return parent + \" \" + selector;\n}\n/**\n * Register all styles, but collect for post-selector correction using the hash.\n */\nfunction collectHashedStyles(container, userStyles, isStyle, displayName) {\n    var styles = [];\n    function stylize(cache, userStyles, selector) {\n        var _a = parseUserStyles(userStyles, isStyle), properties = _a.properties, nestedStyles = _a.nestedStyles, isUnique = _a.isUnique;\n        var styleString = stringifyProperties(properties);\n        var pid = styleString;\n        // Only create style instances when styles exists.\n        if (styleString) {\n            var style = new Style(styleString, cache.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined);\n            cache.add(style);\n            styles.push([cache, selector, style]);\n        }\n        for (var _i = 0, nestedStyles_1 = nestedStyles; _i < nestedStyles_1.length; _i++) {\n            var _b = nestedStyles_1[_i], name_2 = _b[0], value = _b[1];\n            pid += name_2;\n            if (isAtRule(name_2)) {\n                var rule = cache.add(new Rule(name_2, undefined, cache.hash));\n                pid += stylize(rule, value, selector);\n            }\n            else {\n                pid += stylize(cache, value, isStyle ? interpolate(name_2, selector) : name_2);\n            }\n        }\n        return pid;\n    }\n    // Create a temporary cache to handle changes/mutations before re-assigning later.\n    var cache = new Cache(container.hash);\n    var pid = stylize(cache, userStyles, '&');\n    var hash = \"f\" + cache.hash(pid);\n    var id = displayName ? displayName + \"_\" + hash : hash;\n    for (var _i = 0, styles_1 = styles; _i < styles_1.length; _i++) {\n        var _a = styles_1[_i], cache_1 = _a[0], selector = _a[1], style = _a[2];\n        var key = isStyle ? interpolate(selector, \".\" + id) : selector;\n        cache_1.get(style).add(new Selector(key, style.hash, undefined, pid));\n    }\n    container.merge(cache);\n    return { pid: pid, id: id };\n}\n/**\n * Recursively register styles on a container instance.\n */\nfunction registerUserStyles(container, styles, displayName) {\n    return collectHashedStyles(container, styles, true, displayName).id;\n}\n/**\n * Create user rule. Simplified collection of styles, since it doesn't need a unique id hash.\n */\nfunction registerUserRule(container, selector, styles) {\n    var _a = parseUserStyles(styles, false), properties = _a.properties, nestedStyles = _a.nestedStyles, isUnique = _a.isUnique;\n    // Throw when using properties and nested styles together in rule.\n    if (properties.length && nestedStyles.length) {\n        throw new TypeError(\"Registering a CSS rule can not use properties with nested styles\");\n    }\n    var styleString = stringifyProperties(properties);\n    var rule = new Rule(selector, styleString, container.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined);\n    for (var _i = 0, nestedStyles_2 = nestedStyles; _i < nestedStyles_2.length; _i++) {\n        var _b = nestedStyles_2[_i], name_3 = _b[0], value = _b[1];\n        registerUserRule(rule, name_3, value);\n    }\n    container.add(rule);\n}\n/**\n * Parse and register keyframes on the current instance.\n */\nfunction registerUserHashedRule(container, prefix, styles, displayName) {\n    var bucket = new Cache(container.hash);\n    var _a = collectHashedStyles(bucket, styles, false, displayName), pid = _a.pid, id = _a.id;\n    var atRule = new Rule(prefix + \" \" + id, undefined, container.hash, undefined, pid);\n    atRule.merge(bucket);\n    container.add(atRule);\n    return id;\n}\n/**\n * Get the styles string for a container class.\n */\nfunction getStyles(container) {\n    return container.values().map(function (style) { return style.getStyles(); }).join('');\n}\n/**\n * Implement a cache/event emitter.\n */\nvar Cache = (function () {\n    function Cache(hash) {\n        this.hash = hash;\n        this.changeId = 0;\n        this._children = {};\n        this._keys = [];\n        this._counts = {};\n    }\n    Cache.prototype.values = function () {\n        var _this = this;\n        return this._keys.map(function (x) { return _this._children[x]; });\n    };\n    Cache.prototype.add = function (style) {\n        var count = this._counts[style.id] || 0;\n        var item = this._children[style.id] || style.clone();\n        this._counts[style.id] = count + 1;\n        if (count === 0) {\n            this._keys.push(item.id);\n            this._children[item.id] = item;\n            this.changeId++;\n        }\n        else {\n            // Check if contents are different.\n            if (item.getIdentifier() !== style.getIdentifier()) {\n                throw new TypeError(\"Hash collision: \" + style.getStyles() + \" === \" + item.getStyles());\n            }\n            this._keys.splice(this._keys.indexOf(style.id), 1);\n            this._keys.push(style.id);\n            if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.merge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.changeId++;\n                }\n            }\n        }\n        return item;\n    };\n    Cache.prototype.remove = function (style) {\n        var count = this._counts[style.id];\n        if (count > 0) {\n            this._counts[style.id] = count - 1;\n            var item = this._children[style.id];\n            if (count === 1) {\n                delete this._counts[style.id];\n                delete this._children[style.id];\n                this._keys.splice(this._keys.indexOf(style.id), 1);\n                this.changeId++;\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.changeId++;\n                }\n            }\n        }\n    };\n    Cache.prototype.get = function (container) {\n        return this._children[container.id];\n    };\n    Cache.prototype.merge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var value = _a[_i];\n            this.add(value);\n        }\n        return this;\n    };\n    Cache.prototype.unmerge = function (cache) {\n        for (var _i = 0, _a = cache.values(); _i < _a.length; _i++) {\n            var value = _a[_i];\n            this.remove(value);\n        }\n        return this;\n    };\n    Cache.prototype.clone = function () {\n        return new Cache(this.hash).merge(this);\n    };\n    return Cache;\n}());\nexports.Cache = Cache;\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nvar Selector = (function () {\n    function Selector(selector, hash, id, pid) {\n        if (id === void 0) { id = \"s\" + hash(selector); }\n        if (pid === void 0) { pid = ''; }\n        this.selector = selector;\n        this.hash = hash;\n        this.id = id;\n        this.pid = pid;\n    }\n    Selector.prototype.getStyles = function () {\n        return this.selector;\n    };\n    Selector.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.selector;\n    };\n    Selector.prototype.clone = function () {\n        return new Selector(this.selector, this.hash, this.id, this.pid);\n    };\n    return Selector;\n}());\nexports.Selector = Selector;\n/**\n * The style container registers a style string with selectors.\n */\nvar Style = (function (_super) {\n    __extends(Style, _super);\n    function Style(style, hash, id) {\n        if (id === void 0) { id = \"c\" + hash(style); }\n        var _this = _super.call(this, hash) || this;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        return _this;\n    }\n    Style.prototype.getStyles = function () {\n        return this.values().map(function (x) { return x.selector; }).join(',') + \"{\" + this.style + \"}\";\n    };\n    Style.prototype.getIdentifier = function () {\n        return this.style;\n    };\n    Style.prototype.clone = function () {\n        return new Style(this.style, this.hash, this.id).merge(this);\n    };\n    return Style;\n}(Cache));\nexports.Style = Style;\n/**\n * Implement rule logic for style output.\n */\nvar Rule = (function (_super) {\n    __extends(Rule, _super);\n    function Rule(rule, style, hash, id, pid) {\n        if (style === void 0) { style = ''; }\n        if (id === void 0) { id = \"a\" + hash(rule + \".\" + style); }\n        if (pid === void 0) { pid = ''; }\n        var _this = _super.call(this, hash) || this;\n        _this.rule = rule;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        _this.pid = pid;\n        return _this;\n    }\n    Rule.prototype.getStyles = function () {\n        return this.rule + \"{\" + this.style + getStyles(this) + \"}\";\n    };\n    Rule.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.rule + \".\" + this.style;\n    };\n    Rule.prototype.clone = function () {\n        return new Rule(this.rule, this.style, this.hash, this.id, this.pid).merge(this);\n    };\n    return Rule;\n}(Cache));\nexports.Rule = Rule;\n/**\n * The FreeStyle class implements the API for everything else.\n */\nvar FreeStyle = (function (_super) {\n    __extends(FreeStyle, _super);\n    function FreeStyle(hash, debug, id) {\n        if (id === void 0) { id = \"f\" + (++instanceId).toString(36); }\n        var _this = _super.call(this, hash) || this;\n        _this.hash = hash;\n        _this.debug = debug;\n        _this.id = id;\n        return _this;\n    }\n    FreeStyle.prototype.registerStyle = function (styles, displayName) {\n        return registerUserStyles(this, styles, this.debug ? displayName : undefined);\n    };\n    FreeStyle.prototype.registerKeyframes = function (keyframes, displayName) {\n        return registerUserHashedRule(this, '@keyframes', keyframes, this.debug ? displayName : undefined);\n    };\n    FreeStyle.prototype.registerRule = function (rule, styles) {\n        return registerUserRule(this, rule, styles);\n    };\n    FreeStyle.prototype.getStyles = function () {\n        return getStyles(this);\n    };\n    FreeStyle.prototype.getIdentifier = function () {\n        return this.id;\n    };\n    FreeStyle.prototype.clone = function () {\n        return new FreeStyle(this.hash, this.debug, this.id).merge(this);\n    };\n    return FreeStyle;\n}(Cache));\nexports.FreeStyle = FreeStyle;\n/**\n * Exports a simple function to create a new instance.\n */\nfunction create(hash, debug) {\n    if (hash === void 0) { hash = stringHash; }\n    if (debug === void 0) { debug = process.env.NODE_ENV !== 'production'; }\n    return new FreeStyle(hash, debug);\n}\nexports.create = create;\n//# sourceMappingURL=free-style.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./~/free-style/dist/free-style.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","var curryN = require('ramda/src/curryN');\n\nfunction isString(s) { return typeof s === 'string'; }\nfunction isNumber(n) { return typeof n === 'number'; }\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\nfunction isFunction(f) { return typeof f === 'function'; }\nvar isArray = Array.isArray || function(a) { return 'length' in a; };\n\nvar mapConstrToFn = curryN(2, function(group, constr) {\n  return constr === String    ? isString\n       : constr === Number    ? isNumber\n       : constr === Object    ? isObject\n       : constr === Array     ? isArray\n       : constr === Function  ? isFunction\n       : constr === undefined ? group\n                              : constr;\n});\n\nfunction Constructor(group, name, validators) {\n  validators = validators.map(mapConstrToFn(group));\n  var constructor = curryN(validators.length, function() {\n    var val = [], v, validator;\n    for (var i = 0; i < arguments.length; ++i) {\n      v = arguments[i];\n      validator = validators[i];\n      if ((typeof validator === 'function' && validator(v)) ||\n          (v !== undefined && v !== null && v.of === validator)) {\n        val[i] = arguments[i];\n      } else {\n        throw new TypeError('wrong value ' + v + ' passed to location ' + i + ' in ' + name);\n      }\n    }\n    val.of = group;\n    val.name = name;\n    return val;\n  });\n  return constructor;\n}\n\nfunction rawCase(type, cases, action, arg) {\n  if (type !== action.of) throw new TypeError('wrong type passed to case');\n  var name = action.name in cases ? action.name\n           : '_' in cases         ? '_'\n                                  : undefined;\n  if (name === undefined) {\n    throw new Error('unhandled value passed to case');\n  } else {\n    return cases[name].apply(undefined, arg !== undefined ? action.concat([arg]) : action);\n  }\n}\n\nvar typeCase = curryN(3, rawCase);\nvar caseOn = curryN(4, rawCase);\n\nfunction Type(desc) {\n  var obj = {};\n  for (var key in desc) {\n    obj[key] = Constructor(obj, key, desc[key]);\n  }\n  obj.case = typeCase(obj);\n  obj.caseOn = caseOn(obj);\n  return obj;\n}\n\nmodule.exports = Type;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/union-type.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\nvar arity = require('./arity');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the\n * specified arity. The curried function has two unusual capabilities.\n * First, its arguments needn't be provided one at a time. If `g` is\n * `R.curryN(3, f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var addFourNumbers = function() {\n *        return R.sum([].slice.call(arguments, 0, 4));\n *      };\n *\n *      var curriedAddFourNumbers = R.curryN(4, addFourNumbers);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  return arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/curryN.js\n **/","var _curry1 = require('./_curry1');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f2;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 1) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else {\n      return fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curry2.js\n **/","/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0) {\n      return f1;\n    } else if (a != null && a['@@functional/placeholder'] === true) {\n      return f1;\n    } else {\n      return fn(a);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curry1.js\n **/","var arity = require('../arity');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @return {array} An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (received[combinedIdx] == null ||\n           received[combinedIdx]['@@functional/placeholder'] !== true ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (result == null || result['@@functional/placeholder'] !== true) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts exactly `n`\n * parameters. Unlike `nAry`, which passes only `n` arguments to the wrapped function,\n * functions produced by `arity` will pass all provided arguments to the wrapped function.\n *\n * @func\n * @memberOf R\n * @sig (Number, (* -> *)) -> (* -> *)\n * @category Function\n * @param {Number} n The desired arity of the returned function.\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is\n *         guaranteed to be of arity `n`.\n * @deprecated since v0.15.0\n * @example\n *\n *      var takesTwoArgs = function(a, b) {\n *        return [a, b];\n *      };\n *      takesTwoArgs.length; //=> 2\n *      takesTwoArgs(1, 2); //=> [1, 2]\n *\n *      var takesOneArg = R.arity(1, takesTwoArgs);\n *      takesOneArg.length; //=> 1\n *      // All arguments are passed through to the wrapped function\n *      takesOneArg(1, 2); //=> [1, 2]\n */\nmodule.exports = _curry2(function(n, fn) {\n  // jshint unused:vars\n  switch (n) {\n    case 0: return function() {return fn.apply(this, arguments);};\n    case 1: return function(a0) {return fn.apply(this, arguments);};\n    case 2: return function(a0, a1) {return fn.apply(this, arguments);};\n    case 3: return function(a0, a1, a2) {return fn.apply(this, arguments);};\n    case 4: return function(a0, a1, a2, a3) {return fn.apply(this, arguments);};\n    case 5: return function(a0, a1, a2, a3, a4) {return fn.apply(this, arguments);};\n    case 6: return function(a0, a1, a2, a3, a4, a5) {return fn.apply(this, arguments);};\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) {return fn.apply(this, arguments);};\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) {return fn.apply(this, arguments);};\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {return fn.apply(this, arguments);};\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {return fn.apply(this, arguments);};\n    default: throw new Error('First argument to arity must be a non-negative integer no greater than ten');\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/union-type/~/ramda/src/arity.js\n **/","import flyd from 'flyd'\nconst R = {\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\n  clone: require('ramda/src/clone'),\n  map: require('ramda/src/map'),\n  merge: require('ramda/src/merge'),\n  curryN: require('ramda/src/curryN'),\n  equals: require('ramda/src/equals'),\n  dissoc: require('ramda/src/dissoc'),\n}\n\n\nlet connectInterface = (md, name, state, connections) =>\n  (md.interfaces[name]) ? merge(md, connections).interfaces[name](state) : {}\n\n\n// childModuleDefsObj -> childModuleModelsObj via mDef_key -> mDef_value.init({key: mDef_key})\n// or via root mDef_key -> mDef_value.root.init({key: mDef_key, ...mDef_value[key]})\nlet mergeModels = mds => {\n  let obj = {}\n  for (let key in mds) {\n    obj[key] = (mds[key].root) ? mds[key].root.init({key, ...R.dissoc('root', mds[key])}) : mds[key].init({key})\n  }\n  return obj\n}\n\n/* Merge child interfaces, flatten\n  childs : Array[Object]\n  interfaceName : String\n  scope : String // use scope if use this function uses two or more times in an interface\n*/\nlet mergeChilds = (childs, md, scope = '', interfaceName, connections) => {\n  let objs = {}\n  R.mapObjIndexed((state, idx) => {\n    R.mapObjIndexed((obj, name) => {\n      objs[scope + idx + '_' + name] = obj\n    }, connectInterface(md, interfaceName, state, connections(+idx)))\n  }, childs)\n  return objs\n}\n\nlet mergeChild = (state, md, scope, interfaceName, connections) => {\n  let objs = {}\n  R.mapObjIndexed((obj, name) => {\n    objs[scope + '_' + name] = obj\n  }, connectInterface(md, interfaceName, state, connections))\n  return objs\n}\n\nfunction addModuleInfo(mDef, obj) {\n  obj._moduleName = mDef.name\n  obj._log = mDef.log\n  obj._logAll = mDef.logAll\n  return obj\n}\n\n// Composition for Fractal core, (mDefinition, connections = {}) -> ContextualizedModule\nlet merge = (mDefinition, connections = {}) => {\n  let mDef = R.clone(mDefinition)\n\n  let ctx = {\n    action$: flyd.stream(),\n    task$: flyd.stream(),\n    styles: (!!mDef.styles) ? mDef.styles : {},\n  }\n  ctx.dispatch$ = tasks => {\n    if (tasks != undefined && tasks instanceof Array) {\n      if (tasks.of == undefined && typeof(tasks[0]) !== 'string') {\n        // verify that is not a task in the form [String, TaskAction]\n        // multiple action-task syntax\n        tasks.forEach(t => {\n          if (R.equals(t.of, mDef.Action)) {\n            ctx.action$(t)\n          } else {\n            ctx.task$(t)\n          }\n        })\n      } else if (R.equals(tasks.of, mDef.Action)) {\n        // single action syntax for an action\n        ctx.action$(tasks)\n      } else if (tasks instanceof Array) {\n        // single action syntax for a task\n        ctx.task$(tasks)\n      }\n    } else {\n      // none sense return\n      // ctx.task$('undefined') // DEBUG\n    }\n  }\n  // append the outputs in the context\n  for (let name in mDef.outputNames) {\n    ctx[mDef.outputNames[name]] = flyd.stream()\n  }\n\n  // connection with the context\n  for (let name in connections) {\n    if (!!ctx[name]) {\n      if (name === 'action$') {\n        flyd.on(d => connections[name](addModuleInfo(mDef, d)), ctx[name])\n      } else {\n        flyd.on(connections[name], ctx[name])\n      }\n    }\n  }\n\n  // contextualize inputs\n  let inputs = R.map(i => R.curryN(i.length, function(...args) {\n    // wrapper function for tasks\n    let tasks = i(...args)\n    ctx.dispatch$(tasks)\n  })(ctx, mDef.Action), mDef.inputs)\n  ctx._md = mDef.load(ctx, inputs, mDef.Action) || {}\n\n  // connect task$\n  connectTasksToModules(ctx._md)\n\n  function connectTasksToModules(mds) {\n    function connectTasks(md) {\n      if (md.mDef) {\n        flyd.on(task => ctx.task$(addModuleInfo(mDef, task)), md.ctx.task$)\n      } else {\n        // connect categorized modules\n        for (let subName in md) {\n          flyd.on(task => ctx.task$(addModuleInfo(mDef, task)), md[subName].ctx.task$)\n        }\n      }\n    }\n    function connectTasksToModules_func(mds) {\n      for (let name in mds) {\n        if (mds[name].mDef) {\n          connectTasks(mds[name])\n        } else if (!name === 'dynamicModules') {\n          connectTasksToModules_func(mds[name])\n        }\n      }\n    }\n    return connectTasksToModules_func(mds)\n  }\n\n  let md = (mds) => {\n    // connect task$\n    connectTasksToModules(mds)\n    ctx._md = R.merge(ctx._md, mds)\n  }\n  setTimeout(() => mDef.loadAfter(ctx, inputs, mDef.Action, md), 0)\n  // contextualize interfaces\n  mDef.interfaces = R.map(i => R.curryN(3, i)(ctx)(inputs), mDef.interfaces)\n\n  return {\n    ...mDef,\n    ctx,\n    inputs,\n  }\n}\n\n// merge a list of modules\nlet mergeList = (moduleNames, _md, interfaceName, f = interfaceObj => interfaceObj, rootModel) =>\n R.map(name => f(_md[name].interfaces[interfaceName](rootModel[name]), name), moduleNames)\n\n // merge a list of groups\nlet mergeGroup = (groupName, _md, interfaceName, f = interfaceObj => interfaceObj, rootModel) => {\n  let moduleNames = Object.keys(rootModel[groupName])\n  return R.map(name => f(_md[groupName][name].interfaces[interfaceName](rootModel[groupName][name]), name), moduleNames)\n}\n\nlet mapObjToArray = (fn, obj) => {\n  let arr = []\n  for (let key in obj)\n    arr.push(fn(obj[key], key))\n  return arr\n}\n\n// TODO: implement funtion that takes [list] -> ( (key, value) -> ({key, value}) ) -> {[key]: value}\n// Useful for optional styles\n\nlet mergeAll = (childDefs, i, scope = '', connectionsFn = (md, name) => ({})) => {\n  let connectionsMiddleFn = (connections, md, name) => {\n    if (!connections.action$) {\n      if (scope == '') {\n        connections.action$ = i._childAction(name, md.update)\n      } else {\n        connections.action$ = i._childActionScoped(scope, name, md.update)\n      }\n    }\n    return connections\n  }\n  return R.mapObjIndexed((md, name) => {\n    let _module = (md.root) ? md.root : md\n    return merge(_module, connectionsMiddleFn(connectionsFn(_module, name), _module, name))\n  }, childDefs)\n}\n\nlet mergeDynamicList = (scope, i, mds, interfaceName, interfaceFn = (md, idx) => view, m) => {\n  return m[scope].map((item, idx) => {\n    return interfaceFn(merge(mds.dynamicModules[scope], {\n      action$: i._dynamicChildAction(scope, mds.dynamicModules[scope].update, idx),\n      remove$: () => i._dynamicChildRemove(scope, idx),\n    }).interfaces[interfaceName](item), idx)\n  })\n}\n\n\nexport default {\n  merge,\n  mergeAll,\n  mergeDynamicList,\n  mergeModels,\n  mergeList,\n  mergeGroup,\n  addModuleInfo,\n// TODO: review the next\n  mergeChild,\n  mergeChilds,\n  connectInterface,\n  mapObjToArray,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/composing.js\n **/","'use strict';\n\nvar curryN = require('ramda/src/curryN');\n\n// Utility\nfunction isFunction(obj) {\n  return !!(obj && obj.constructor && obj.call && obj.apply);\n}\nfunction trueFn() { return true; }\n\n// Globals\nvar toUpdate = [];\nvar inStream;\nvar order = [];\nvar orderNextIdx = -1;\nvar flushing = false;\n\n/** @namespace */\nvar flyd = {}\n\n// /////////////////////////// API ///////////////////////////////// //\n\n/**\n * Creates a new stream\n *\n * __Signature__: `a -> Stream a`\n *\n * @name flyd.stream\n * @param {*} initialValue - (Optional) the initial value of the stream\n * @return {stream} the stream\n *\n * @example\n * var n = flyd.stream(1); // Stream with initial value `1`\n * var s = flyd.stream(); // Stream with no initial value\n */\nflyd.stream = function(initialValue) {\n  var endStream = createDependentStream([], trueFn);\n  var s = createStream();\n  s.end = endStream;\n  s.fnArgs = [];\n  endStream.listeners.push(s);\n  if (arguments.length > 0) s(initialValue);\n  return s;\n}\n\n/**\n * Create a new dependent stream\n *\n * __Signature__: `(...Stream * -> Stream b -> b) -> [Stream *] -> Stream b`\n *\n * @name flyd.combine\n * @param {Function} fn - the function used to combine the streams\n * @param {Array<stream>} dependencies - the streams that this one depends on\n * @return {stream} the dependent stream\n *\n * @example\n * var n1 = flyd.stream(0);\n * var n2 = flyd.stream(0);\n * var max = flyd.combine(function(n1, n2, self, changed) {\n *   return n1() > n2() ? n1() : n2();\n * }, [n1, n2]);\n */\nflyd.combine = curryN(2, combine);\nfunction combine(fn, streams) {\n  var i, s, deps, depEndStreams;\n  var endStream = createDependentStream([], trueFn);\n  deps = []; depEndStreams = [];\n  for (i = 0; i < streams.length; ++i) {\n    if (streams[i] !== undefined) {\n      deps.push(streams[i]);\n      if (streams[i].end !== undefined) depEndStreams.push(streams[i].end);\n    }\n  }\n  s = createDependentStream(deps, fn);\n  s.depsChanged = [];\n  s.fnArgs = s.deps.concat([s, s.depsChanged]);\n  s.end = endStream;\n  endStream.listeners.push(s);\n  addListeners(depEndStreams, endStream);\n  endStream.deps = depEndStreams;\n  updateStream(s);\n  return s;\n}\n\n/**\n * Returns `true` if the supplied argument is a Flyd stream and `false` otherwise.\n *\n * __Signature__: `* -> Boolean`\n *\n * @name flyd.isStream\n * @param {*} value - the value to test\n * @return {Boolean} `true` if is a Flyd streamn, `false` otherwise\n *\n * @example\n * var s = flyd.stream(1);\n * var n = 1;\n * flyd.isStream(s); //=> true\n * flyd.isStream(n); //=> false\n */\nflyd.isStream = function(stream) {\n  return isFunction(stream) && 'hasVal' in stream;\n}\n\n/**\n * Invokes the body (the function to calculate the value) of a dependent stream\n *\n * By default the body of a dependent stream is only called when all the streams\n * upon which it depends has a value. `immediate` can circumvent this behaviour.\n * It immediately invokes the body of a dependent stream.\n *\n * __Signature__: `Stream a -> Stream a`\n *\n * @name flyd.immediate\n * @param {stream} stream - the dependent stream\n * @return {stream} the same stream\n *\n * @example\n * var s = flyd.stream();\n * var hasItems = flyd.immediate(flyd.combine(function(s) {\n *   return s() !== undefined && s().length > 0;\n * }, [s]);\n * console.log(hasItems()); // logs `false`. Had `immediate` not been\n *                          // used `hasItems()` would've returned `undefined`\n * s([1]);\n * console.log(hasItems()); // logs `true`.\n * s([]);\n * console.log(hasItems()); // logs `false`.\n */\nflyd.immediate = function(s) {\n  if (s.depsMet === false) {\n    s.depsMet = true;\n    updateStream(s);\n  }\n  return s;\n}\n\n/**\n * Changes which `endsStream` should trigger the ending of `s`.\n *\n * __Signature__: `Stream a -> Stream b -> Stream b`\n *\n * @name flyd.endsOn\n * @param {stream} endStream - the stream to trigger the ending\n * @param {stream} stream - the stream to be ended by the endStream\n * @param {stream} the stream modified to be ended by endStream\n *\n * @example\n * var n = flyd.stream(1);\n * var killer = flyd.stream();\n * // `double` ends when `n` ends or when `killer` emits any value\n * var double = flyd.endsOn(flyd.merge(n.end, killer), flyd.combine(function(n) {\n *   return 2 * n();\n * }, [n]);\n*/\nflyd.endsOn = function(endS, s) {\n  detachDeps(s.end);\n  endS.listeners.push(s.end);\n  s.end.deps.push(endS);\n  return s;\n}\n\n/**\n * Map a stream\n *\n * Returns a new stream consisting of every value from `s` passed through\n * `fn`. I.e. `map` creates a new stream that listens to `s` and\n * applies `fn` to every new value.\n * __Signature__: `(a -> result) -> Stream a -> Stream result`\n *\n * @name flyd.map\n * @param {Function} fn - the function that produces the elements of the new stream\n * @param {stream} stream - the stream to map\n * @return {stream} a new stream with the mapped values\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = flyd.map(function(n) { return n*n; }, numbers);\n */\n// Library functions use self callback to accept (null, undefined) update triggers.\nflyd.map = curryN(2, function(f, s) {\n  return combine(function(s, self) { self(f(s.val)); }, [s]);\n})\n\n/**\n * Listen to stream events\n *\n * Similar to `map` except that the returned stream is empty. Use `on` for doing\n * side effects in reaction to stream changes. Use the returned stream only if you\n * need to manually end it.\n *\n * __Signature__: `(a -> result) -> Stream a -> Stream undefined`\n *\n * @name flyd.on\n * @param {Function} cb - the callback\n * @param {stream} stream - the stream\n * @return {stream} an empty stream (can be ended)\n */\nflyd.on = curryN(2, function(f, s) {\n  return combine(function(s) { f(s.val); }, [s]);\n})\n\n/**\n * Creates a new stream with the results of calling the function on every incoming\n * stream with and accumulator and the incoming value.\n *\n * __Signature__: `(a -> b -> a) -> a -> Stream b -> Stream a`\n *\n * @name flyd.scan\n * @param {Function} fn - the function to call\n * @param {*} val - the initial value of the accumulator\n * @param {stream} stream - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var numbers = flyd.stream();\n * var sum = flyd.scan(function(sum, n) { return sum+n; }, 0, numbers);\n * numbers(2)(3)(5);\n * sum(); // 10\n */\nflyd.scan = curryN(3, function(f, acc, s) {\n  var ns = combine(function(s, self) {\n    self(acc = f(acc, s.val));\n  }, [s]);\n  if (!ns.hasVal) ns(acc);\n  return ns;\n});\n\n/**\n * Creates a new stream down which all values from both `stream1` and `stream2`\n * will be sent.\n *\n * __Signature__: `Stream a -> Stream a -> Stream a`\n *\n * @name flyd.merge\n * @param {stream} source1 - one stream to be merged\n * @param {stream} source2 - the other stream to be merged\n * @return {stream} a stream with the values from both sources\n *\n * @example\n * var btn1Clicks = flyd.stream();\n * button1Elm.addEventListener(btn1Clicks);\n * var btn2Clicks = flyd.stream();\n * button2Elm.addEventListener(btn2Clicks);\n * var allClicks = flyd.merge(btn1Clicks, btn2Clicks);\n */\nflyd.merge = curryN(2, function(s1, s2) {\n  var s = flyd.immediate(combine(function(s1, s2, self, changed) {\n    if (changed[0]) {\n      self(changed[0]());\n    } else if (s1.hasVal) {\n      self(s1.val);\n    } else if (s2.hasVal) {\n      self(s2.val);\n    }\n  }, [s1, s2]));\n  flyd.endsOn(combine(function() {\n    return true;\n  }, [s1.end, s2.end]), s);\n  return s;\n});\n\n/**\n * Creates a new stream resulting from applying `transducer` to `stream`.\n *\n * __Signature__: `Transducer -> Stream a -> Stream b`\n *\n * @name flyd.transduce\n * @param {Transducer} xform - the transducer transformation\n * @param {stream} source - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var t = require('transducers.js');\n *\n * var results = [];\n * var s1 = flyd.stream();\n * var tx = t.compose(t.map(function(x) { return x * 2; }), t.dedupe());\n * var s2 = flyd.transduce(tx, s1);\n * flyd.combine(function(s2) { results.push(s2()); }, [s2]);\n * s1(1)(1)(2)(3)(3)(3)(4);\n * results; // => [2, 4, 6, 8]\n */\nflyd.transduce = curryN(2, function(xform, source) {\n  xform = xform(new StreamTransformer());\n  return combine(function(source, self) {\n    var res = xform['@@transducer/step'](undefined, source.val);\n    if (res && res['@@transducer/reduced'] === true) {\n      self.end(true);\n      return res['@@transducer/value'];\n    } else {\n      return res;\n    }\n  }, [source]);\n});\n\n/**\n * Returns `fn` curried to `n`. Use this function to curry functions exposed by\n * modules for Flyd.\n *\n * @name flyd.curryN\n * @function\n * @param {Integer} arity - the function arity\n * @param {Function} fn - the function to curry\n * @return {Function} the curried function\n *\n * @example\n * function add(x, y) { return x + y; };\n * var a = flyd.curryN(2, add);\n * a(2)(4) // => 6\n */\nflyd.curryN = curryN\n\n/**\n * Returns a new stream identical to the original except every\n * value will be passed through `f`.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream a`: `(a -> b) -> Stream b`\n *\n * @name stream.map\n * @param {Function} function - the function to apply\n * @return {stream} a new stream with the values mapped\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = numbers.map(function(n) { return n*n; });\n */\nfunction boundMap(f) { return flyd.map(f, this); }\n\n/**\n * Returns a new stream which is the result of applying the\n * functions from `this` stream to the values in `stream` parameter.\n *\n * `this` stream must be a stream of functions.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream (a -> b)`: `a -> Stream b`\n *\n * @name stream.ap\n * @param {stream} stream - the values stream\n * @return {stream} a new stram with the functions applied to values\n *\n * @example\n * var add = flyd.curryN(2, function(x, y) { return x + y; });\n * var numbers1 = flyd.stream();\n * var numbers2 = flyd.stream();\n * var addToNumbers1 = flyd.map(add, numbers1);\n * var added = addToNumbers1.ap(numbers2);\n */\nfunction ap(s2) {\n  var s1 = this;\n  return combine(function(s1, s2, self) { self(s1.val(s2.val)); }, [s1, s2]);\n}\n\n/**\n * Get a human readable view of a stream\n * @name stream.toString\n * @return {String} the stream string representation\n */\nfunction streamToString() {\n  return 'stream(' + this.val + ')';\n}\n\n/**\n * @name stream.end\n * @memberof stream\n * A stream that emits `true` when the stream ends. If `true` is pushed down the\n * stream the parent stream ends.\n */\n\n/**\n * @name stream.of\n * @function\n * @memberof stream\n * Returns a new stream with `value` as its initial value. It is identical to\n * calling `flyd.stream` with one argument.\n *\n * __Signature__: Called bound to `Stream (a)`: `b -> Stream b`\n *\n * @param {*} value - the initial value\n * @return {stream} the new stream\n *\n * @example\n * var n = flyd.stream(1);\n * var m = n.of(1);\n */\n\n// /////////////////////////// PRIVATE ///////////////////////////////// //\n/**\n * @private\n * Create a stream with no dependencies and no value\n * @return {Function} a flyd stream\n */\nfunction createStream() {\n  function s(n) {\n    if (arguments.length === 0) return s.val\n    updateStreamValue(s, n)\n    return s\n  }\n  s.hasVal = false;\n  s.val = undefined;\n  s.vals = [];\n  s.listeners = [];\n  s.queued = false;\n  s.end = undefined;\n  s.map = boundMap;\n  s.ap = ap;\n  s.of = flyd.stream;\n  s.toString = streamToString;\n  return s;\n}\n\n/**\n * @private\n * Create a dependent stream\n * @param {Array<stream>} dependencies - an array of the streams\n * @param {Function} fn - the function used to calculate the new stream value\n * from the dependencies\n * @return {stream} the created stream\n */\nfunction createDependentStream(deps, fn) {\n  var s = createStream();\n  s.fn = fn;\n  s.deps = deps;\n  s.depsMet = false;\n  s.depsChanged = deps.length > 0 ? [] : undefined;\n  s.shouldUpdate = false;\n  addListeners(deps, s);\n  return s;\n}\n\n/**\n * @private\n * Check if all the dependencies have values\n * @param {stream} stream - the stream to check depencencies from\n * @return {Boolean} `true` if all dependencies have vales, `false` otherwise\n */\nfunction initialDepsNotMet(stream) {\n  stream.depsMet = stream.deps.every(function(s) {\n    return s.hasVal;\n  });\n  return !stream.depsMet;\n}\n\n/**\n * @private\n * Update a dependent stream using its dependencies in an atomic way\n * @param {stream} stream - the stream to update\n */\nfunction updateStream(s) {\n  if ((s.depsMet !== true && initialDepsNotMet(s)) ||\n      (s.end !== undefined && s.end.val === true)) return;\n  if (inStream !== undefined) {\n    toUpdate.push(s);\n    return;\n  }\n  inStream = s;\n  if (s.depsChanged) s.fnArgs[s.fnArgs.length - 1] = s.depsChanged;\n  var returnVal = s.fn.apply(s.fn, s.fnArgs);\n  if (returnVal !== undefined) {\n    s(returnVal);\n  }\n  inStream = undefined;\n  if (s.depsChanged !== undefined) s.depsChanged = [];\n  s.shouldUpdate = false;\n  if (flushing === false) flushUpdate();\n}\n\n/**\n * @private\n * Update the dependencies of a stream\n * @param {stream} stream\n */\nfunction updateDeps(s) {\n  var i, o, list\n  var listeners = s.listeners;\n  for (i = 0; i < listeners.length; ++i) {\n    list = listeners[i];\n    if (list.end === s) {\n      endStream(list);\n    } else {\n      if (list.depsChanged !== undefined) list.depsChanged.push(s);\n      list.shouldUpdate = true;\n      findDeps(list);\n    }\n  }\n  for (; orderNextIdx >= 0; --orderNextIdx) {\n    o = order[orderNextIdx];\n    if (o.shouldUpdate === true) updateStream(o);\n    o.queued = false;\n  }\n}\n\n/**\n * @private\n * Add stream dependencies to the global `order` queue.\n * @param {stream} stream\n * @see updateDeps\n */\nfunction findDeps(s) {\n  var i\n  var listeners = s.listeners;\n  if (s.queued === false) {\n    s.queued = true;\n    for (i = 0; i < listeners.length; ++i) {\n      findDeps(listeners[i]);\n    }\n    order[++orderNextIdx] = s;\n  }\n}\n\n/**\n * @private\n */\nfunction flushUpdate() {\n  flushing = true;\n  while (toUpdate.length > 0) {\n    var s = toUpdate.shift();\n    if (s.vals.length > 0) s.val = s.vals.shift();\n    updateDeps(s);\n  }\n  flushing = false;\n}\n\n/**\n * @private\n * Push down a value into a stream\n * @param {stream} stream\n * @param {*} value\n */\nfunction updateStreamValue(s, n) {\n  if (n !== undefined && n !== null && isFunction(n.then)) {\n    n.then(s);\n    return;\n  }\n  s.val = n;\n  s.hasVal = true;\n  if (inStream === undefined) {\n    flushing = true;\n    updateDeps(s);\n    if (toUpdate.length > 0) flushUpdate(); else flushing = false;\n  } else if (inStream === s) {\n    markListeners(s, s.listeners);\n  } else {\n    s.vals.push(n);\n    toUpdate.push(s);\n  }\n}\n\n/**\n * @private\n */\nfunction markListeners(s, lists) {\n  var i, list;\n  for (i = 0; i < lists.length; ++i) {\n    list = lists[i];\n    if (list.end !== s) {\n      if (list.depsChanged !== undefined) {\n        list.depsChanged.push(s);\n      }\n      list.shouldUpdate = true;\n    } else {\n      endStream(list);\n    }\n  }\n}\n\n/**\n * @private\n * Add dependencies to a stream\n * @param {Array<stream>} dependencies\n * @param {stream} stream\n */\nfunction addListeners(deps, s) {\n  for (var i = 0; i < deps.length; ++i) {\n    deps[i].listeners.push(s);\n  }\n}\n\n/**\n * @private\n * Removes an stream from a dependency array\n * @param {stream} stream\n * @param {Array<stream>} dependencies\n */\nfunction removeListener(s, listeners) {\n  var idx = listeners.indexOf(s);\n  listeners[idx] = listeners[listeners.length - 1];\n  listeners.length--;\n}\n\n/**\n * @private\n * Detach a stream from its dependencies\n * @param {stream} stream\n */\nfunction detachDeps(s) {\n  for (var i = 0; i < s.deps.length; ++i) {\n    removeListener(s, s.deps[i].listeners);\n  }\n  s.deps.length = 0;\n}\n\n/**\n * @private\n * Ends a stream\n */\nfunction endStream(s) {\n  if (s.deps !== undefined) detachDeps(s);\n  if (s.end !== undefined) detachDeps(s.end);\n}\n\n/**\n * @private\n * transducer stream transformer\n */\nfunction StreamTransformer() { }\nStreamTransformer.prototype['@@transducer/init'] = function() { };\nStreamTransformer.prototype['@@transducer/result'] = function() { };\nStreamTransformer.prototype['@@transducer/step'] = function(s, v) { return v; };\n\nmodule.exports = flyd;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/lib/index.js\n **/","var _arity = require('./internal/_arity');\nvar _curry1 = require('./internal/_curry1');\nvar _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`, the\n * following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var sumArgs = (...args) => R.sum(args);\n *\n *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/curryN.js\n **/","module.exports = function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0: return function() { return fn.apply(this, arguments); };\n    case 1: return function(a0) { return fn.apply(this, arguments); };\n    case 2: return function(a0, a1) { return fn.apply(this, arguments); };\n    case 3: return function(a0, a1, a2) { return fn.apply(this, arguments); };\n    case 4: return function(a0, a1, a2, a3) { return fn.apply(this, arguments); };\n    case 5: return function(a0, a1, a2, a3, a4) { return fn.apply(this, arguments); };\n    case 6: return function(a0, a1, a2, a3, a4, a5) { return fn.apply(this, arguments); };\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) { return fn.apply(this, arguments); };\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) { return fn.apply(this, arguments); };\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) { return fn.apply(this, arguments); };\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) { return fn.apply(this, arguments); };\n    default: throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_arity.js\n **/","var _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curry1.js\n **/","module.exports = function _isPlaceholder(a) {\n  return a != null &&\n         typeof a === 'object' &&\n         a['@@functional/placeholder'] === true;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_isPlaceholder.js\n **/","var _curry1 = require('./_curry1');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2\n             : _curry1(function(_b) { return fn(a, _b); });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2\n             : _isPlaceholder(a) ? _curry1(function(_a) { return fn(_a, b); })\n             : _isPlaceholder(b) ? _curry1(function(_b) { return fn(a, _b); })\n             : fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curry2.js\n **/","var _arity = require('./_arity');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (!_isPlaceholder(received[combinedIdx]) ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined)\n                     : _arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/flyd/~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _reduce = require('./internal/_reduce');\nvar keys = require('./keys');\n\n\n/**\n * Like `mapObj`, but passes additional arguments to the predicate function. The\n * predicate function is passed three arguments: *(value, key, obj)*.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig (v, k, {k: v} -> v) -> {k: v} -> {k: v}\n * @param {Function} fn A function called for each property in `obj`. Its return value will\n *        become a new property on the return object.\n * @param {Object} obj The object to iterate over.\n * @return {Object} A new object with the same keys as `obj` and values that are the result\n *         of running each property through `fn`.\n * @example\n *\n *      var values = { x: 1, y: 2, z: 3 };\n *      var prependKeyAndDouble = (num, key, obj) => key + (num * 2);\n *\n *      R.mapObjIndexed(prependKeyAndDouble, values); //=> { x: 'x2', y: 'y4', z: 'z6' }\n */\nmodule.exports = _curry2(function mapObjIndexed(fn, obj) {\n  return _reduce(function(acc, key) {\n    acc[key] = fn(obj[key], key, obj);\n    return acc;\n  }, {}, keys(obj));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/mapObjIndexed.js\n **/","var _curry1 = require('./_curry1');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f2;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 1) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else {\n      return fn(a, b);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry2.js\n **/","/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0) {\n      return f1;\n    } else if (a != null && a['@@functional/placeholder'] === true) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry1.js\n **/","var _xwrap = require('./_xwrap');\nvar bind = require('../bind');\nvar isArrayLike = require('../isArrayLike');\n\n\nmodule.exports = (function() {\n  function _arrayReduce(xf, acc, list) {\n    var idx = 0, len = list.length;\n    while (idx < len) {\n      acc = xf['@@transducer/step'](acc, list[idx]);\n      if (acc && acc['@@transducer/reduced']) {\n        acc = acc['@@transducer/value'];\n        break;\n      }\n      idx += 1;\n    }\n    return xf['@@transducer/result'](acc);\n  }\n\n  function _iterableReduce(xf, acc, iter) {\n    var step = iter.next();\n    while (!step.done) {\n      acc = xf['@@transducer/step'](acc, step.value);\n      if (acc && acc['@@transducer/reduced']) {\n        acc = acc['@@transducer/value'];\n        break;\n      }\n      step = iter.next();\n    }\n    return xf['@@transducer/result'](acc);\n  }\n\n  function _methodReduce(xf, acc, obj) {\n    return xf['@@transducer/result'](obj.reduce(bind(xf['@@transducer/step'], xf), acc));\n  }\n\n  var symIterator = (typeof Symbol !== 'undefined') ? Symbol.iterator : '@@iterator';\n  return function _reduce(fn, acc, list) {\n    if (typeof fn === 'function') {\n      fn = _xwrap(fn);\n    }\n    if (isArrayLike(list)) {\n      return _arrayReduce(fn, acc, list);\n    }\n    if (typeof list.reduce === 'function') {\n      return _methodReduce(fn, acc, list);\n    }\n    if (list[symIterator] != null) {\n      return _iterableReduce(fn, acc, list[symIterator]());\n    }\n    if (typeof list.next === 'function') {\n      return _iterableReduce(fn, acc, list);\n    }\n    throw new TypeError('reduce: list must be array or iterable');\n  };\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_reduce.js\n **/","module.exports = (function() {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n  XWrap.prototype['@@transducer/init'] = function() {\n    throw new Error('init not implemented on XWrap');\n  };\n  XWrap.prototype['@@transducer/result'] = function(acc) { return acc; };\n  XWrap.prototype['@@transducer/step'] = function(acc, x) {\n    return this.f(acc, x);\n  };\n\n  return function _xwrap(fn) { return new XWrap(fn); };\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xwrap.js\n **/","var _arity = require('./internal/_arity');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @see R.partial\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n */\nmodule.exports = _curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function() {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/bind.js\n **/","module.exports = function _arity(n, fn) {\n  // jshint unused:vars\n  switch (n) {\n    case 0: return function() { return fn.apply(this, arguments); };\n    case 1: return function(a0) { return fn.apply(this, arguments); };\n    case 2: return function(a0, a1) { return fn.apply(this, arguments); };\n    case 3: return function(a0, a1, a2) { return fn.apply(this, arguments); };\n    case 4: return function(a0, a1, a2, a3) { return fn.apply(this, arguments); };\n    case 5: return function(a0, a1, a2, a3, a4) { return fn.apply(this, arguments); };\n    case 6: return function(a0, a1, a2, a3, a4, a5) { return fn.apply(this, arguments); };\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) { return fn.apply(this, arguments); };\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) { return fn.apply(this, arguments); };\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) { return fn.apply(this, arguments); };\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) { return fn.apply(this, arguments); };\n    default: throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_arity.js\n **/","var _curry1 = require('./internal/_curry1');\nvar _isArray = require('./internal/_isArray');\n\n\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      R.isArrayLike([]); //=> true\n *      R.isArrayLike(true); //=> false\n *      R.isArrayLike({}); //=> false\n *      R.isArrayLike({length: 10}); //=> false\n *      R.isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n */\nmodule.exports = _curry1(function isArrayLike(x) {\n  if (_isArray(x)) { return true; }\n  if (!x) { return false; }\n  if (typeof x !== 'object') { return false; }\n  if (x instanceof String) { return false; }\n  if (x.nodeType === 1) { return !!x.length; }\n  if (x.length === 0) { return true; }\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n  return false;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/isArrayLike.js\n **/","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nmodule.exports = Array.isArray || function _isArray(val) {\n  return (val != null &&\n          val.length >= 0 &&\n          Object.prototype.toString.call(val) === '[object Array]');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_isArray.js\n **/","var _curry1 = require('./internal/_curry1');\nvar _has = require('./internal/_has');\n\n\n/**\n * Returns a list containing the names of all the enumerable own\n * properties of the supplied object.\n * Note that the order of the output array is not guaranteed to be\n * consistent across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\nmodule.exports = (function() {\n  // cover IE < 9 keys issues\n  var hasEnumBug = !({toString: null}).propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString',\n                            'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var contains = function contains(list, item) {\n    var idx = 0;\n    while (idx < list.length) {\n      if (list[idx] === item) {\n        return true;\n      }\n      idx += 1;\n    }\n    return false;\n  };\n\n  return typeof Object.keys === 'function' ?\n    _curry1(function keys(obj) {\n      return Object(obj) !== obj ? [] : Object.keys(obj);\n    }) :\n    _curry1(function keys(obj) {\n      if (Object(obj) !== obj) {\n        return [];\n      }\n      var prop, ks = [], nIdx;\n      for (prop in obj) {\n        if (_has(prop, obj)) {\n          ks[ks.length] = prop;\n        }\n      }\n      if (hasEnumBug) {\n        nIdx = nonEnumerableProps.length - 1;\n        while (nIdx >= 0) {\n          prop = nonEnumerableProps[nIdx];\n          if (_has(prop, obj) && !contains(ks, prop)) {\n            ks[ks.length] = prop;\n          }\n          nIdx -= 1;\n        }\n      }\n      return ks;\n    });\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/keys.js\n **/","module.exports = function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_has.js\n **/","var _clone = require('./internal/_clone');\nvar _curry1 = require('./internal/_curry1');\n\n\n/**\n * Creates a deep copy of the value which may contain (nested) `Array`s and `Object`s, `Number`s,\n * `String`s, `Boolean`s and `Date`s. `Function`s are not copied, but assigned by their\n * reference. Dispatches to a `clone` method if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A new object or array.\n * @example\n *\n *      var objects = [{}, {}, {}];\n *      var objectsClone = R.clone(objects);\n *      objects[0] === objectsClone[0]; //=> false\n */\nmodule.exports = _curry1(function clone(value) {\n  return value != null && typeof value.clone === 'function' ?\n    value.clone() :\n    _clone(value, [], []);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/clone.js\n **/","var _cloneRegExp = require('./_cloneRegExp');\nvar type = require('../type');\n\n\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Array} refFrom Array containing the source references\n * @param {Array} refTo Array containing the copied source references\n * @return {*} The copied value.\n */\nmodule.exports = function _clone(value, refFrom, refTo) {\n  var copy = function copy(copiedValue) {\n    var len = refFrom.length;\n    var idx = 0;\n    while (idx < len) {\n      if (value === refFrom[idx]) {\n        return refTo[idx];\n      }\n      idx += 1;\n    }\n    refFrom[idx + 1] = value;\n    refTo[idx + 1] = copiedValue;\n    for (var key in value) {\n      copiedValue[key] = _clone(value[key], refFrom, refTo);\n    }\n    return copiedValue;\n  };\n  switch (type(value)) {\n    case 'Object':  return copy({});\n    case 'Array':   return copy([]);\n    case 'Date':    return new Date(value);\n    case 'RegExp':  return _cloneRegExp(value);\n    default:        return value;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_clone.js\n **/","module.exports = function _cloneRegExp(pattern) {\n  return new RegExp(pattern.source, (pattern.global     ? 'g' : '') +\n                                    (pattern.ignoreCase ? 'i' : '') +\n                                    (pattern.multiline  ? 'm' : '') +\n                                    (pattern.sticky     ? 'y' : '') +\n                                    (pattern.unicode    ? 'u' : ''));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_cloneRegExp.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * Gives a single-word string description of the (native) type of a value, returning such\n * answers as 'Object', 'Number', 'Array', or 'Null'.  Does not attempt to distinguish user\n * Object types any further, reporting them all as 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n */\nmodule.exports = _curry1(function type(val) {\n  return val === null      ? 'Null'      :\n         val === undefined ? 'Undefined' :\n         Object.prototype.toString.call(val).slice(8, -1);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/type.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _dispatchable = require('./internal/_dispatchable');\nvar _map = require('./internal/_map');\nvar _reduce = require('./internal/_reduce');\nvar _xmap = require('./internal/_xmap');\nvar curryN = require('./curryN');\nvar keys = require('./keys');\n\n\n/**\n * Returns a new list, constructed by applying the supplied function to every element of the\n * supplied list.\n *\n * Note: `R.map` does not skip deleted or unassigned indices (sparse arrays), unlike the\n * native `Array.prototype.map` method. For more details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n * @see R.transduce\n *\n * Map treats also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @example\n *\n *      var double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n */\nmodule.exports = _curry2(_dispatchable('map', _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function() {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n    case '[object Object]':\n      return _reduce(function(acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n    default:\n      return _map(fn, functor);\n  }\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/map.js\n **/","var _isArray = require('./_isArray');\nvar _isTransformer = require('./_isTransformer');\nvar _slice = require('./_slice');\n\n\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a  function with [methodname], it will execute that\n * function (functor case). Otherwise, if it is a transformer, uses transducer\n * [xf] to return a new transformer (transducer case). Otherwise, it will\n * default to executing [fn].\n *\n * @private\n * @param {String} methodname property to check for a custom implementation\n * @param {Function} xf transducer to initialize if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\nmodule.exports = function _dispatchable(methodname, xf, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    if (!_isArray(obj)) {\n      var args = _slice(arguments, 0, length - 1);\n      if (typeof obj[methodname] === 'function') {\n        return obj[methodname].apply(obj, args);\n      }\n      if (_isTransformer(obj)) {\n        var transducer = xf.apply(null, args);\n        return transducer(obj);\n      }\n    }\n    return fn.apply(this, arguments);\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_dispatchable.js\n **/","module.exports = function _isTransformer(obj) {\n  return typeof obj['@@transducer/step'] === 'function';\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_isTransformer.js\n **/","/**\n * An optimized, private array `slice` implementation.\n *\n * @private\n * @param {Arguments|Array} args The array or arguments object to consider.\n * @param {Number} [from=0] The array index to slice from, inclusive.\n * @param {Number} [to=args.length] The array index to slice to, exclusive.\n * @return {Array} A new, sliced array.\n * @example\n *\n *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]\n *\n *      var firstThreeArgs = function(a, b, c, d) {\n *        return _slice(arguments, 0, 3);\n *      };\n *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]\n */\nmodule.exports = function _slice(args, from, to) {\n  switch (arguments.length) {\n    case 1: return _slice(args, 0, args.length);\n    case 2: return _slice(args, from, args.length);\n    default:\n      var list = [];\n      var idx = 0;\n      var len = Math.max(0, Math.min(args.length, to) - from);\n      while (idx < len) {\n        list[idx] = args[from + idx];\n        idx += 1;\n      }\n      return list;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_slice.js\n **/","module.exports = function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n  return result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_map.js\n **/","var _curry2 = require('./_curry2');\nvar _xfBase = require('./_xfBase');\n\n\nmodule.exports = (function() {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n  XMap.prototype['@@transducer/step'] = function(result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return _curry2(function _xmap(f, xf) { return new XMap(f, xf); });\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xmap.js\n **/","module.exports = {\n  init: function() {\n    return this.xf['@@transducer/init']();\n  },\n  result: function(result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_xfBase.js\n **/","var _arity = require('./internal/_arity');\nvar _curry1 = require('./internal/_curry1');\nvar _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the\n * specified arity. The curried function has two unusual capabilities.\n * First, its arguments needn't be provided one at a time. If `g` is\n * `R.curryN(3, f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var sumArgs = (...args) => R.sum(args);\n *\n *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/curryN.js\n **/","var _arity = require('./_arity');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @return {array} An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (received[combinedIdx] == null ||\n           received[combinedIdx]['@@functional/placeholder'] !== true ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (result == null || result['@@functional/placeholder'] !== true) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curryN.js\n **/","var _curry2 = require('./internal/_curry2');\nvar keys = require('./keys');\n\n\n/**\n * Create a new object with the own properties of `a`\n * merged with the own properties of object `b`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} a\n * @param {Object} b\n * @return {Object}\n * @example\n *\n *      R.merge({ 'name': 'fred', 'age': 10 }, { 'age': 40 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      var resetToDefault = R.merge(R.__, {x: 0});\n *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}\n */\nmodule.exports = _curry2(function merge(a, b) {\n  var result = {};\n  var ks = keys(a);\n  var idx = 0;\n  while (idx < ks.length) {\n    result[ks[idx]] = a[ks[idx]];\n    idx += 1;\n  }\n  ks = keys(b);\n  idx = 0;\n  while (idx < ks.length) {\n    result[ks[idx]] = b[ks[idx]];\n    idx += 1;\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/merge.js\n **/","var _curry2 = require('./internal/_curry2');\nvar _equals = require('./internal/_equals');\n\n\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise.\n * Dispatches to an `equals` method if present. Handles cyclical data\n * structures.\n *\n * Dispatches to the `equals` method of both arguments, if present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      var a = {}; a.v = a;\n *      var b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\nmodule.exports = _curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/equals.js\n **/","var _arrayFromIterator = require('./_arrayFromIterator');\nvar _has = require('./_has');\nvar identical = require('../identical');\nvar keys = require('../keys');\nvar type = require('../type');\n\n\nmodule.exports = function _equals(a, b, stackA, stackB) {\n  if (identical(a, b)) {\n    return true;\n  }\n\n  if (type(a) !== type(b)) {\n    return false;\n  }\n\n  if (a == null || b == null) {\n    return false;\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) &&\n           typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (type(a)) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      break;\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && identical(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n      break;\n    case 'Date':\n      if (!identical(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n      break;\n    case 'RegExp':\n      if (!(a.source === b.source &&\n            a.global === b.global &&\n            a.ignoreCase === b.ignoreCase &&\n            a.multiline === b.multiline &&\n            a.sticky === b.sticky &&\n            a.unicode === b.unicode)) {\n        return false;\n      }\n      break;\n    case 'Map':\n    case 'Set':\n      if (!_equals(_arrayFromIterator(a.entries()), _arrayFromIterator(b.entries()), stackA, stackB)) {\n        return false;\n      }\n      break;\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n      break;\n    case 'ArrayBuffer':\n      break;\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var idx = stackA.length - 1;\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n    idx -= 1;\n  }\n\n  stackA.push(a);\n  stackB.push(b);\n  idx = keysA.length - 1;\n  while (idx >= 0) {\n    var key = keysA[idx];\n    if (!(_has(key, b) && _equals(b[key], a[key], stackA, stackB))) {\n      return false;\n    }\n    idx -= 1;\n  }\n  stackA.pop();\n  stackB.pop();\n  return true;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_equals.js\n **/","module.exports = function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n  return list;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_arrayFromIterator.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns true if its arguments are identical, false otherwise. Values are\n * identical if they reference the same memory. `NaN` is identical to `NaN`;\n * `0` and `-0` are not identical.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> a -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      var o = {};\n *      R.identical(o, o); //=> true\n *      R.identical(1, 1); //=> true\n *      R.identical(1, '1'); //=> false\n *      R.identical([], []); //=> false\n *      R.identical(0, -0); //=> false\n *      R.identical(NaN, NaN); //=> true\n */\nmodule.exports = _curry2(function identical(a, b) {\n  // SameValue algorithm\n  if (a === b) { // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/identical.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns a new object that does not contain a `prop` property.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Object\n * @sig String -> {k: v} -> {k: v}\n * @param {String} prop the name of the property to dissociate\n * @param {Object} obj the object to clone\n * @return {Object} a new object similar to the original but without the specified property\n * @see R.assoc\n * @example\n *\n *      R.dissoc('b', {a: 1, b: 2, c: 3}); //=> {a: 1, c: 3}\n */\nmodule.exports = _curry2(function dissoc(prop, obj) {\n  var result = {};\n  for (var p in obj) {\n    if (p !== prop) {\n      result[p] = obj[p];\n    }\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/dissoc.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Creates a new object by recursively evolving a shallow copy of `object`, according to the\n * `transformation` functions. All non-primitive properties are copied by reference.\n *\n * A `transformation` function will not be invoked if its corresponding key does not exist in\n * the evolved object.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig {k: (v -> v)} -> {k: v} -> {k: v}\n * @param {Object} transformations The object specifying transformation functions to apply\n *        to the object.\n * @param {Object} object The object to be transformed.\n * @return {Object} The transformed object.\n * @example\n *\n *      var tomato  = {firstName: '  Tomato ', data: {elapsed: 100, remaining: 1400}, id:123};\n *      var transformations = {\n *        firstName: R.trim,\n *        lastName: R.trim, // Will not get invoked.\n *        data: {elapsed: R.add(1), remaining: R.add(-1)}\n *      };\n *      R.evolve(transformations, tomato); //=> {firstName: 'Tomato', data: {elapsed: 101, remaining: 1399}, id:123}\n */\nmodule.exports = _curry2(function evolve(transformations, object) {\n  var transformation, key, type, result = {};\n  for (key in object) {\n    transformation = transformations[key];\n    type = typeof transformation;\n    result[key] = type === 'function' ? transformation(object[key])\n                : type === 'object'   ? evolve(transformations[key], object[key])\n                                      : object[key];\n  }\n  return result;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/evolve.js\n **/","var _concat = require('./internal/_concat');\nvar _curry3 = require('./internal/_curry3');\n\n\n/**\n * Applies a function to the value at the given index of an array,\n * returning a new copy of the array with the element at the given\n * index replaced with the result of the function application.\n * @see R.update\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig (a -> a) -> Number -> [a] -> [a]\n * @param {Function} fn The function to apply.\n * @param {Number} idx The index.\n * @param {Array|Arguments} list An array-like object whose value\n *        at the supplied index will be replaced.\n * @return {Array} A copy of the supplied array-like object with\n *         the element at index `idx` replaced with the value\n *         returned by applying `fn` to the existing element.\n * @example\n *\n *      R.adjust(R.add(10), 1, [0, 1, 2]);     //=> [0, 11, 2]\n *      R.adjust(R.add(10))(1)([0, 1, 2]);     //=> [0, 11, 2]\n */\nmodule.exports = _curry3(function adjust(fn, idx, list) {\n  if (idx >= list.length || idx < -list.length) {\n    return list;\n  }\n  var start = idx < 0 ? list.length : 0;\n  var _idx = start + idx;\n  var _list = _concat(list);\n  _list[_idx] = fn(list[_idx]);\n  return _list;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/adjust.js\n **/","/**\n * Private `concat` function to merge two array-like objects.\n *\n * @private\n * @param {Array|Arguments} [set1=[]] An array-like object.\n * @param {Array|Arguments} [set2=[]] An array-like object.\n * @return {Array} A new, merged array.\n * @example\n *\n *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n */\nmodule.exports = function _concat(set1, set2) {\n  set1 = set1 || [];\n  set2 = set2 || [];\n  var idx;\n  var len1 = set1.length;\n  var len2 = set2.length;\n  var result = [];\n\n  idx = 0;\n  while (idx < len1) {\n    result[result.length] = set1[idx];\n    idx += 1;\n  }\n  idx = 0;\n  while (idx < len2) {\n    result[result.length] = set2[idx];\n    idx += 1;\n  }\n  return result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_concat.js\n **/","var _curry1 = require('./_curry1');\nvar _curry2 = require('./_curry2');\n\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry3(fn) {\n  return function f3(a, b, c) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f3;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 1) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry2(function(a, c) { return fn(a, b, c); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 2) {\n      return _curry1(function(c) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return f3;\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return _curry2(function(a, b) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return _curry2(function(a, c) { return fn(a, b, c); });\n    } else if (n === 3 && b != null && b['@@functional/placeholder'] === true &&\n                          c != null && c['@@functional/placeholder'] === true) {\n      return _curry2(function(b, c) { return fn(a, b, c); });\n    } else if (n === 3 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b, c); });\n    } else if (n === 3 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b, c); });\n    } else if (n === 3 && c != null && c['@@functional/placeholder'] === true) {\n      return _curry1(function(c) { return fn(a, b, c); });\n    } else {\n      return fn(a, b, c);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_curry3.js\n **/","var _concat = require('./internal/_concat');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Returns a new list containing the contents of the given list, followed by the given\n * element.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The element to add to the end of the new list.\n * @param {Array} list The list whose contents will be added to the beginning of the output\n *        list.\n * @return {Array} A new list containing the contents of the old list followed by `el`.\n * @see R.prepend\n * @example\n *\n *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']\n *      R.append('tests', []); //=> ['tests']\n *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]\n */\nmodule.exports = _curry2(function append(el, list) {\n  return _concat(list, [el]);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/append.js\n **/","var _concat = require('./internal/_concat');\nvar _curry3 = require('./internal/_curry3');\nvar _slice = require('./internal/_slice');\n\n\n/**\n * Removes the sub-list of `list` starting at index `start` and containing\n * `count` elements.  _Note that this is not destructive_: it returns a\n * copy of the list with the changes.\n * <small>No lists have been harmed in the application of this function.</small>\n *\n * @func\n * @memberOf R\n * @since v0.2.2\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @param {Number} start The position to start removing elements\n * @param {Number} count The number of elements to remove\n * @param {Array} list The list to remove from\n * @return {Array} A new Array with `count` elements from `start` removed.\n * @example\n *\n *      R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=> [1,2,6,7,8]\n */\nmodule.exports = _curry3(function remove(start, count, list) {\n  return _concat(_slice(list, 0, Math.min(start, list.length)),\n                 _slice(list, Math.min(list.length, start + count)));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/remove.js\n **/","var always = require('./always');\n\n\n/**\n * A function that always returns `true`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.always, R.F\n * @example\n *\n *      R.T(); //=> true\n */\nmodule.exports = always(true);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/T.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * Returns a function that always returns the given value. Note that for\n * non-primitives the value returned is a reference to the original value.\n *\n * This function is known as `const`, `constant`, or `K` (for K combinator)\n * in other languages and libraries.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> (* -> a)\n * @param {*} val The value to wrap in a function\n * @return {Function} A Function :: * -> val.\n * @example\n *\n *      var t = R.always('Tee');\n *      t(); //=> 'Tee'\n */\nmodule.exports = _curry1(function always(val) {\n  return function() {\n    return val;\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/always.js\n **/","import flyd from 'flyd'\r\nimport Type from 'union-type'\r\nimport { logAction, displayFromDiff, diff, actionModuleInfo } from './utils/logdiff'\r\nimport Composing from './utils/composing'\r\nimport timetravel from './modules/timetravel'\r\nimport style from './utils/style'\r\n\r\nconst R = {\r\n  pipe: require('ramda/src/pipe'),\r\n  equals: require('ramda/src/equals'),\r\n}\r\n\r\n// Attach architecture to the main module\r\nlet run = engineDef => {\r\n\r\n  let ctx, state$, driverStreams = {}, module\r\n  let middleUpdatesArr = [], middleware = engineDef.middleware || {}, log = engineDef.log || false\r\n  engineDef.logAll = (engineDef.hasOwnProperty('logAll')) ? engineDef.logAll : false\r\n\r\n  for (let key in middleware) {\r\n    middleUpdatesArr.push(middleware[key])\r\n  }\r\n\r\n  // TODO: Document that middleware can slow programs\r\n  let middleUpdates = (middleUpdatesArr.length == 0) ? m => m : R.pipe.apply(this, middleUpdatesArr)\r\n\r\n  let moduleDef = (engineDef.timetravel) ? timetravel(engineDef.root) : engineDef.root\r\n\r\n  let attach = state => { // state is used for webpack HMR\r\n\r\n    module = Composing.merge(moduleDef, {})\r\n    ctx = module.ctx\r\n\r\n    function log(m, newState, action = { _initial: true, _log: engineDef.log || engineDef.logAll, _moduleName: module.name }) {\r\n      let actionInfo = actionModuleInfo(action)\r\n      if (engineDef.log && actionInfo.log || engineDef.logAll) {\r\n        if (!action._initial) {\r\n          logAction(action)\r\n          displayFromDiff(diff(m, newState))\r\n        } else {\r\n          console.log('%c Fractal is initializing your app.', 'color: purple; font-size: 14px')\r\n          console.log('%c Initial state computed ...', 'color: purple; font-size: 14px')\r\n          console.log('%c Connecting machines to external world ...', 'color: purple; font-size: 14px')\r\n          console.log('%c Done. Have a nice day!! :)', 'color: purple; font-size: 14px')\r\n        }\r\n        console.log(newState)\r\n      }\r\n      return newState\r\n    }\r\n\r\n    state$ = flyd.scan((m, a) => log(m, middleUpdates(module.update(a, m)), Composing.addModuleInfo(module, a)), log({}, middleUpdates((state) ? state : module.init({key: 'mainModule'}))), ctx.action$) // state\r\n\r\n    // automerge services\r\n    if (!engineDef.tasks) {\r\n      engineDef.tasks = {}\r\n    }\r\n    if (!engineDef.drivers) {\r\n      engineDef.drivers = {}\r\n    }\r\n    for (let serviceName in engineDef.services) {\r\n      for (let taskName in engineDef.services[serviceName].tasks) {\r\n        if (taskName == '_') {\r\n          engineDef.tasks[serviceName] = engineDef.services[serviceName].tasks[taskName]\r\n        } else {\r\n          engineDef.tasks[`${serviceName}_${taskName}`] = engineDef.services[serviceName].tasks[taskName]\r\n        }\r\n      }\r\n      for (let driverName in engineDef.services[serviceName].drivers) {\r\n        if (driverName == '_') {\r\n          engineDef.drivers[serviceName] = engineDef.services[serviceName].drivers[driverName]\r\n        } else {\r\n          engineDef.drivers[`${serviceName}_${driverName}`] = engineDef.services[serviceName].drivers[driverName]\r\n        }\r\n      }\r\n    }\r\n\r\n    // connect tasks handlers to interfaces\r\n    flyd.on(t => {\r\n      let task = Composing.addModuleInfo(moduleDef, t)\r\n      if (engineDef.tasks[task[0]]) {\r\n        engineDef.tasks[task[0]].run(task[1])\r\n      } else if (engineDef.log && task._log || engineDef.logAll) {\r\n        console.warn(`There are no handler for ${task[0]} task, sended by ${task._moduleName} module`)\r\n      }\r\n    }, ctx.task$)\r\n\r\n    // attach drivers to interfaces\r\n    for (let driverName in engineDef.drivers) {\r\n      if (module.interfaces[driverName]) {\r\n        // TODO: evaluate error handling, maybe an error$ stream\r\n        // driverStreams[driverName] =\r\n        //   flyd.map(state => e('driverExecution', {name: driverName, state}, () => module.interfaces[driverName](state)), state$)\r\n        driverStreams[driverName] = flyd.map(module.interfaces[driverName], state$)\r\n        if (state) {\r\n          engineDef.drivers[driverName].reattach(driverStreams[driverName])\r\n        } else {\r\n          engineDef.drivers[driverName].attach(driverStreams[driverName])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  let disposeConnections = () => {\r\n    ctx.action$.end(true)\r\n    ctx.task$.end(true)\r\n    state$.end(true)\r\n    for (let driverName in driverStreams) {\r\n      driverStreams[driverName].end(true)\r\n      engineDef.drivers[driverName].dispose()\r\n    }\r\n  }\r\n\r\n  let dispose = () => {\r\n    disposeConnections()\r\n    style.dispose()\r\n  }\r\n\r\n  let reattach = (reModule) => {\r\n    // TODO: this can be optimized for hot realoading with a diff-patch algorithm\r\n    disposeConnections()\r\n    let newState = (R.equals(moduleDef.init({key: 'mainModule'}), reModule.init({key: 'mainModule'}))) ? state$() : reModule.init({key: 'mainModule'})\r\n    moduleDef = reModule\r\n    attach(newState)\r\n  }\r\n\r\n  attach()\r\n\r\n  return {\r\n    ctx,\r\n    inputs: module.inputs,\r\n    tasks: engineDef.tasks,\r\n    drivers: engineDef.drivers,\r\n    reattach,\r\n    dispose,\r\n  }\r\n}\r\n\r\nexport default {\r\n  run,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/engine.js\n **/","import deepDiff from 'deep-diff'\r\n\r\nexport const diff = deepDiff.diff\r\n\r\nexport function prettyAction(action) {\r\n  let actionInfo = actionModuleInfo(action)\r\n  return `${actionInfo.modulePath.join(' -> ')} / ${actionInfo.lastAction.name}: ${prettyParams(actionInfo.lastAction)}`\r\n}\r\n\r\n\r\nexport function prettyActionDetailed(action) {\r\n  let path = [], nested = action\r\n  while (nested[nested.length - 1] != undefined && nested[nested.length - 1].of != undefined) {\r\n    if (nested.length == 0) {\r\n      path.push(nested.name)\r\n    } else {\r\n      path.push(nested.name + ' ' + prettyParams(nested))\r\n    }\r\n    nested = nested[nested.length - 1]\r\n  }\r\n  path.push(nested.name)\r\n  return `${path.join(' -> ')} : ${prettyParams(nested)}`\r\n}\r\n\r\n// deep extract info from an Action: log, modulePath, lastAction\r\nexport function actionModuleInfo(action) {\r\n  let modulePath = [], nested = action, log, logAll = false\r\n  while (nested[nested.length - 1] != undefined && nested[nested.length - 1].of != undefined) {\r\n    logAll = logAll || nested._logAll\r\n    modulePath.push(nested._moduleName)\r\n    nested = nested[nested.length - 1]\r\n  }\r\n  log = logAll || nested._log || nested._logAll\r\n  modulePath.push(nested._moduleName)\r\n  return {\r\n    log,\r\n    modulePath,\r\n    lastAction: nested,\r\n  }\r\n}\r\n\r\nexport function prettyParams(params) {\r\n  let paramString = params.map(param => {\r\n    if (typeof(param) === 'function' || typeof(param) === 'object') {\r\n      if (Array.isArray(param)) {\r\n        return 'array'\r\n      } else {\r\n        return typeof param\r\n      }\r\n    }\r\n    return param\r\n  }).join(', ')\r\n  return (paramString === '') ? 'none' : paramString\r\n}\r\n\r\nexport function prettyDiff(diffArray) {\r\n  diffArray = diffArray || []\r\n  let logs = []\r\n  diffArray.forEach(diff => {\r\n    let getType = diff => {\r\n      if (diff.kind == 'N')\r\n        return 'added'\r\n      else if (diff.kind == 'D')\r\n        return 'deleted'\r\n      else if (diff.kind == 'E')\r\n        return 'edited'\r\n      else if (diff.kind == 'A')\r\n        return 'array'\r\n    }\r\n\r\n    let type = getType(diff)\r\n\r\n    if(type == 'array') // if an array is modified\r\n      logs.push(`${type} ${diff.path.join('.')} : index ${diff.index} ${getType(diff.item)}`)\r\n    else\r\n      logs.push(`${type} ${diff.path.join('.')} : ${diff.lhs} -> ${diff.rhs}`)\r\n  })\r\n  return logs\r\n}\r\n\r\nexport function logAction(action) { console.log(`%c${prettyAction(action)}`, 'color: green') }\r\n\r\nexport function displayFromDiff(diffArray) {\r\n  prettyDiff(diffArray).forEach(log => console.log(`%c${log}`, 'color: darkblue'))\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/logdiff.js\n **/","/*!\n * deep-diff.\n * Licensed under the MIT License.\n */\n;(function(root, factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function() {\n      return factory();\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.DeepDiff = factory();\n  }\n}(this, function(undefined) {\n  'use strict';\n\n  var $scope, conflict, conflictResolution = [];\n  if (typeof global === 'object' && global) {\n    $scope = global;\n  } else if (typeof window !== 'undefined') {\n    $scope = window;\n  } else {\n    $scope = {};\n  }\n  conflict = $scope.DeepDiff;\n  if (conflict) {\n    conflictResolution.push(\n      function() {\n        if ('undefined' !== typeof conflict && $scope.DeepDiff === accumulateDiff) {\n          $scope.DeepDiff = conflict;\n          conflict = undefined;\n        }\n      });\n  }\n\n  // nodejs compatible on server side and in the browser.\n  function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  }\n\n  function Diff(kind, path) {\n    Object.defineProperty(this, 'kind', {\n      value: kind,\n      enumerable: true\n    });\n    if (path && path.length) {\n      Object.defineProperty(this, 'path', {\n        value: path,\n        enumerable: true\n      });\n    }\n  }\n\n  function DiffEdit(path, origin, value) {\n    DiffEdit.super_.call(this, 'E', path);\n    Object.defineProperty(this, 'lhs', {\n      value: origin,\n      enumerable: true\n    });\n    Object.defineProperty(this, 'rhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffEdit, Diff);\n\n  function DiffNew(path, value) {\n    DiffNew.super_.call(this, 'N', path);\n    Object.defineProperty(this, 'rhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffNew, Diff);\n\n  function DiffDeleted(path, value) {\n    DiffDeleted.super_.call(this, 'D', path);\n    Object.defineProperty(this, 'lhs', {\n      value: value,\n      enumerable: true\n    });\n  }\n  inherits(DiffDeleted, Diff);\n\n  function DiffArray(path, index, item) {\n    DiffArray.super_.call(this, 'A', path);\n    Object.defineProperty(this, 'index', {\n      value: index,\n      enumerable: true\n    });\n    Object.defineProperty(this, 'item', {\n      value: item,\n      enumerable: true\n    });\n  }\n  inherits(DiffArray, Diff);\n\n  function arrayRemove(arr, from, to) {\n    var rest = arr.slice((to || from) + 1 || arr.length);\n    arr.length = from < 0 ? arr.length + from : from;\n    arr.push.apply(arr, rest);\n    return arr;\n  }\n\n  function realTypeOf(subject) {\n    var type = typeof subject;\n    if (type !== 'object') {\n      return type;\n    }\n\n    if (subject === Math) {\n      return 'math';\n    } else if (subject === null) {\n      return 'null';\n    } else if (Array.isArray(subject)) {\n      return 'array';\n    } else if (Object.prototype.toString.call(subject) === '[object Date]') {\n      return 'date';\n    } else if (typeof subject.toString !== 'undefined' && /^\\/.*\\//.test(subject.toString())) {\n      return 'regexp';\n    }\n    return 'object';\n  }\n\n  function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {\n    path = path || [];\n    var currentPath = path.slice(0);\n    if (typeof key !== 'undefined') {\n      if (prefilter) {\n        if (typeof(prefilter) === 'function' && prefilter(currentPath, key)) { return; }\n        else if (typeof(prefilter) === 'object') {\n          if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) { return; }\n          if (prefilter.normalize) {\n            var alt = prefilter.normalize(currentPath, key, lhs, rhs);\n            if (alt) {\n              lhs = alt[0];\n              rhs = alt[1];\n            }\n          }\n        }\n      }\n      currentPath.push(key);\n    }\n\n    // Use string comparison for regexes\n    if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {\n      lhs = lhs.toString();\n      rhs = rhs.toString();\n    }\n\n    var ltype = typeof lhs;\n    var rtype = typeof rhs;\n    if (ltype === 'undefined') {\n      if (rtype !== 'undefined') {\n        changes(new DiffNew(currentPath, rhs));\n      }\n    } else if (rtype === 'undefined') {\n      changes(new DiffDeleted(currentPath, lhs));\n    } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    } else if (Object.prototype.toString.call(lhs) === '[object Date]' && Object.prototype.toString.call(rhs) === '[object Date]' && ((lhs - rhs) !== 0)) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    } else if (ltype === 'object' && lhs !== null && rhs !== null) {\n      stack = stack || [];\n      if (stack.indexOf(lhs) < 0) {\n        stack.push(lhs);\n        if (Array.isArray(lhs)) {\n          var i, len = lhs.length;\n          for (i = 0; i < lhs.length; i++) {\n            if (i >= rhs.length) {\n              changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));\n            } else {\n              deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);\n            }\n          }\n          while (i < rhs.length) {\n            changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));\n          }\n        } else {\n          var akeys = Object.keys(lhs);\n          var pkeys = Object.keys(rhs);\n          akeys.forEach(function(k, i) {\n            var other = pkeys.indexOf(k);\n            if (other >= 0) {\n              deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);\n              pkeys = arrayRemove(pkeys, other);\n            } else {\n              deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);\n            }\n          });\n          pkeys.forEach(function(k) {\n            deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);\n          });\n        }\n        stack.length = stack.length - 1;\n      }\n    } else if (lhs !== rhs) {\n      if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {\n        changes(new DiffEdit(currentPath, lhs, rhs));\n      }\n    }\n  }\n\n  function accumulateDiff(lhs, rhs, prefilter, accum) {\n    accum = accum || [];\n    deepDiff(lhs, rhs,\n      function(diff) {\n        if (diff) {\n          accum.push(diff);\n        }\n      },\n      prefilter);\n    return (accum.length) ? accum : undefined;\n  }\n\n  function applyArrayChange(arr, index, change) {\n    if (change.path && change.path.length) {\n      var it = arr[index],\n          i, u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          delete it[change.path[i]];\n          break;\n        case 'E':\n        case 'N':\n          it[change.path[i]] = change.rhs;\n          break;\n      }\n    } else {\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(arr[index], change.index, change.item);\n          break;\n        case 'D':\n          arr = arrayRemove(arr, index);\n          break;\n        case 'E':\n        case 'N':\n          arr[index] = change.rhs;\n          break;\n      }\n    }\n    return arr;\n  }\n\n  function applyChange(target, source, change) {\n    if (target && source && change && change.kind) {\n      var it = target,\n          i = -1,\n          last = change.path ? change.path.length - 1 : 0;\n      while (++i < last) {\n        if (typeof it[change.path[i]] === 'undefined') {\n          it[change.path[i]] = (typeof change.path[i] === 'number') ? [] : {};\n        }\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);\n          break;\n        case 'D':\n          delete it[change.path[i]];\n          break;\n        case 'E':\n        case 'N':\n          it[change.path[i]] = change.rhs;\n          break;\n      }\n    }\n  }\n\n  function revertArrayChange(arr, index, change) {\n    if (change.path && change.path.length) {\n      // the structure of the object at the index has changed...\n      var it = arr[index],\n          i, u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          revertArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'E':\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'N':\n          delete it[change.path[i]];\n          break;\n      }\n    } else {\n      // the array item is different...\n      switch (change.kind) {\n        case 'A':\n          revertArrayChange(arr[index], change.index, change.item);\n          break;\n        case 'D':\n          arr[index] = change.lhs;\n          break;\n        case 'E':\n          arr[index] = change.lhs;\n          break;\n        case 'N':\n          arr = arrayRemove(arr, index);\n          break;\n      }\n    }\n    return arr;\n  }\n\n  function revertChange(target, source, change) {\n    if (target && source && change && change.kind) {\n      var it = target,\n          i, u;\n      u = change.path.length - 1;\n      for (i = 0; i < u; i++) {\n        if (typeof it[change.path[i]] === 'undefined') {\n          it[change.path[i]] = {};\n        }\n        it = it[change.path[i]];\n      }\n      switch (change.kind) {\n        case 'A':\n          // Array was modified...\n          // it will be an array...\n          revertArrayChange(it[change.path[i]], change.index, change.item);\n          break;\n        case 'D':\n          // Item was deleted...\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'E':\n          // Item was edited...\n          it[change.path[i]] = change.lhs;\n          break;\n        case 'N':\n          // Item is new...\n          delete it[change.path[i]];\n          break;\n      }\n    }\n  }\n\n  function applyDiff(target, source, filter) {\n    if (target && source) {\n      var onChange = function(change) {\n        if (!filter || filter(target, source, change)) {\n          applyChange(target, source, change);\n        }\n      };\n      deepDiff(target, source, onChange);\n    }\n  }\n\n  Object.defineProperties(accumulateDiff, {\n\n    diff: {\n      value: accumulateDiff,\n      enumerable: true\n    },\n    observableDiff: {\n      value: deepDiff,\n      enumerable: true\n    },\n    applyDiff: {\n      value: applyDiff,\n      enumerable: true\n    },\n    applyChange: {\n      value: applyChange,\n      enumerable: true\n    },\n    revertChange: {\n      value: revertChange,\n      enumerable: true\n    },\n    isConflict: {\n      value: function() {\n        return 'undefined' !== typeof conflict;\n      },\n      enumerable: true\n    },\n    noConflict: {\n      value: function() {\n        if (conflictResolution) {\n          conflictResolution.forEach(function(it) {\n            it();\n          });\n          conflictResolution = null;\n        }\n        return accumulateDiff;\n      },\n      enumerable: true\n    }\n  });\n\n  return accumulateDiff;\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/deep-diff/index.js\n **/","const R = {\r\n  T: require('ramda/src/T'),\r\n  evolve: require('ramda/src/evolve'),\r\n  not: require('ramda/src/not'),\r\n  always: require('ramda/src/always'),\r\n  F: require('ramda/src/F'),\r\n  inc: require('ramda/src/inc'),\r\n  ifElse: require('ramda/src/ifElse'),\r\n  update: require('ramda/src/update'),\r\n  append: require('ramda/src/append'),\r\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\r\n}\r\nconst h = require('snabbdom/h')\r\nconst F = {...require('../core').default, ...require('../utils/composing').default}\r\nimport logAction from '../utils/logdiff'\r\n\r\n\r\nlet timetravel = (child, log = true) => {\r\n\r\n  return F.def({\r\n    logAll: true,\r\n    init: () => ({\r\n      time: 0,\r\n      active: true,\r\n      playing: false,\r\n      frameTime: 0,\r\n      opened: false,\r\n      state: child.init(),\r\n      history: [{ state: child.init(), timestamp: (new Date()).getTime() }],\r\n    }),\r\n    // inputs\r\n    inputs: {\r\n      toggleTimeTravel: (ctx, Action, _) => ctx.action$(Action.ToggleTimeTravel()),\r\n      setTime: (ctx, Action, time) => ctx.action$(Action.SetTime(time)),\r\n      childAction: (ctx, Action, a) => ctx.action$(Action.ChildAction(a)),\r\n      setActive: (ctx, Action, bool) => ctx.action$(Action.SetActive(bool)),\r\n      clearHistory: (ctx, Action, _) => ctx.action$(Action.ClearHistory()),\r\n      play: (ctx, Action, playing) => ctx.action$(Action.Play(playing)),\r\n      frame: (ctx, Action, _) => ctx.action$(Action.Frame()),\r\n    },\r\n    load: (ctx, i, Action) => {\r\n      return {\r\n        child: F.createContext(child, {action$: (s.active) ? i.childAction : a => {\r\n          if (log) {\r\n            logAction(a)\r\n          }\r\n        }}),\r\n      }\r\n    },\r\n    Action: {\r\n      ToggleTimeTravel: [],\r\n      Frame: [],\r\n      Play: [R.T],\r\n      SetActive: [R.T],\r\n      SetTime: [Number],\r\n      ClearHistory: [],\r\n      ChildAction: [Array],\r\n    },\r\n    update: {\r\n      ToggleTimeTravel: R.evolve({opened: R.not}),\r\n      SetActive: (bool, s) => R.evolve({active: R.always(bool)}, s),\r\n      SetTime: (time, s) => {\r\n        let validTime = time\r\n        if (time >= s.history.length)\r\n          validTime = s.history.length - 1\r\n        else if (time < 0)\r\n          validTime = 0\r\n        let nextState = s.history[validTime].state\r\n        return R.evolve({\r\n          active: R.F,\r\n          state: R.always(nextState),\r\n          time: R.always(validTime),\r\n        }, s)\r\n      },\r\n      ClearHistory: s => {\r\n        let step = R.evolve({timestamp: R.always((new Date()).getTime())}, s.history[s.time])\r\n        return R.evolve({\r\n          time: R.always(0),\r\n          state: R.always(step.state),\r\n          history: R.always([step]),\r\n        }, s)\r\n      },\r\n      ChildAction: (action, s) => {\r\n        let evolveFn = R.evolve({\r\n          state: child.update(action),\r\n          timestamp: R.always((new Date()).getTime())\r\n        }, s.history[s.time])\r\n        let newState = R.evolve({\r\n          time: R.inc,\r\n          state: R.always(evolveFn.state),\r\n          history: R.ifElse(\r\n            h => !!h[s.time + 1], // exist that registry in history?\r\n            R.update(s.time + 1, evolveFn), // rescribe history\r\n            R.append(evolveFn) // create history\r\n          )\r\n        }, s)\r\n        if (newState.history.length == 2) { // casse for large time witout an update\r\n          newState.history[0].timestamp = newState.history[1].timestamp\r\n        }\r\n        return newState\r\n      },\r\n\r\n      Play: (playing, s) => {\r\n        if (playing) {\r\n          if (s.time != s.history.length - 1)\r\n            return R.evolve({\r\n              active: R.F,\r\n              playing: R.T,\r\n              frameTime: R.always(s.history[s.time + 1].timestamp - s.history[s.time].timestamp),\r\n            }, s)\r\n          else\r\n            return R.evolve({\r\n              active: R.F,\r\n              playing: R.F,\r\n            }, s)\r\n        } else {\r\n          return R.evolve({\r\n            active: R.F,\r\n            playing: R.F,\r\n          }, s)\r\n        }\r\n      },\r\n      Frame: s => {\r\n        if (s.time != s.history.length - 1) {\r\n          let frameTime = (s.time < s.history.length - 2) ? R.always(s.history[s.time + 2].timestamp - s.history[s.time + 1].timestamp) : R.always(0)\r\n          let nextState = s.history[s.time + 1].state\r\n          return R.evolve({\r\n            active: R.F,\r\n            time: R.inc,\r\n            playing: frameTime >= 0,\r\n            state: R.always(nextState),\r\n            frameTime,\r\n          }, s)\r\n        } else\r\n          return R.evolve({\r\n            active: R.F,\r\n            playing: R.F,\r\n          }, s)\r\n      }\r\n    },\r\n    interfaces: {\r\n      view: (ctx, i, s) => { // inputs, outputs and state\r\n        return h('div', {style: {\r\n            width: '100%',\r\n            height: '100%',\r\n            overflow: 'auto',\r\n          } }, [\r\n          ctx._md.child.interfaces.view(s.history[s.time].state),\r\n          h('button', {\r\n            style: styles.toggleButton,\r\n            on: {click: i.toggleTimeTravel}\r\n          }, 'tt'),\r\n          h('footer', {style: {...styles.base, display: (s.opened) ? 'flex' : 'none'}}, [\r\n            h('div', {style: styles.controls}, [\r\n              h('button', {style: styles.button, on: {click: () => i.setTime(s.time - 1)}}, 'Back'),\r\n              h('button', {style: styles.button, on: {click: () => i.setTime(s.time + 1)}}, 'Forward'),\r\n              h('button', {style: styles.button, on: {click: () => i.setActive(!s.active)}}, (s.active) ? 'Pause' : 'Unpause'),\r\n              h('button', {style: styles.button, on: {click: () => i.clearHistory(undefined)}}, 'Clear history'),\r\n              h('button', {style: styles.button, on: {click: () => i.play(!s.playing)}}, (s.playing) ? 'Pause replay' : 'Replay'),\r\n              h('span', {style: styles.time}, s.time),\r\n            ]),\r\n            h('input', {\r\n              style: styles.slider,\r\n              props: {type: 'range', max: s.history.length - 1, min: 0, value: s.time},\r\n              on: {\r\n                input: ev => i.setTime(parseInt(ev.target.value)),\r\n              },\r\n            })\r\n          ]),\r\n        ])\r\n      },\r\n      // TODO: update this interface mergers\r\n      time: (ctx, i, s) => {\r\n        return {\r\n          timer: {\r\n            periodic: false,\r\n            active: s.playing,\r\n            time: s.frameTime,\r\n            on: i.frame,\r\n          },\r\n          ...(() => { // mergin child interfaces\r\n            let timers = {}\r\n            if (child.interfaces.time) {\r\n              R.mapObjIndexed((obj, name) => {\r\n                timers['child' + name] = obj\r\n                if (!s.active)\r\n                  timers['child' + name].active = false\r\n              }, ctx._md.child.interfaces.time(s.history[s.time].state))\r\n            }\r\n            return timers\r\n          })()\r\n        }\r\n      },\r\n      fetch: (ctx, i, s) => {\r\n        return {\r\n          ...(() => { // mergin child interfaces\r\n            let fetches = {}\r\n            if (child.interfaces.fetch) {\r\n              R.mapObjIndexed((obj, name) => {\r\n                fetches['child' + name] = obj\r\n                if (!s.active)\r\n                  fetches['child' + name].active = false\r\n              }, ctx._md.child.interfaces.fetch(s.history[s.time].state))\r\n            }\r\n            return fetches\r\n          })()\r\n        }\r\n      },\r\n    },\r\n\r\n  })\r\n}\r\n\r\nexport default timetravel\r\n\r\nconst styles = {\r\n  base: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    minHeight: '100px',\r\n    bottom: '0px',\r\n    display: 'flex',\r\n    'flex-direction': 'column',\r\n    'justify-content': 'center',\r\n    'align-items': 'center',\r\n    zIndex: '99999',\r\n  },\r\n  toggleButton: {\r\n    position: 'fixed',\r\n    bottom: '0px',\r\n    left: '0px',\r\n    zIndex: '10000',\r\n  },\r\n  controls: {\r\n    width: '100%',\r\n    minHeight: '30px',\r\n    'margin-bottom': '5px',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    'justify-content': 'space-around',\r\n  },\r\n  time: {\r\n    float: 'right',\r\n  },\r\n  slider: {\r\n    width: '90%',\r\n  },\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/timetravel.js\n **/","var _curry1 = require('./internal/_curry1');\n\n\n/**\n * A function that returns the `!` of its argument. It will return `true` when\n * passed false-y value, and `false` when passed a truth-y one.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig * -> Boolean\n * @param {*} a any value\n * @return {Boolean} the logical inverse of passed argument.\n * @see R.complement\n * @example\n *\n *      R.not(true); //=> false\n *      R.not(false); //=> true\n *      R.not(0); => true\n *      R.not(1); => false\n */\nmodule.exports = _curry1(function not(a) {\n  return !a;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/not.js\n **/","var always = require('./always');\n\n\n/**\n * A function that always returns `false`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.always, R.T\n * @example\n *\n *      R.F(); //=> false\n */\nmodule.exports = always(false);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/F.js\n **/","var add = require('./add');\n\n\n/**\n * Increments its argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Math\n * @sig Number -> Number\n * @param {Number} n\n * @return {Number}\n * @see R.dec\n * @example\n *\n *      R.inc(42); //=> 43\n */\nmodule.exports = add(1);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/inc.js\n **/","var _curry2 = require('./internal/_curry2');\n\n\n/**\n * Adds two numbers. Equivalent to `a + b` but curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a\n * @param {Number} b\n * @return {Number}\n * @see R.subtract\n * @example\n *\n *      R.add(2, 3);       //=>  5\n *      R.add(7)(10);      //=> 17\n */\nmodule.exports = _curry2(function add(a, b) { return a + b; });\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/add.js\n **/","var _curry3 = require('./internal/_curry3');\nvar curryN = require('./curryN');\n\n\n/**\n * Creates a function that will process either the `onTrue` or the `onFalse` function depending\n * upon the result of the `condition` predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Logic\n * @see R.unless, R.when\n * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n * @param {Function} condition A predicate function\n * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n * @return {Function} A new unary function that will process either the `onTrue` or the `onFalse`\n *                    function depending upon the result of the `condition` predicate.\n * @example\n *\n *      var incCount = R.ifElse(\n *        R.has('count'),\n *        R.over(R.lensProp('count'), R.inc),\n *        R.assoc('count', 1)\n *      );\n *      incCount({});           //=> { count: 1 }\n *      incCount({ count: 1 }); //=> { count: 2 }\n */\nmodule.exports = _curry3(function ifElse(condition, onTrue, onFalse) {\n  return curryN(Math.max(condition.length, onTrue.length, onFalse.length),\n    function _ifElse() {\n      return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n    }\n  );\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/ifElse.js\n **/","var _curry3 = require('./internal/_curry3');\nvar adjust = require('./adjust');\nvar always = require('./always');\n\n\n/**\n * Returns a new copy of the array with the element at the\n * provided index replaced with the given value.\n * @see R.adjust\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig Number -> a -> [a] -> [a]\n * @param {Number} idx The index to update.\n * @param {*} x The value to exist at the given index of the returned array.\n * @param {Array|Arguments} list The source array-like object to be updated.\n * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.\n * @example\n *\n *      R.update(1, 11, [0, 1, 2]);     //=> [0, 11, 2]\n *      R.update(1)(11)([0, 1, 2]);     //=> [0, 11, 2]\n */\nmodule.exports = _curry3(function update(idx, x, list) {\n  return adjust(always(x), idx, list);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/update.js\n **/","var VNode = require('./vnode');\nvar is = require('./is');\n\nfunction addNS(data, children, sel) {\n  data.ns = 'http://www.w3.org/2000/svg';\n\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (var i = 0; i < children.length; ++i) {\n      addNS(children[i].data, children[i].children, children[i].sel);\n    }\n  }\n}\n\nmodule.exports = function h(sel, b, c) {\n  var data = {}, children, text, i;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else { data = b; }\n  }\n  if (is.array(children)) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = VNode(undefined, undefined, undefined, children[i]);\n    }\n  }\n  if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g') {\n    addNS(data, children, sel);\n  }\n  return VNode(sel, data, children, text, undefined);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/h.js\n **/","module.exports = function(sel, data, children, text, elm) {\n  var key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/vnode.js\n **/","module.exports = {\n  array: Array.isArray,\n  primitive: function(s) { return typeof s === 'string' || typeof s === 'number'; },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/is.js\n **/","var _arity = require('./internal/_arity');\nvar _pipe = require('./internal/_pipe');\nvar reduce = require('./reduce');\nvar tail = require('./tail');\n\n\n/**\n * Performs left-to-right function composition. The leftmost function may have\n * any arity; the remaining functions must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      var f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n */\nmodule.exports = function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n  return _arity(arguments[0].length,\n                reduce(_pipe, arguments[0], tail(arguments)));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/pipe.js\n **/","module.exports = function _pipe(f, g) {\n  return function() {\n    return g.call(this, f.apply(this, arguments));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_pipe.js\n **/","var _curry3 = require('./internal/_curry3');\nvar _reduce = require('./internal/_reduce');\n\n\n/**\n * Returns a single item by iterating through the list, successively calling the iterator\n * function and passing it an accumulator value and the current value from the array, and\n * then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*.  It may use `R.reduced` to\n * shortcut the iteration.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse arrays), unlike\n * the native `Array.prototype.reduce` method. For more details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n * @see R.reduced\n *\n * Dispatches to the `reduce` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a,b -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @example\n *\n *      var numbers = [1, 2, 3];\n *      var add = (a, b) => a + b;\n *\n *      R.reduce(add, 10, numbers); //=> 16\n */\nmodule.exports = _curry3(_reduce);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/reduce.js\n **/","var _checkForMethod = require('./internal/_checkForMethod');\nvar slice = require('./slice');\n\n\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @see R.head, R.init, R.last\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\nmodule.exports = _checkForMethod('tail', slice(1, Infinity));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/tail.js\n **/","var _isArray = require('./_isArray');\nvar _slice = require('./_slice');\n\n\n/**\n * Similar to hasMethod, this checks whether a function has a [methodname]\n * function. If it isn't an array it will execute that function otherwise it will\n * default to the ramda implementation.\n *\n * @private\n * @param {Function} fn ramda implemtation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\nmodule.exports = function _checkForMethod(methodname, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return (_isArray(obj) || typeof obj[methodname] !== 'function') ?\n      fn.apply(this, arguments) :\n      obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/internal/_checkForMethod.js\n **/","var _checkForMethod = require('./internal/_checkForMethod');\nvar _curry3 = require('./internal/_curry3');\n\n\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\nmodule.exports = _curry3(_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/slice.js\n **/","// abstractions for a service\nconst F = {\n  data: require('./utils/data'),\n}\nconst R = {\n  curry: require('ramda/src/curry'),\n}\n\n// serverName, store, events, init, connect\nexport default function service(defObj) {\n\n  let isQueued = !!defObj.isQueued\n\n  let log = defObj.hasOwnProperty('log') || true\n\n  // TODO: fix this bug\n  // let subscribed = defObj.subscribed || () => 0\n  let subscribed = true\n\n  let serverName = defObj.serverName\n  let store = defObj.store\n  // TODO: document store._initialNotify\n  store._initialNotify = store.hasOwnProperty('_initialNotify') ? store._initialNotify : true\n  let eventQueue = []\n\n\n  let subscribers = -1\n\n  let events = defObj.events(store, notify, emit)\n  function emit(name, value, cbObj) {\n    if (events[name]) {\n      if (store.connected || !isQueued) {\n        events[name](value, cbObj)\n      } else {\n        eventQueue.push({name, value, cbObj})\n      }\n    } else if (log) {\n      console.warn(`There are no event handler for ${name} in this service`)\n    }\n  }\n  let init = R.curry(defObj.init)(store, emit)\n  defObj.connect = R.curry(defObj.connect)(store, emit)\n\n  function notify(name, data) {\n    for (var subscriber in subscribers) {\n      let parts = subscriber.split('_')\n      if (parts[parts.length - 1] === name) {\n        subscribers[subscriber](data)\n      }\n    }\n  }\n\n  function subscribeAll(subs) {\n    // avoid a bug with flyd.on TODO: needs review\n    if (subs != undefined) {\n      if (subscribers == -1 && store._initialNotify) { // Fixed needs review\n        subscribers = subs\n      } else {\n        subscribers = subs\n      }\n    }\n  }\n\n  // merge tasks and drivers to store\n  if (defObj.tasks) {\n    defObj.tasks = defObj.tasks(emit)\n    store._tasks = defObj.tasks\n  }\n  if (defObj.drivers) {\n    defObj.drivers = defObj.drivers(emit, subscribeAll)\n    store._drivers = defObj.drivers\n  }\n\n  return {\n    serverName,\n    get: function(key) {\n      return data[key]\n    },\n    emit,\n    connect: function(connectionInfo) {\n      function success() {\n        let promises = []\n        let ev\n        while (ev = eventQueue.pop()) {\n          promises.push(new Promise(function(resolve, reject) {\n            events[ev.name](ev.value, resolve, reject)\n          }))\n        }\n        // TODO: handle errors\n        Promise.all(promises)\n          .then(() => init(() => 0, () => 0))\n      }\n\n      defObj.connect(connectionInfo, (isQueued) ? success : init(() => 0, () => 0))\n    },\n    tasks: defObj.tasks,\n    drivers: defObj.drivers,\n    subscribeAll,\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/service.js\n **/","\n// common fetch utils\n\nconst fetchObj = obj => {\n  let handled = false\n  let status = (response) => {\n    if (response.status >= 200 && response.status < 300) {\n      handled = true\n      return Promise.resolve(response)\n    } else {\n      if (response.status == 401 || response.status == 403) {\n        obj.error('denied', response.status)\n      } else {\n        obj.error('error', response.status)\n      }\n      handled = true\n      return Promise.reject(new Error(response.statusText))\n    }\n  }\n\n  return fetch(obj.url, obj.options)\n  .then(status)\n  .then(obj.response)\n  .then(obj.success)\n  .catch(err => {\n    if (!handled) {\n      obj.error('netError', err)\n    } else {\n      console.log('ERROR in fetch handler!!!')\n      console.error(err)\n    }\n  })\n}\n\nconst fetchAll = (objs, success) => {\n\n  let promiseArray = objs.map((obj, i) => {\n    let handled = false\n    let status = (response) => {\n      if (response.status >= 200 && response.status < 300) {\n        handled = true\n        return Promise.resolve(response)\n      } else {\n        if (response.status == 401 || response.status == 403) {\n          obj.error('denied', response.status)\n        } else {\n          obj.error('error', response.status)\n        }\n        handled = true\n        return Promise.reject(new Error(response.statusText))\n      }\n    }\n\n    return fetch(obj.url, obj.options)\n      .then(status)\n      .then(obj.response)\n      .then\n  })\n\n  return Promise.all(promiseArray)\n  .then(success)\n}\n\nexport default {\n  fetch: fetchObj,\n  fetchAll,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/data.js\n **/","var _curry1 = require('./internal/_curry1');\nvar curryN = require('./curryN');\n\n\n/**\n * Returns a curried equivalent of the provided function. The curried\n * function has two unusual capabilities. First, its arguments needn't\n * be provided one at a time. If `f` is a ternary function and `g` is\n * `R.curry(f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN\n * @example\n *\n *      var addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      var curriedAddFourNumbers = R.curry(addFourNumbers);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ramda/src/curry.js\n **/","const F = {...require('../core').default, ...require('../utils/composing').default}\r\nconst h = require('snabbdom/h')\r\n\r\n\r\nexport default F.def({\r\n  init: ({key}) => ({key}),\r\n  inputs: {},\r\n  actions: {},\r\n  interfaces: {\r\n    view: (ctx, i, m) => h('div', 'There are no children'),\r\n  },\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/noChildren.js\n **/","let logVal = (x, scope = '__') => {\r\n  console.log(`%c ${x} in ${scope}`, 'color: purple; font-size: 20px')\r\n  return x\r\n}\r\n\r\nexport default {\r\n  logVal,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/test.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    setFocused: [String, R.T, R.T],\r\n    addWindowListener: [String, R.T],\r\n    removeWindowListener: [String, R.T],\r\n  }),\r\n  task: function(rootSelector) {\r\n    let taskFn = this.types.caseOn({\r\n      setFocused: (elementSelector, focused, {success = () => 0, error = () => 0}) => {\r\n        let elements = document.querySelectorAll(`${rootSelector} ${elementSelector}`)\r\n        if (elements.length === 1) {\r\n          if (focused) {\r\n            elements[0].focus()\r\n          } else {\r\n            elements[0].blur()\r\n          }\r\n          return success()\r\n        }\r\n        error(`No element selected at: ${rootSelector} ${elementSelector}`)\r\n      },\r\n      addWindowListener: (eventName, subsfn) => {\r\n        window.addEventListener(eventName, subsfn)\r\n      },\r\n      removeWindowListener: (eventName, subsfn) => {\r\n        window.removeEventListener(eventName, subsfn)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/view.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    emit: [String, R.T, R.T],\r\n  }),\r\n  task: function(emitData) {\r\n    let taskFn = this.types.caseOn({\r\n      emit: (key, value, {success = () => 0, error = () => 0}) => {\r\n        emitData(key, value, {success, error})\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/data.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    send: [String],\r\n  }),\r\n  task: function(sendValue) {\r\n    let taskFn = this.types.caseOn({\r\n      send: (value) => {\r\n        sendValue(value)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/value.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n// emitter should implement emit function\r\nexport default {\r\n  types: Type({\r\n    emit: [String, R.T, R.T],\r\n  }),\r\n  task: function(emt) {\r\n    let emitter = emt\r\n    let taskFn = this.types.caseOn({\r\n      emit: (channel, message, success = () => {}) => {\r\n        if (emitter != undefined) {\r\n          emitter.emit(channel, message, success)\r\n        }\r\n      },\r\n    })\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: emitter,\r\n      set: function(emt) {emitter = emt},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/emitter.js\n **/","import Type from 'union-type'\r\nimport data from '../utils/data'\r\nconst R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    fetch: [Object],\r\n  }),\r\n  task: function() {\r\n    let taskFn = this.types.caseOn({\r\n      fetch: (obj) => data.fetch(obj),\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(obj) {\r\n        // perform side effect\r\n        return taskFn(obj, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/fetch.js\n **/","let Type = require('union-type')\r\nlet R = {\r\n  T: require('ramda/src/T')\r\n}\r\n\r\n\r\nexport default {\r\n  types: Type({\r\n    read: [R.T, R.T],\r\n  }),\r\n  task: function() {\r\n    let taskFn = this.types.caseOn({\r\n      read: (file, {success = () => 0, error = () => 0}) => {\r\n        var reader = new FileReader()\r\n        reader.onload = function(ev) {\r\n          var contents = ev.target.result\r\n          success(contents)\r\n        }\r\n        reader.onerror = () => error(`Error reading ${file}`)\r\n        reader.readAsText(file)\r\n      },\r\n    })\r\n\r\n    // task runner\r\n    return {\r\n      run: function(task) {\r\n        // perform side effect\r\n        taskFn(task, '')\r\n      },\r\n      get: {},\r\n    }\r\n  },\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/tasks/file.js\n **/","\r\nconst flyd = require('flyd')\r\nconst h = require('snabbdom/h')\r\n\r\n// Common snabbdom patch function (convention over configuration)\r\nconst patch = require('snabbdom').init([\r\n  require('snabbdom/modules/class'),\r\n  require('snabbdom/modules/attributes'),\r\n  require('snabbdom/modules/props'),\r\n  require('snabbdom/modules/eventlisteners'),\r\n  require('snabbdom/modules/style'),\r\n])\r\n\r\nexport default function view(selector, patchfn = patch) {\r\n  let lastContainer, renderer$\r\n  return {\r\n    attach: (vnode$) => {\r\n      window.addEventListener('DOMContentLoaded', function() {\r\n        let container = document.querySelector(selector)\r\n        renderer$ = flyd.scan(patchfn, container, vnode$.map(vnode => h('div' + selector, [vnode])))\r\n      })\r\n    },\r\n    reattach: (vnode$) => {\r\n      lastContainer = patchfn(document.querySelector(selector), h('div' + selector))\r\n      renderer$ = flyd.scan(patchfn, lastContainer, vnode$.map(vnode => h('div' + selector, [vnode])))\r\n    },\r\n    dispose: () => {\r\n      renderer$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/view.js\n **/","// jshint newcap: false\n/* global require, module, document, Node */\n'use strict';\n\nvar VNode = require('./vnode');\nvar is = require('./is');\nvar domApi = require('./htmldomapi');\n\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\n\nvar emptyNode = VNode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1, vnode2) {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n  var i, map = {}, key;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) map[key] = i;\n  }\n  return map;\n}\n\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nfunction init(modules, api) {\n  var i, j, cbs = {};\n\n  if (isUndef(api)) api = domApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (modules[j][hooks[i]] !== undefined) cbs[hooks[i]].push(modules[j][hooks[i]]);\n    }\n  }\n\n  function emptyNodeAt(elm) {\n    var id = elm.id ? '#' + elm.id : '';\n    var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return VNode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm, listeners) {\n    return function() {\n      if (--listeners === 0) {\n        var parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode, insertedVnodeQueue) {\n    var i, data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    var elm, children = vnode.children, sel = vnode.sel;\n    if (isDef(sel)) {\n      // Parse selector\n      var hashIdx = sel.indexOf('#');\n      var dotIdx = sel.indexOf('.', hashIdx);\n      var hash = hashIdx > 0 ? hashIdx : sel.length;\n      var dot = dotIdx > 0 ? dotIdx : sel.length;\n      var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                                                          : api.createElement(tag);\n      if (hash < dot) elm.id = sel.slice(hash + 1, dot);\n      if (dotIdx > 0) elm.className = sel.slice(dot + 1).replace(/\\./g, ' ');\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          api.appendChild(elm, createElm(children[i], insertedVnodeQueue));\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      i = vnode.data.hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      elm = vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      api.insertBefore(parentElm, createElm(vnodes[startIdx], insertedVnodeQueue), before);\n    }\n  }\n\n  function invokeDestroyHook(vnode) {\n    var i, j, data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (isDef(i = vnode.children)) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          invokeDestroyHook(vnode.children[j]);\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var i, listeners, rm, ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n    var oldStartIdx = 0, newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, elmToMove, before;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        idxInOld = oldKeyToIdx[newStartVnode.key];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n          oldCh[idxInOld] = undefined;\n          api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      before = isUndef(newCh[newEndIdx+1]) ? null : newCh[newEndIdx+1].elm;\n      addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n    var i, hook;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    var elm = vnode.elm = oldVnode.elm, oldCh = oldVnode.children, ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (!sameVnode(oldVnode, vnode)) {\n      var parentElm = api.parentNode(oldVnode.elm);\n      elm = createElm(vnode, insertedVnodeQueue);\n      api.insertBefore(parentElm, elm, oldVnode.elm);\n      removeVnodes(parentElm, [oldVnode], 0, 0);\n      return;\n    }\n    if (isDef(vnode.data)) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      api.setTextContent(elm, vnode.text);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function(oldVnode, vnode) {\n    var i, elm, parent;\n    var insertedVnodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (isUndef(oldVnode.sel)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n\nmodule.exports = {init: init};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/snabbdom.js\n **/","function createElement(tagName){\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI, qualifiedName){\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text){\n  return document.createTextNode(text);\n}\n\n\nfunction insertBefore(parentNode, newNode, referenceNode){\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\n\nfunction removeChild(node, child){\n  node.removeChild(child);\n}\n\nfunction appendChild(node, child){\n  node.appendChild(child);\n}\n\nfunction parentNode(node){\n  return node.parentElement;\n}\n\nfunction nextSibling(node){\n  return node.nextSibling;\n}\n\nfunction tagName(node){\n  return node.tagName;\n}\n\nfunction setTextContent(node, text){\n  node.textContent = text;\n}\n\nmodule.exports = {\n  createElement: createElement,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  appendChild: appendChild,\n  removeChild: removeChild,\n  insertBefore: insertBefore,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/htmldomapi.js\n **/","function updateClass(oldVnode, vnode) {\n  var cur, name, elm = vnode.elm,\n      oldClass = oldVnode.data.class,\n      klass = vnode.data.class;\n\n  if (!oldClass && !klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      elm.classList[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nmodule.exports = {create: updateClass, update: updateClass};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/class.js\n **/","var NamespaceURIs = {\n  \"xlink\": \"http://www.w3.org/1999/xlink\"\n};\n\nvar booleanAttrs = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n                \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n                \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n                \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n                \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n                \"truespeed\", \"typemustmatch\", \"visible\"];\n\nvar booleanAttrsDict = Object.create(null);\nfor(var i=0, len = booleanAttrs.length; i < len; i++) {\n  booleanAttrsDict[booleanAttrs[i]] = true;\n}\n\nfunction updateAttrs(oldVnode, vnode) {\n  var key, cur, old, elm = vnode.elm,\n      oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs, namespaceSplit;\n\n  if (!oldAttrs && !attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      if(!cur && booleanAttrsDict[key])\n        elm.removeAttribute(key);\n      else {\n        namespaceSplit = key.split(\":\");\n        if(namespaceSplit.length > 1 && NamespaceURIs.hasOwnProperty(namespaceSplit[0]))\n          elm.setAttributeNS(NamespaceURIs[namespaceSplit[0]], key, cur);\n        else\n          elm.setAttribute(key, cur);\n      }\n    }\n  }\n  //remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nmodule.exports = {create: updateAttrs, update: updateAttrs};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/attributes.js\n **/","function updateProps(oldVnode, vnode) {\n  var key, cur, old, elm = vnode.elm,\n      oldProps = oldVnode.data.props, props = vnode.data.props;\n\n  if (!oldProps && !props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete elm[key];\n    }\n  }\n  for (key in props) {\n    cur = props[key];\n    old = oldProps[key];\n    if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n      elm[key] = cur;\n    }\n  }\n}\n\nmodule.exports = {create: updateProps, update: updateProps};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/props.js\n **/","function invokeHandler(handler, vnode, event) {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call handler with arguments\n    if (typeof handler[0] === \"function\") {\n      // special case for single argument for performance\n      if (handler.length === 2) {\n        handler[0].call(vnode, handler[1], event, vnode);\n      } else {\n        var args = handler.slice(1);\n        args.push(event);\n        args.push(vnode);\n        handler[0].apply(vnode, args);\n      }\n    } else {\n      // call multiple handlers\n      for (var i = 0; i < handler.length; i++) {\n        invokeHandler(handler[i]);\n      }\n    }\n  }\n}\n\nfunction handleEvent(event, vnode) {\n  var name = event.type,\n      on = vnode.data.on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event) {\n    handleEvent(event, handler.vnode);\n  }\n}\n\nfunction updateEventListeners(oldVnode, vnode) {\n  var oldOn = oldVnode.data.on,\n      oldListener = oldVnode.listener,\n      oldElm = oldVnode.elm,\n      on = vnode && vnode.data.on,\n      elm = vnode && vnode.elm,\n      name;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    var listener = vnode.listener = oldVnode.listener || createListener();\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/eventlisteners.js\n **/","var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function(fn) { raf(function() { raf(fn); }); };\n\nfunction setNextFrame(obj, prop, val) {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode, vnode) {\n  var cur, name, elm = vnode.elm,\n      oldStyle = oldVnode.data.style,\n      style = vnode.data.style;\n\n  if (!oldStyle && !style) return;\n  oldStyle = oldStyle || {};\n  style = style || {};\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      elm.style[name] = '';\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed') {\n      for (name in style.delayed) {\n        cur = style.delayed[name];\n        if (!oldHasDel || cur !== oldStyle.delayed[name]) {\n          setNextFrame(elm.style, name, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      elm.style[name] = cur;\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode) {\n  var style, name, elm = vnode.elm, s = vnode.data.style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    elm.style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode, rm) {\n  var s = vnode.data.style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  var name, elm = vnode.elm, idx, i = 0, maxDur = 0,\n      compStyle, style = s.remove, amount = 0, applied = [];\n  for (name in style) {\n    applied.push(name);\n    elm.style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm);\n  var props = compStyle['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  elm.addEventListener('transitionend', function(ev) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nmodule.exports = {create: updateStyle, update: updateStyle, destroy: applyDestroyStyle, remove: applyRemoveStyle};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/snabbdom/modules/style.js\n **/","const flyd = require('flyd')\r\n\r\n\r\nexport default function event(cb) {\r\n  return {\r\n    listener$: null,\r\n    attach: function (event$) {\r\n      this.listener$ = flyd.on(cb, event$)\r\n    },\r\n    reattach: function (event$) {\r\n      this.listener$ = flyd.on(cb, event$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/event.js\n **/","// WORKING\r\nconst flyd = require('flyd')\r\n\r\n// l should implement removeAllListeners and on functions\r\nexport default function listenable(l) {\r\n\r\n  let listenable = l || {}\r\n\r\n  /* In the form: {\r\n    listenerName1: [listenerFn1, listenerFn2, ...],\r\n    listenerName2: [listenerFn1, listenerFn2, ...],\r\n  }\r\n  */\r\n  let listeners\r\n\r\n  if (!listenable.removeAllListeners) {\r\n    listenable.removeAllListeners = () => {}\r\n  }\r\n\r\n  function setSubscribers(subs) {\r\n\r\n    listeners = {}\r\n\r\n    for (let subscriber in subs) {\r\n      let parts = subscriber.split('_')\r\n      let name = parts[parts.length - 1]\r\n      if (listeners[name]) {\r\n        listeners[name].push(subs[subscriber])\r\n      } else {\r\n        listeners[name] = [subs[subscriber]]\r\n      }\r\n    }\r\n\r\n    setListeners()\r\n  }\r\n\r\n  function setListeners() {\r\n    for (let listenerName in listeners) {\r\n      let listenerArr = listeners[listenerName]\r\n      if (listenerArr.length > 0 && listenable != undefined) {\r\n        listenable.removeAllListeners(listenerName)\r\n        for (let i = listenerArr.length - 1; i >= 0; i--) {\r\n          listenable.on(listenerName, listenerArr[i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    listener$: null,\r\n    attach: function (event$) {\r\n      this.listener$ = flyd.on(setSubscribers, event$)\r\n    },\r\n    reattach: function (event$) {\r\n      this.listener$ = flyd.on(setSubscribers, event$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n    },\r\n    get: function() {return listenable},\r\n    set: function(s) {\r\n      listenable = s\r\n      setListeners()\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/listenable.js\n **/","\r\nconst flyd = require('flyd')\r\n\r\nexport default function load() {\r\n  return {\r\n    attach: (vnode$) => {\r\n      flyd.on(f => {\r\n      \tf()\r\n      \tvnode$.end(true)\r\n      }, vnode$)\r\n    },\r\n    reattach: (vnode$) => {\r\n    },\r\n    dispose: () => {\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/load.js\n **/","const R = {\r\n  mapObjIndexed: require('ramda/src/mapObjIndexed'),\r\n}\r\nconst flyd = require('flyd')\r\n\r\n\r\n//// time driver module ----\r\nlet stateNames = ['pending', 'running', 'paused']\r\nlet timerPatch = (timeData, obj) => {\r\n  // TODO: Do a better implementation of this driver\r\n  let id = timeData.id\r\n  if (obj.periodic) {\r\n    if (obj.active && obj.active != timeData.active) {\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    } else if (!obj.active && obj.active != timeData.active) {\r\n      clearInterval(id)\r\n      id = null\r\n    } else if (obj.time != timeData.time) {\r\n      clearInterval(id)\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    } else if (id && obj.periodic != timeData.periodic) {\r\n      clearTimeout(id)\r\n      id = setInterval(() => obj.on(timeData), obj.time)\r\n    }\r\n  } else {\r\n    if (obj.active && obj.active != timeData.active) {\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    } else if (!obj.active && obj.active != timeData.active) {\r\n      clearTimeout(id)\r\n      id = null\r\n    } else if (obj.time != timeData.time) {\r\n      clearTimeout(id)\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    } else if (obj.periodic != timeData.periodic) {\r\n      clearInterval(id)\r\n      id = setTimeout(() => obj.on(timeData), obj.time)\r\n    }\r\n  }\r\n  return {\r\n    id,\r\n    periodic: obj.periodic,\r\n    active: obj.active,\r\n    time: obj.time,\r\n    on: obj.on,\r\n    state: obj.state,\r\n  }\r\n}\r\n\r\nlet timerListPatch = (lastList, list) => {\r\n  // dispose removed timers\r\n  for (var name in lastList) {\r\n    if (!list[name]) {\r\n      if (lastList[name].periodic)\r\n        clearInterval(lastList[name].id)\r\n      else\r\n        clearTimeout(lastList[name].id)\r\n    }\r\n  }\r\n\r\n  return R.mapObjIndexed((obj, name) => timerPatch(lastList[name] || {}, obj), list)\r\n}\r\n\r\nexport default function time() {\r\n  // babel or JS bug the stack is deleted and listener$ in not accesible from attach\r\n  // solution use normal functions (not arrows) and merge listener$ in the object\r\n  // let listener$\r\n  return {\r\n    listener$: null,\r\n    attach: function (time$) {\r\n      this.listener$ = flyd.scan(timerListPatch, {}, time$)\r\n    },\r\n    reattach: function (time$) {\r\n      this.listener$ = flyd.scan(timerListPatch, {}, time$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/time.js\n **/","const flyd = require('flyd')\r\n\r\nexport default function localStorage(name) {\r\n  let listener$\r\n  return {\r\n    attach: (data$) => {\r\n      listener$ = flyd.on(data => {\r\n      \tlocalStorage.setItem(name, JSON.stringify(data))\r\n      }, data$)\r\n    },\r\n    reattach: (data$) => {\r\n      listener$.end(true)\r\n      listener$ = flyd.on(data => {\r\n        localStorage.setItem(name, JSON.stringify(data))\r\n      }, data$)\r\n    },\r\n    dispose: () => {\r\n      localStorage.removeItem(name)\r\n      listener$.end(true)\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/localStorage.js\n **/","const flyd = require('flyd')\r\nconst {screenInfo} = require('../../lib/utils/screenInfo')\r\n\r\n// difing is not necesary beacuse there is no use case in that the screen size has a bunch of changes\r\nexport default function screenInfoDriver() {\r\n  return {\r\n    listener$: null,\r\n    screenListener: null,\r\n    attach: function (screen$) {\r\n      this.listener$ = flyd.on(list => {\r\n        this.screenListener = () => {\r\n          let info = screenInfo()\r\n          for (let key in list) {\r\n            list[key].on(info)\r\n          }\r\n        }\r\n        window.addEventListener('resize', this.screenListener)\r\n      }, screen$)\r\n    },\r\n    reattach: function (screen$) {\r\n      this.listener$ = flyd.on(list => {\r\n        this.screenListener = () => {\r\n          let info = screenInfo()\r\n          for (let key in list) {\r\n            list[key].on(info)\r\n          }\r\n        }\r\n        window.addEventListener('resize', this.screenListener)\r\n      }, screen$)\r\n    },\r\n    dispose: function () {\r\n      this.listener$.end(true)\r\n      window.removeEventListener('resize', this.screenListener)\r\n      this.screenListener = null\r\n    },\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/drivers/screenInfo.js\n **/","// Helper functions taken from https://github.com/garth/snabbdom-material/tree/master/src/helpers\r\n\r\nlet screenSize = () => {\r\n  return {\r\n    width: (!!window && (window.innerWidth || document.body.clientWidth)) || 1024,\r\n    height: (!!window && (window.innerHeight || document.body.clientHeight)) || 768\r\n  }\r\n}\r\n\r\nconst types = [ 'xs', 'sm', 'md', 'lg' ]\r\n\r\nlet screenInfo = () => {\r\n  const { width, height } = screenSize()\r\n  const size = width >= 1200 ? 4 : width >= 992 ? 3 : width >= 768 ? 2 : 1\r\n\r\n  return {\r\n    size,\r\n    type: types[size - 1],\r\n    isLandscape: width >= height,\r\n    isPortrait: width < height\r\n  }\r\n}\r\n\r\nexport default {\r\n  screenSize,\r\n  screenInfo,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils/screenInfo.js\n **/"],"sourceRoot":""}